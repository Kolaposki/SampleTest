webpackJsonp([84],{"JC4+":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("overlay-scrollbars",{staticClass:"main-content-wrap"},[e("div",{staticClass:"d-flx-alc-jsb page-extras"},[e("label",{staticClass:"search-w-icon"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),e("svg",[e("use",{attrs:{href:"/uploads/icons.svg#search"}})])])]),e("div",{staticClass:"inner-main-wrapper"},[e("overlay-scrollbars",{staticClass:"table-wrapper"},[e("figcaption",{staticClass:"sr"},[t._v("\n        A table showing information of categories\n      ")]),e("table",{staticClass:"table-content"},[e("thead",{},[e("tr",[e("th",{staticClass:"large-space column-name"},[t._v("Operation Name")]),e("th",{staticClass:"column-name"},[t._v("Status")]),e("th",{staticClass:"column-name"},[t._v("Time stamp")]),e("th",{staticClass:"column-name"},[t._v("Event Initiated by")]),e("th",{staticClass:"column-name"},[t._v("Action")])])]),e("tbody",{staticClass:"tablebody"},[t.loading?e("tr",[e("td",{attrs:{colspan:"7"}},[t._v("Loading...please wait")])]):t._e(),!t.loading&&t.filteredList.length<1?e("tr",[e("td",{attrs:{colspan:"7"}},[t._v("No record at the moment")])]):t._e(),t._l(t.filteredList,function(a,s){return!t.loading&&t.filteredList.length>0?e("tr",{key:s},[e("td",{staticClass:"column-name"},[t._v(t._s(a.operationname))]),1==a.status?e("td",{staticClass:"column-name"},[t._v("Successful")]):e("td",{staticClass:"column-name"},[t._v("Failed")]),e("td",{staticClass:"column-name"},[t._v(t._s(t.$moment(a.created_at).format("Do MMMM YYYY, h:mm a")))]),e("td",{staticClass:"column-name"},[t._v(t._s(a.user))]),e("td",{staticClass:"column-name"},[e("button",{staticClass:"btn btn--primary mt-1",attrs:{type:"submit"},on:{click:function(a){return t.viewactivity()}}},[t._v("\n            View Details\n              ")])])]):t._e()})],2)]),e("div",{attrs:{id:"view-activity","uk-modal":"","data-uk-modal":"{target:'#view-activity',bgclose:false}",container:"#parent-component"}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button"},on:{click:t.closeviewactivity}},[t._v("X")]),e("div",{staticClass:"modal-header"},[e("h2",[t._v("\n              View Activity Details\n            ")])])])])])],1)])};s._withStripped=!0;var i={render:s,staticRenderFns:[]};a.a=i},fU57:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("qWo3"),i=e("JC4+"),n=e("VU/8")(s.a,i.a,!1,null,null,null);n.options.__file="pages/activity/index.vue",a.default=n.exports},qWo3:function(t,a,e){"use strict";(function(t){a.a={layout:"main",computed:{filteredList:function(){var t=this;return this.activities.filter(function(a){if(null!=a.operationname&&a.operationname.toLowerCase().includes(t.search.toLowerCase()))return null!=a.operationname&&a.operationname.toLowerCase().includes(t.search.toLowerCase())})}},data:function(){return{activities:[],search:"",loading:!0,formData:{merchID:"",startdate:"2022-05-03 12:00 am",enddate:"2022-05-04 12:00 am"}}},methods:{getActivityLog:function(){var t=this;this.$store.dispatch("license/getActivityLog",this.formData).then(function(a){if(a.data.status)return t.activities=a.data.data,void(t.loading=!1);t.loading=!1,t.$toast.error("An error has occurred")}).catch(function(a){t.loading=!1,t.$toast.error("An error has occurred")})},calculateExpiry:function(t){var a=this.$moment().format("YYYY-MM-DD"),e=this.$moment(t).format("YYYY-MM-DD");return!!this.$moment(a).isAfter(e)},viewactivity:function(){t("#view-activity").addClass("uk-open").show()},closeviewactivity:function(){t("#view-activity").removeClass("uk-open").hide()}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.getActivityLog()}}}).call(a,e("7t+N"))}});