webpackJsonp([59],{EcdW:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("overlay-scrollbars",{staticClass:"page-extras d-flx-alc-jsb settings-extra"},[a("div",{staticClass:"links-wrap"},[a("nuxt-link",{attrs:{to:"/settings"}},[t._v("Basic details")]),a("nuxt-link",{attrs:{to:"/settings/contact-details"}},[t._v("Contact Details")]),a("nuxt-link",{attrs:{to:"/settings/change-password"}},[t._v("Change Password")])],1)]),a("div",{staticClass:"inner-main-wrapper"},[a("div",{staticClass:"box-deco-bg p-3"},[a("section",{staticClass:"setting-section"},[a("div",{staticClass:"d-flx-alc-jsb table-title"},[a("h3",{staticClass:"section-title"},[t._v("PRODUCT FEATURE")]),a("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.openModal}},[t._v("\n            + Add new\n          ")])]),a("overlay-scrollbars",{staticClass:"table-wrapper no-deco"},[a("table",{staticClass:"table-content"},[a("thead",{},[a("tr",[a("th",{},[t._v("Feature type")]),a("th",{},[t._v("Feature name")]),a("th",{},[t._v("Action")])])]),a("tbody",{staticClass:"tablebody"},[t.loading?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Loading...please wait")])]):t._e(),!t.loading&&t.features.length<1?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("No record at the moment. Please add a feature.")])]):t._e(),t._l(t.features,function(e){return!t.loading&&t.features.length>0?a("tr",{key:e.id},[a("td",{staticStyle:{color:"#353190"}},[t._v(t._s(e.featuretype))]),a("td",[t._v(t._s(e.featurename))]),a("td",{staticClass:"d-flx-alc"},[a("button",{staticClass:"btn btn-icon",attrs:{title:"Edit",type:"button"},on:{click:function(a){return t.editFeature(e)}}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#edit"}})])])])]):t._e()})],2)])])],1),a("div",{attrs:{id:"add-features",container:"#parent-component","uk-modal":""}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.clearForm}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Add Product feature")]),a("p",[t._v("Enter the details to create a new product feature")])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveProductFeatures.apply(null,arguments)}}},[a("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[t._l(t.productFeatures,function(e,s){return a("div",{key:s,staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.options},on:{select:function(e){return t.changeType(e,s)}},model:{value:e.featuretype,callback:function(a){t.$set(e,"featuretype",a)},expression:"input.featuretype"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.featurename,expression:"input.featurename"}],attrs:{type:"text"},domProps:{value:e.featurename},on:{input:function(a){a.target.composing||t.$set(e,"featurename",a.target.value)}}})])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s==t.productFeatures.length-1,expression:"k == productFeatures.length-1"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.addChild(s)}}},[t._v("\n                      +\n                    ")])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s||!s&&t.productFeatures.length>1,expression:"k || ( !k && productFeatures.length > 1)"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.removeChild(s)}}},[t._v("\n                      -\n                    ")])])])}),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button",id:"cancelBtn"},on:{click:t.clearForm}},[t._v("\n                    Cancel\n                  ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"submitBtn",type:"submit"}},[t._v("\n                    + Add feature(s)\n                  ")])])],2)])])]),a("div",{attrs:{id:"edit-features",container:"#parent-component","uk-modal":""}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeEditModal}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Update Product feature")]),a("p",[t._v("Enter the details to update a new product feature")])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProductFeatures.apply(null,arguments)}}},[a("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.options},model:{value:t.editData.featuretype,callback:function(e){t.$set(t.editData,"featuretype",e)},expression:"editData.featuretype"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.featurename,expression:"editData.featurename"}],attrs:{type:"text"},domProps:{value:t.editData.featurename},on:{input:function(e){e.target.composing||t.$set(t.editData,"featurename",e.target.value)}}})])])]),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.closeEditModal}},[t._v("\n                    Cancel\n                  ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"updateBtn",type:"submit"}},[t._v("\n                    + Update feature\n                  ")])])])])])])])])],1)};s._withStripped=!0;var i={render:s,staticRenderFns:[]};e.a=i},icU5:function(t,e,a){"use strict";(function(t){e.a={layout:"main",data:function(){return{loading:!0,formData:{merchID:""},features:[],productFeatures:[{featuretype:"",featurename:"",merchID:""}],editData:{id:"",featuretype:"",featurename:"",merchID:""},options:[{id:"size",text:"Size"},{id:"weight",text:"Weight"},{id:"color",text:"Color"}]}},computed:{isCourierService:function(){return this.user.businessdescription.toLowerCase().includes("delivery")}},methods:{saveProductFeatures:function(){var e=this;this.formData.features=this.productFeatures,t("#submitBtn").attr("disabled",!0).html("Adding feature..please wait"),this.$store.dispatch("products/addFeatures",this.formData).then(function(t){if(t.data.status)return e.$toast.success(t.data.message),e.listFeatures(),void e.clearForm();e.$toast.error("An error occurred")}).catch(function(e){t("#submitBtn").attr("disabled",!1).html("+ Add feature(s)"),console.log(e)})},updateProductFeatures:function(){},listFeatures:function(){var t=this;this.$store.dispatch("products/listFeatures",this.formData.merchID).then(function(e){t.loading=!1,t.features=e.data.data}).catch(function(e){t.loading=!1,console.log(e)})},editFeature:function(t){this.editData.id=t.id,this.editData.featurename=t.featurename,this.editData.featuretype=t.featuretype,this.editData.merchID=t.merchID,UIkit.modal("#edit-features").toggle()},closeEditModal:function(){this.editData.id="",this.editData.featurename="",this.editData.featuretype="",this.editData.merchID="",UIkit.modal("#edit-features").toggle("hide")},changeType:function(t,e){t.id,t.text;this.productFeatures[e].merchID=this.formData.merchID},clearForm:function(){this.formData={productfeatures:[]},this.productFeatures=[{featuretype:"",featurename:"",merchID:""}],UIkit.modal("#add-features").toggle("hide")},openModal:function(){UIkit.modal("#add-features").toggle()},addChild:function(){this.productFeatures.push({featuretype:"",featurename:"",merchID:""})},removeChild:function(t){this.productFeatures.splice(t,1)}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listFeatures()}}}).call(e,a("7t+N"))},kuiH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("icU5"),i=a("EcdW"),n=a("VU/8")(s.a,i.a,!1,null,null,null);n.options.__file="pages/settings/product-feature/index.vue",e.default=n.exports}});