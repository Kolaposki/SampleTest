webpackJsonp([54],{"6HT6":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("AG8/"),s=r("c1zg"),o=!1;var i=function(e){o||r("Q83w")},d=r("VU/8")(a.a,s.a,!1,i,"data-v-442b224c",null);d.options.__file="pages/campaign/index.vue",t.default=d.exports},"AG8/":function(e,t,r){"use strict";(function(e){t.a={layout:"main",data:function(){return{loading:!0,pickupGeoCode:{formatted_address:"",latitude:"",longitude:""},showLoyaltyRule:!0,showPromoCode:!1,tabs:["Loyalty","Promocode"],selectedTab:"Loyalty",deliveryGeoCode:[],formData:{merchID:""},courierOptionValue:"",courierSenderValue:"",sendersName:"",sendersNumber:"",sendersAddress:"",itemName:"",itemQty:"",source:"",orderCategoryValue:"",orderCategory:[{id:"Delivery",text:"Delivery"},{id:"Food",text:"Food"}],packageCategoryValue:"",delivery:[{receiversName:"",receiversNumber:"",address:"",landmark:"",deliveryNote:""}],payMethod:"",courierOptions:[{id:"pool",text:"Pool"},{id:"express",text:"Express"}],courierSender:[{id:"sender",text:"Send a package"},{id:"receiver",text:"Receive a package"},{id:"third-party",text:"Third Party"}],packageCategory:[{id:"gadgets",text:"Gadgets"},{id:"food",text:"Food"},{id:"health",text:"Health"},{id:"products",text:"Products"},{id:"documents",text:"Documents"},{id:"others",text:"Others"}],paymentMethodValue:"",paymentMethod:[{id:"card",text:"Card"},{id:"wallet",text:"Wallet"},{id:"cash",text:"Cash"},{id:"banktransfer",text:"Bank Transfer"}],sources:[{id:"cooperatesales",text:"Cooperate Sales"},{id:"callandwhatsapp",text:"Call and Whatsapp"},{id:"socialmedia",text:"Social Media"}],scheduleValue:"",scheduletime:"",scheduleOrder:[{id:"now",text:"Now"},{id:"scheduletime",text:"Scheduled"}],branches:[],branch:"",errorData:{phoneNumber:!1,sendersAddress:!0,deliveryAddress:!0}}},computed:{isCourierService:function(){return this.user.businessdescription.toLowerCase().includes("delivery")}},methods:{setTab:function(e){this.selectedTab=e,this.showLoyaltyRule=!this.showLoyaltyRule,this.showPromoCode=!this.showPromoCode},getCoordinates:function(e,t,r){var a=window.google,s=new a.maps.places.PlacesService(document.getElementById("map"));if(""!=e){var o={query:e,fields:["name","geometry","formatted_address"]},i=this;try{s.findPlaceFromQuery(o,function(e,s){return s===a.maps.places.PlacesServiceStatus.OK?("sender"==t&&e[0].geometry.location.lng()&&e[0].geometry.location.lat()&&(i.pickupGeoCode.longitude=e[0].geometry.location.lng(),i.pickupGeoCode.latitude=e[0].geometry.location.lat(),i.pickupGeoCode.formatted_address=e[0].formatted_address,i.$toast.success("Address coordinates found")),void("delivery"==t&&(i.deliveryGeoCode[r]={formatted_address:e[0].formatted_address,latitude:e[0].geometry.location.lat(),longitude:e[0].geometry.location.lng()},i.$toast.success("Address coordinates found")))):void i.$toast.error("Address cordinates not found. Please enter an address with street name, city and state")})}catch(e){console.log(e)}}},validatePhonenumber:function(e){/^\d{11}$/.test(e)?this.errorData.phoneNumber=!1:(this.$toast.error("Invalid phone number entered. It must be 11-digits"),this.errorData.phoneNumber=!0)},addNew:function(){this.delivery.push({receiversName:"",receiversNumber:"",address:"",landmark:"",deliveryNote:""})},remove:function(e){this.delivery.splice(e,1)},placeorder:function(){var t,r=this;e("#placeOrderBtn").attr("disabled",!0).html("Submitting..please wait");var a=[];if(this.deliveryGeoCode.forEach(function(e){e.latitude&&e.longitude&&(r.errorData.deliveryAddress=!1)}),this.pickupGeoCode.latitude&&this.pickupGeoCode.longitude?this.errorData.sendersAddress=!1:this.errorData.sendersAddress=!0,""==this.scheduletime&&(this.scheduletime="now"),this.errorData.phoneNumber||this.errorData.deliveryAddress||this.errorData.sendersAddress)this.$toast.error("Error found in detail(s) provided. Cross-check and try again"),e("#placeOrderBtn").attr("disabled",!1).html("Submit");else{for(var s=0;s<this.delivery.length;s++)a.push({area:"none",city:"none",deliveryaddress:this.deliveryGeoCode[s].formatted_address,deliverylatitude:this.deliveryGeoCode[s].latitude,deliverylongitude:this.deliveryGeoCode[s].longitude,landmark:this.delivery[s].landmark,receivername:this.delivery[s].receiversName,deliveryinstruction:this.delivery[s].deliveryNote,receiverphonenumber:this.delivery[s].receiversNumber,state:"none"});t={ordercode:"",ordertotal:0,merchID:this.formData.merchID,branchID:Number(this.branch),riderID:"",deliverycharge:0,ETA:"",orderstatus:"pending",paymentstatus:"PAID",ordertype:"",ordermethod:this.courierOptionValue,ordercategory:"Delivery",pickupaddress:this.pickupGeoCode.formatted_address,sendername:this.sendersName,senderphone:this.sendersNumber,pickuplongitude:this.pickupGeoCode.longitude,pickuplatitude:this.pickupGeoCode.latitude,paymentreference:"",paymentaccountname:"",paymentaccountnumber:"",deliveryinstruction:"",itemname:this.itemName,itemquantity:this.itemQty,weight:"100",discountpayment:"0.00",vechicletype:"bike",staffID:this.formData.merchID,deliverylocation:a,itemcategory:this.packageCategoryValue,paymentmethod:this.paymentMethodValue,source:this.source,customerID:"",scheduletime:this.scheduletime},this.$store.dispatch("order/placeOrder",t).then(function(t){t.status?(e("#placeOrderBtn").attr("disabled",!1).html("Submit"),r.$toast.success("Submitted successfully"),document.getElementById("goBackToOrders").click()):(e("#placeOrderBtn").attr("disabled",!1).html("Submit"),r.$toast.error("An error occurred "+t.message))}).catch(function(e){r.$toast.error("An error occurred "+e)})}},listBranches:function(){var e=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(t){t.data.data.forEach(function(t){e.branches.push({id:t.id,text:t.branchname})})}).catch(function(e){console.log(e)})}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listBranches()}}}).call(t,r("7t+N"))},Q83w:function(e,t,r){var a=r("YFhd");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("rjj0")("60fa3f6c",a,!1,{sourceMap:!1})},YFhd:function(e,t,r){(e.exports=r("FZ+f")(!1)).push([e.i,"h1[data-v-442b224c]{font-size:2em;font-weight:600}.btn--primary[data-v-442b224c]{background-color:#089628;color:#fff;min-width:10px!important}.btn--danger[data-v-442b224c]{background-color:#dc3545;color:#fff;min-width:10px!important;left:5px;position:relative}.btn[data-v-442b224c]{padding:9.6px 19.2px;padding:.6rem 1.2rem}.tab[data-v-442b224c]{overflow:hidden;border:.5px solid #eee;background-color:#fff;padding-left:2em}.tab button[data-v-442b224c]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:18px 32px;font-weight:600;margin-left:1em}.tab button[data-v-442b224c]:hover{background-color:#f8f8f8;color:#228b22;font-weight:600}.tab button.active[data-v-442b224c]{color:#fff;background-color:#228b22}",""])},c1zg:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("overlay-scrollbars",{staticClass:"main-content-wrap"},[r("div",{staticClass:"tab d-flx-alc"},e._l(e.tabs,function(t,a){return r("button",{key:a,class:e.selectedTab==t?"active":"",on:{click:function(r){return e.setTab(t)}}},[e._v(" "+e._s(t))])}),0),e.showLoyaltyRule?r("div",{staticClass:"inner-main-wrapper"}):e._e(),e.showPromoCode?r("div",{staticClass:"inner-main-wrapper"},[r("overlay-scrollbars",{staticClass:"table-wrapper no-deco"},[r("figcaption",{staticClass:"sr"},[e._v("\n        A table showing information of categories\n      ")]),r("table",{staticClass:"table-content"},[r("thead",{},[r("tr",[r("th",{staticClass:"large-space column-name"},[e._v("Name")]),r("th",{staticClass:"large-space column-name"},[e._v("Phone Number")]),r("th",{staticClass:"larger-space column-name"},[e._v("Email Address")]),r("th",{staticClass:"medium-space"},[e._v("Transaction Value(â‚¦)")]),r("th",{staticClass:"medium-space column-name"},[e._v("Total orders")]),r("th",{staticClass:"large-space"},[e._v("Actionsssss")])])]),r("tbody",{staticClass:"tablebody"},[r("tr",[r("td",{staticClass:"column-name"}),r("td",{staticClass:"column-name"}),r("td",{staticClass:"email column-name"}),r("td"),r("td",{staticClass:"column-name"}),r("td",{staticClass:"d-flx-alc"},[r("button",{staticClass:"btn btn--primary",attrs:{type:"button"}},[e._v("\n              Edit \n            ")]),r("button",{staticClass:"btn btn--danger",attrs:{title:"Delete",type:"button"}},[e._v("\n              Delete \n            ")])])])])])])],1):e._e()])};a._withStripped=!0;var s={render:a,staticRenderFns:[]};t.a=s}});