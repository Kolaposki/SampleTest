webpackJsonp([38],{"7gfa":function(t,a,s){"use strict";var e=s("hYtS");a.a={components:{Pagination:e.a},layout:"main",computed:{filteredList:function(){var t=this;return this.reports.filter(function(a){return a.productname.toLowerCase().includes(t.search.toLowerCase())?a.productname.toLowerCase().includes(t.search.toLowerCase()):a.producttype.toLowerCase().includes(t.search.toLowerCase())?a.producttype.toLowerCase().includes(t.search.toLowerCase()):a.productdescription.toLowerCase().includes(t.search.toLowerCase())})},json_fields:function(){var t=this.$moment,a=this;return{"PRODUCT CODE":"productcode","PRODUCT NAME":"productname","PRODUCT DESCRIPTION":"productdescription","PRODUCT TYPE":"producttype","SELLING PRICE":{field:"sellingprice",callback:function(t){return a.formatPrice(t)}},"EXPIRY DATE":{field:"expiration_date",callback:function(a){return t(a).format("Do MMMM, YYYY")}}}}},data:function(){return{loading:!0,reports:[],date:"",search:"",api:"inventoryreport/getExpiredProduct",branches:[],headers:{Next:"",Prev:"",count:0,total:0,pagenum:1},formData:{merchID:"",branchID:"",startdate:"",enddate:"",page:1}}},methods:{formatNumber:function(t){return(new Intl.NumberFormat).format(t)},getExpiredProductReport:function(){var t=this;this.loading=!0,""!==this.date&&null!=this.date[0]?(this.formData.startdate=this.$moment(this.date[0]).format("YYYY-MM-DD HH:MM:SS"),this.formData.enddate=this.$moment(this.date[1]).format("YYYY-MM-DD HH:MM:SS")):(this.formData.startdate="",this.formData.enddate="");this.formData.export="",this.$store.dispatch("inventoryreport/getExpiredProduct",this.new_data).then(function(a){if(a.data.status)return t.reports=a.data.data,void 0!=a.data.data&&a.data.data.length>0&&t.setHeaders(a.data.data,a.data.headers),void(t.loading=!1);t.loading=!1,t.$toast.error("An error occurred!")}).catch(function(a){t.loading=!1,t.$toast.error("An error occurred ")})},getBranches:function(){var t=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(a){t.branches=a.data.data}).catch(function(t){})}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.getExpiredProductReport(),this.getBranches()}}},M2Sb:function(t,a,s){"use strict";a.a={layout:"main",props:["headers","value","date"],methods:{previous:function(){if(""!==this.headers.Prev){var t=+this.value-1;t<0?t=1:(this.$emit("input",t),this.$emit("go"))}},next:function(){if(""!==this.headers.Next){var t=+this.value+1;this.$emit("input",t),this.$emit("go")}}}}},hYtS:function(t,a,s){"use strict";var e=s("M2Sb"),i=s("zTfd"),r=s("VU/8")(e.a,i.a,!1,null,null,null);r.options.__file="components/Pagination.vue",a.a=r.exports},pDEk:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7gfa"),i=s("qTaE"),r=s("VU/8")(e.a,i.a,!1,null,null,null);r.options.__file="pages/reports/inventory/damages/index.vue",a.default=r.exports},qTaE:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",{staticClass:"main-content-wrap"},[s("div",{staticClass:"d-flx-alc-jsb page-extras"},[s("nuxt-link",{staticClass:"text-link",attrs:{to:"/reports"}},[s("svg",[s("use",{attrs:{href:"/uploads/icons.svg#back"}})]),s("span",{staticClass:"ml-1 fw-bold co-grey"},[t._v("Back")])]),s("div",{staticClass:"search-filter d-flx-alc-jfe"},[s("label",{staticClass:"search-w-icon"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),s("svg",[s("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),s("div",{staticClass:"drop-down filter-drop"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.branchID,expression:"formData.branchID"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"branchID",a.target.multiple?s:s[0])},t.getExpiredProductReport]}},[s("option",{attrs:{value:""}},[t._v("Select Branch")]),t._l(t.branches,function(a){return s("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.branchname))])})],2)]),s("div",{staticClass:"drop-down date-drop"},[s("date-picker",{attrs:{type:"datetime",range:"",placeholder:"Date Range",timeTitleFormat:"YYYY-MM-DD hh:mm a",format:"YYYY-MM-DD hh:mm a","value-type":"format","show-second":!1,"show-time-panel":t.showTimeRangePanel},on:{change:t.getExpiredProductReport,close:t.handleRangeClose},scopedSlots:t._u([{key:"footer",fn:function(){return[s("button",{staticClass:"mx-btn mx-btn-text",on:{click:t.toggleTimeRangePanel}},[t._v("\n\t\t\t\t\t"+t._s(t.showTimeRangePanel?"select date":"select time")+"\n\t\t\t\t")])]},proxy:!0}]),model:{value:t.date,callback:function(a){t.date=a},expression:"date"}})],1),s("download-excel",{staticClass:"btn btn--primary",attrs:{id:"download",fetch:t.fetchData,fields:t.json_fields,"before-generate":t.startDownload,"before-finish":t.finishDownload,worksheet:"My Worksheet",name:"expired-product-report.xls"}},[t._v("\n          Export\n        ")])],1)],1),s("pagination",{attrs:{headers:t.headers},on:{go:t.getExpiredProductReport},model:{value:t.formData.page,callback:function(a){t.$set(t.formData,"page",a)},expression:"formData.page"}}),s("div",{attrs:{id:"parent-component"}},[s("div",{attrs:{id:"order-details","uk-modal":"","data-uk-modal":"{target:'#order-details',bgclose:false}",container:"#parent-component"}},[s("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[s("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),t._m(0),s("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[t._m(1),t._m(2),s("div",{staticClass:"flex-width-1-2-nr mt-1"},[s("div",[s("h3",{staticClass:"mb-2 big-text"},[t._v("Assigned Rider")]),s("div",{staticClass:"text-img order-modal"},[s("div",{staticClass:"img-wrap"},[s("img",{staticClass:"text-img__img round",attrs:{src:"/uploads/user.png",alt:""}}),s("p",{staticClass:"rating"},[s("span",[t._v("4.7")]),s("svg",[s("use",{attrs:{href:"/uploads/icons.svg#star"}})])])]),t._m(3)])]),t._m(4)])])])])]),s("div",{staticClass:"inner-main-wrapper"},[s("figure",{staticClass:"table-wrapper"},[s("figcaption",{staticClass:"sr"},[t._v("\n          A table showing information of categories\n        ")]),s("table",{staticClass:"table-content "},[t._m(5),s("tbody",{staticClass:"tablebody"},[t.loading?s("tr",[s("td",{attrs:{colspan:"7"}},[t._v("Loading...please wait")])]):t._e(),!t.loading&&t.filteredList.length<1?s("tr",[s("td",{attrs:{colspan:"7"}},[t._v("No record at the moment")])]):t._e(),t._l(t.filteredList,function(a,e){return!t.loading&&t.filteredList.length>0?s("tr",{key:e},[s("td",{staticClass:"column-name"},[t._v("NTISA-001")]),s("td",{staticClass:"column-name",staticStyle:{color:"#28A745"}},[t._v("Adisa Hameed")]),s("td",{staticClass:"column-name"},[t._v("01/04/2013")]),s("td",[t._v("Suzuki")]),s("td",{staticClass:"column-name"},[t._v("Minor accident")]),s("td",{staticClass:"column-name"},[t._v("Partly damaged")]),s("td",{staticClass:"column-name"},[t._v("To be fixed at the Mechanic Workshop")])]):t._e()})],2)])])])],1)};e._withStripped=!0;var i={render:e,staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header"},[a("h2",[this._v("\n              Order Details\n              "),a("span",{staticClass:"status ready"},[this._v("Ready")])]),a("p",{staticClass:"d-flx"},[a("span",{staticClass:"review"},[this._v("NT2838")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"d-flx-jsb"},[a("div",{staticClass:"text-img order-modal"},[a("img",{staticClass:"text-img__img",attrs:{src:"/uploads/user.png",alt:""}}),a("div",{staticClass:"text-img__content"},[a("h4",{staticClass:"uppercase co-grey fw-medium font-14"},[this._v("\n                    Customer info\n                  ")]),a("p",{staticClass:"fw-medium font-16 co-rich-black"},[this._v("Grace Cole")]),a("p",{staticClass:"font-16 co-rich-black"},[this._v("08178293784")])])]),a("div",[a("h4",{staticClass:"uppercase co-grey fw-medium font-14"},[this._v("\n                  Delivery address\n                ")]),a("p",{staticClass:"width-80-pc co-rich-black"},[this._v("\n                  Muritala Mohammed Airport Terminal 2, Airport Road, Ikeja, Lagos.\n                ")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("table",{staticClass:"table-content order-list"},[s("tbody",{staticClass:"tablebody"},[s("tr",[s("td",[s("div",{staticClass:"text-img alt"},[s("img",{staticClass:"text-img__img",attrs:{src:"/uploads/food.png",alt:""}}),s("div",{staticClass:"text-img__content"},[s("h3",{staticClass:"fw-medium"},[t._v("\n                        Chocolate Chip Cookies\n                      ")]),s("p",[t._v("₦ 500.00")])])])]),s("td",[s("span",{staticClass:"quantity"},[t._v("6")])]),s("td",[t._v(" ₦ 3000.00")])]),s("tr",[s("td",[s("div",{staticClass:"text-img alt"},[s("img",{staticClass:"text-img__img",attrs:{src:"/uploads/food.png",alt:""}}),s("div",{staticClass:"text-img__content"},[s("h3",{staticClass:"fw-medium"},[t._v("\n                        Chocolate Chip Cookies\n                      ")]),s("p",[t._v("₦ 500.00")])])])]),s("td",[s("span",{staticClass:"quantity"},[t._v("6")])]),s("td",[t._v(" ₦ 3000.00")])]),s("tr",{staticClass:"no-border-bottom"},[s("td",{staticClass:"co-lgray tx-r font-16",attrs:{colspan:"2"}},[t._v("Sub total")]),s("td",{staticClass:"fw-medium co-lgray"},[t._v("₦ 8500.00")])]),s("tr",{staticClass:"no-border-bottom"},[s("td",{staticClass:"co-lgray tx-r font-16",attrs:{colspan:"2"}},[t._v("Tax")]),s("td",{staticClass:"fw-medium co-lgray"},[t._v("₦ 8500.00")])]),s("tr",{staticClass:"no-border-bottom"},[s("td",{staticClass:"font-20 fw-bold tx-r",attrs:{colspan:"2"}},[t._v("Total")]),s("td",{staticClass:"font-20 fw-bold"},[t._v("₦ 8500.00")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"text-img__content"},[a("h4",{staticClass:"name"},[this._v("\n                      Kola Kamsiyonna\n                    ")]),a("p",[this._v("08178293784")]),a("p",[this._v("AX 398 ENU")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",[a("h3",{staticClass:"mb-2 big-text"},[this._v("Responding Staff")]),a("div",{staticClass:"text-img order-modal"},[a("img",{staticClass:"text-img__img round",attrs:{src:"/uploads/user.png",alt:""}}),a("div",{staticClass:"text-img__content"},[a("h4",{staticClass:"name"},[this._v("\n                      Customer info\n                    ")]),a("p",[this._v("08178293784")]),a("p",[this._v("Grace Cole")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",{},[a("tr",[a("th",{staticClass:"column-name"},[this._v("Bike No")]),a("th",{staticClass:"column-name"},[this._v("Rider")]),a("th",{staticClass:"column-name"},[this._v("Purchased date")]),a("th",{staticClass:"column-name"},[this._v("Manufacturer")]),a("th",{},[this._v("Cause of damage")]),a("th",{staticClass:"column-name"},[this._v("Condition")]),a("th",{staticClass:"column-name"},[this._v("Remedies")])])])}]};a.a=i},zTfd:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"d-flx-alc-jsb page-extras"},[s("div",{staticClass:"drop-down page-drop"},[s("button",{staticClass:"btn-text ",attrs:{type:"button"}},[t._v("\n          Showing "),s("span",[t._v(" "+t._s(t.showing)+" ")]),t._v(" of "),s("span",[t._v(" "+t._s(void 0!=this.headers.Count?this.headers.Count:0)+" ")])])]),s("div",{staticClass:"d-flx-alc"},[t.date&&"object"==typeof t.date?s("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date[0])+" - "+t._s(t.date[1]))]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:"string"==typeof t.date,expression:"typeof date == 'string'"}],staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date)+" ")]),s("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.previous}},[s("svg",[s("use",{attrs:{href:"/uploads/icons.svg#arrow-right"}})])]),s("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.next}},[s("svg",[s("use",{attrs:{href:"/uploads/icons.svg#arrow-left"}})])])])])};e._withStripped=!0;var i={render:e,staticRenderFns:[]};a.a=i}});