webpackJsonp([81],{"6m9L":function(t,a,e){"use strict";(function(t){a.a={layout:"main",computed:{filteredList:function(){var t=this;return this.campaigns.filter(function(a){return a.title.toLowerCase().includes(t.search.toLowerCase())?a.title.toLowerCase().includes(t.search.toLowerCase()):a.discounttype.toLowerCase().includes(t.search.toLowerCase())?a.discounttype.toLowerCase().includes(t.search.toLowerCase()):a.redemptionperuser.toLowerCase().includes(t.search.toLowerCase())?a.redemptionperuser.toLowerCase().includes(t.search.toLowerCase()):a.redemptiontype.toLowerCase().includes(t.search.toLowerCase())})}},data:function(){return{search:"",loading:!0,formData:{title:"",active:"1",merchID:"",discounttype:"",discountprice:"",couponduration:"",couponlimiteddays:"",nosofredemption:"",redemptiontype:"",campaignavaiability:!0,rewardcampaignscustomers:[],redemptionperuser:"",maxnumberredemptionperuser:"",enddate:""},errorData:{title:!1,active:!1,discounttype:!1,discountprice:!1,couponduration:!1,couponlimiteddays:!1,nosofredemption:!1,redemptiontype:!1,campaignavaiability:!1,rewardcampaignscustomers:!1,redemptionperuser:!1,maxnumberredemptionperuser:!1,enddate:!1},campaigns:[],customers:[],options:[]}},methods:{showCustomers:function(t){},createCampaign:function(){var a=this;if(!this.validateCampaigns()){this.formData.rewardcampaignscustomers.map(function(t){return parseInt(t,10)});t("#submitBtn").attr("disabled",!0).html("Starting....please wait"),this.$store.dispatch("campaign/createCampaign",this.formData).then(function(e){if(t("#submitBtn").attr("disabled",!1).html("+ Start campaign"),e.data.status)return a.$toast.success(e.data.message),a.listCampaigns(),void a.closeModal();a.$toast.error(e.data.message)}).catch(function(a){t("#submitBtn").attr("disabled",!1).html("+ Start campaign"),console.log(a)})}},validateCampaigns:function(){return this.clearErrorData(),""===this.formData.title?(this.errorData.title=!0,!0):""===this.formData.discounttype?(this.errorData.discounttype=!0,!0):""===this.formData.discountprice?(this.errorData.discountprice=!0,!0):""===this.formData.couponduration?(this.errorData.couponduration=!0,!0):""===this.formData.couponlimiteddays?(this.errorData.couponlimiteddays=!0,!0):""===this.formData.redemptiontype?(this.errorData.redemptiontype=!0,!0):""===this.formData.nosofredemption?(this.errorData.nosofredemption=!0,!0):""===this.formData.campaignavaiability?(this.errorData.campaignavaiability=!0,!0):"allcustomers"!==this.formData.campaignavaiability&&this.formData.rewardcampaignscustomers.length<1?(this.errorData.rewardcampaignscustomers=!0,!0):""===this.formData.redemptionperuser?(this.errorData.redemptionperuser=!0,!0):"unlimited"!==this.formData.redemptionperuser&&""===this.formData.maxnumberredemptionperuser?(this.errorData.maxnumberredemptionperuser=!0,!0):""===this.formData.enddate&&(this.errorData.enddate=!0,!0)},clearErrorData:function(){this.errorData={title:!1,active:!1,discounttype:!1,discountprice:!1,couponduration:!1,couponlimiteddays:!1,nosofredemption:!1,redemptiontype:!1,campaignavaiability:!1,rewardcampaignscustomers:!1,redemptionperuser:!1,maxnumberredemptionperuser:!1,enddate:!1}},listCampaigns:function(){var t=this;this.$store.dispatch("campaign/listCampaign",this.formData.merchID).then(function(a){a.data.status&&(t.loading=!1,t.campaigns=a.data.data)}).catch(function(t){console.log(t)})},openModal:function(){UIkit.modal("#add-camp").toggle()},closeModal:function(){this.formData={title:"",active:"1",merchID:"",discounttype:"",discountprice:"",couponduration:"",couponlimiteddays:"",nosofredemption:"",redemptiontype:"",campaignavaiability:"",rewardcampaignscustomers:[],redemptionperuser:"",maxnumberredemptionperuser:"",enddate:""},this.clearErrorData(),UIkit.modal("#add-camp").toggle("hide")},checkNumberOfRedemption:function(t){"unlimited"===t.target.value?(this.formData.nosofredemption=0,document.getElementById("nosofredemption").disabled=!0):(this.formData.nosofredemption="",document.getElementById("nosofredemption").disabled=!1)},checkCampaignAvailability:function(t){"allcustomers"===t.target.value?document.getElementById("customers").disabled=!0:document.getElementById("customers").disabled=!1},checkRedemptionPerUser:function(t){"unlimited"===t.target.value?(this.formData.maxnumberredemptionperuser=0,document.getElementById("maxnumberredemptionperuser").disabled=!0):(this.formData.maxnumberredemptionperuser="",document.getElementById("maxnumberredemptionperuser").disabled=!1)},getCustomers:function(){var t=this,a={merchantID:this.formData.merchID};this.$store.dispatch("customers/getAllCustomers",a).then(function(a){t.customers=a.data.data;var e=[];t.customers.forEach(function(t){var a={id:t.id,text:t.firstname+",  "+t.lastname};e.push(a)}),t.options=e}).catch(function(t){console.log(t)})},checkDate:function(t){return this.$moment().isAfter(t)}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listCampaigns(),this.getCustomers()}}}).call(a,e("7t+N"))},QCiK:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("6m9L"),i=e("hXdu"),n=e("VU/8")(s.a,i.a,!1,null,null,null);n.options.__file="pages/discounts/index.vue",a.default=n.exports},hXdu:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("overlay-scrollbars",{staticClass:"main-content-wrap"},[e("div",{staticClass:"d-flx-alc-jsb page-extras"},[e("p",{staticClass:"fw-medium font-16"}),e("div",{staticClass:"search-filter d-flx-alc-jfe"},[e("label",{staticClass:"search-w-icon"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),e("svg",[e("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),e("div",{staticClass:"drop-down filter-drop"},[e("select",{staticClass:"filter-btn box-deco-smallr"},[e("option",{attrs:{value:""}},[t._v("All Status")]),e("option",{attrs:{value:"1"}},[t._v("Active")]),e("option",{attrs:{value:"0"}},[t._v("Ended")])])]),e("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.openModal}},[t._v("\n          + Create campaign\n        ")]),e("div",{attrs:{id:"add-camp","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeModal}}),e("div",{staticClass:"modal-header"},[e("h2",[t._v("\n                Create Campaign\n              ")]),e("p",[t._v(" Add your campaign description and necessary information from here")])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.createCampaign.apply(null,arguments)}}},[e("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Campaign name")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],attrs:{type:"text",placeholder:"Campaign name"},domProps:{value:t.formData.title},on:{input:function(a){a.target.composing||t.$set(t.formData,"title",a.target.value)}}})]),t.errorData.title?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a campaign title")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount type")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discounttype,expression:"formData.discounttype"}],attrs:{type:"radio",value:"fixedamount",name:"light"},domProps:{checked:t._q(t.formData.discounttype,"fixedamount")},on:{change:function(a){return t.$set(t.formData,"discounttype","fixedamount")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Fixed Amount")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discounttype,expression:"formData.discounttype"}],attrs:{type:"radio",value:"percentage",name:"light"},domProps:{checked:t._q(t.formData.discounttype,"percentage")},on:{change:function(a){return t.$set(t.formData,"discounttype","percentage")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Percentage")])]),t.errorData.discounttype?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a discount type")]):t._e()]),"percentage"==t.formData.discounttype?e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount in percentage")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discountprice,expression:"formData.discountprice"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.discountprice},on:{input:function(a){a.target.composing||t.$set(t.formData,"discountprice",a.target.value)}}})]),t.errorData.discountprice?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a discount percentage")]):t._e()])]):e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount in price (₦)")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discountprice,expression:"formData.discountprice"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.discountprice},on:{input:function(a){a.target.composing||t.$set(t.formData,"discountprice",a.target.value)}}})]),t.errorData.discountprice?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a discount price")]):t._e()])]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Coupon duration")]),e("span",{staticClass:"form-input__sublabel"},[t._v("This is the period of time in which eligible charges will be discounted by the coupon redemption.")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"limitedduration",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"limitedduration")},on:{change:function(a){return t.$set(t.formData,"couponduration","limitedduration")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited duration")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"onetimeuser",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"onetimeuser")},on:{change:function(a){return t.$set(t.formData,"couponduration","onetimeuser")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("One time user")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"couponduration",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"couponduration")},on:{change:function(a){return t.$set(t.formData,"couponduration","couponduration")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Forever")])]),t.errorData.couponduration?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a coupon duration")]):t._e()]),e("div",{staticClass:"form-input"},[e("label",{staticClass:"form-input__label"},[t._v("Limited to")]),e("div",{staticClass:"flex-width-uneven input-tiny-drop "},[e("div",{staticClass:"form-input__input mr-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponlimiteddays,expression:"formData.couponlimiteddays"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.couponlimiteddays},on:{input:function(a){a.target.composing||t.$set(t.formData,"couponlimiteddays",a.target.value)}}})]),e("div",{staticClass:"form-input__input tiny-btn ",attrs:{"data-uk-form-select":""}},[e("span"),e("select",{staticClass:"drop-down"},[e("option",{attrs:{value:""}},[t._v("Days")]),e("option",{attrs:{value:""}},[t._v("Week")]),e("option",{attrs:{value:""}},[t._v("Month")])])])]),t.errorData.couponlimiteddays?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Number of redemption")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Maximum number of times the coupon can be redeemed across all users?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptiontype,expression:"formData.redemptiontype"}],attrs:{type:"radio",value:"limitedredemption",name:"coupNoOfRedemption"},domProps:{checked:t._q(t.formData.redemptiontype,"limitedredemption")},on:{change:[function(a){return t.$set(t.formData,"redemptiontype","limitedredemption")},function(a){return t.checkNumberOfRedemption(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited redemption")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptiontype,expression:"formData.redemptiontype"}],attrs:{type:"radio",value:"unlimited",name:"coupNoOfRedemption"},domProps:{checked:t._q(t.formData.redemptiontype,"unlimited")},on:{change:[function(a){return t.$set(t.formData,"redemptiontype","unlimited")},function(a){return t.checkNumberOfRedemption(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Unlimited")])]),t.errorData.redemptiontype?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a redemption")]):t._e()]),e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Max number of redemptions")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.nosofredemption,expression:"formData.nosofredemption"}],attrs:{type:"text",id:"nosofredemption",placeholder:"0"},domProps:{value:t.formData.nosofredemption},on:{input:function(a){a.target.composing||t.$set(t.formData,"nosofredemption",a.target.value)}}})]),t.errorData.nosofredemption?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a max number of redemption")]):t._e()])]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Campaign availability")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Is this campaign available for all users or specific users?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.campaignavaiability,expression:"formData.campaignavaiability"}],attrs:{type:"radio",value:"specificcustomers",name:"campaignavailability"},domProps:{checked:t._q(t.formData.campaignavaiability,"specificcustomers")},on:{change:[function(a){return t.$set(t.formData,"campaignavaiability","specificcustomers")},function(a){return t.checkCampaignAvailability(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Specific customers")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.campaignavaiability,expression:"formData.campaignavaiability"}],attrs:{type:"radio",value:"allcustomers",name:"campaignavailability"},domProps:{checked:t._q(t.formData.campaignavaiability,"allcustomers")},on:{change:[function(a){return t.$set(t.formData,"campaignavaiability","allcustomers")},function(a){return t.checkCampaignAvailability(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("All customers")])]),t.errorData.campaignavaiability?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a campaign availability")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Select customers")]),e("div",{staticClass:"form-input__input"},[e("select2-multiple-control",{attrs:{id:"customers",options:t.options},model:{value:t.formData.rewardcampaignscustomers,callback:function(a){t.$set(t.formData,"rewardcampaignscustomers",a)},expression:"formData.rewardcampaignscustomers"}})],1),e("div",{staticClass:"d-flx-alc-jsb"},[e("span",{staticClass:"instruction"},[t._v("Customers will be shared emails with their codes ")])]),t.errorData.rewardcampaignscustomers?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a reward campaign customers")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Redemption per user")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Can a user redeem the same code more than once?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptionperuser,expression:"formData.redemptionperuser"}],attrs:{type:"radio",value:"limitededition",name:"remdperuser"},domProps:{checked:t._q(t.formData.redemptionperuser,"limitededition")},on:{change:[function(a){return t.$set(t.formData,"redemptionperuser","limitededition")},function(a){return t.checkRedemptionPerUser(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited Edition")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptionperuser,expression:"formData.redemptionperuser"}],attrs:{type:"radio",value:"unlimited",name:"remdperuser"},domProps:{checked:t._q(t.formData.redemptionperuser,"unlimited")},on:{change:[function(a){return t.$set(t.formData,"redemptionperuser","unlimited")},function(a){return t.checkRedemptionPerUser(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Unlimited")])]),t.errorData.redemptionperuser?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Maximum number of redemptions")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.maxnumberredemptionperuser,expression:"formData.maxnumberredemptionperuser"}],attrs:{type:"text",id:"maxnumberredemptionperuser",placeholder:"0"},domProps:{value:t.formData.maxnumberredemptionperuser},on:{input:function(a){a.target.composing||t.$set(t.formData,"maxnumberredemptionperuser",a.target.value)}}})]),t.errorData.maxnumberredemptionperuser?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("End date")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.enddate,expression:"formData.enddate"}],attrs:{type:"date",placeholder:"0"},domProps:{value:t.formData.enddate},on:{input:function(a){a.target.composing||t.$set(t.formData,"enddate",a.target.value)}}})]),t.errorData.enddate?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select an end date")]):t._e()])])]),e("div",{staticClass:"d-flx-alc-jfe mt-5"},[e("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("\n                  Cancel\n                ")]),e("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"submitBtn"}},[t._v("\n                  + Start campaign\n                ")])])])])]),e("div",{attrs:{id:"message","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),e("div",{staticClass:"modal-header"},[e("h2",[t._v("Customise message")]),e("p",[t._v("Customise message to be sent to users that can receive this campaigns")])]),e("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("First name")]),e("div",{staticClass:"form-input__input"},[e("input",{attrs:{type:"text",placeholder:""}})])]),e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Email address")]),e("div",{staticClass:"form-input__input"},[e("input",{attrs:{type:"email",placeholder:""}})]),e("span",{staticClass:"form-input__error-msg"},[t._v("Error message")])]),e("div",{staticClass:"form-input"},[e("label",{staticClass:"form-input__label"},[t._v("Body")]),e("div",{staticClass:"form-input__input"},[e("div",{staticClass:"msg-style d-flx-alc"},[e("button",{staticClass:"co-black"},[t._v("Heading")]),e("button",{staticClass:"co-black"},[t._v("Open Sans")]),e("button",{staticClass:"btn btn-icon smallsvg active"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#bold"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#italics"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#underline"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#leftAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#centerAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#rightAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#justified"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#bulletList"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#decreaseIndent"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#increaseIndent"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#image"}})])])]),e("textarea",{attrs:{rows:"5",placeholder:"Enter"}})])])]),e("div",{staticClass:"d-flx-alc-jfe mt-3"},[e("button",{staticClass:"btn btn-no-fill"},[t._v("\n                Cancel\n              ")]),e("button",{staticClass:"btn btn--primary ml-1",attrs:{"uk-toggle":"target: #add-branch2"}},[t._v("\n                Save message\n              ")])])])]),e("div",{staticClass:"drop-down page-drop"}),e("div",{staticClass:"d-flx-alc"})])]),e("div",{attrs:{id:"parent-component"}},[e("div",{attrs:{container:"#parent-component",id:"add-camp","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeModal}}),e("div",{staticClass:"modal-header"},[e("h2",[t._v("\n                Create Campaign\n              ")]),e("p",[t._v(" Add your campaign description and necessary information from here")])]),e("form",{on:{submit:function(a){return a.preventDefault(),t.createCampaign.apply(null,arguments)}}},[e("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Campaign name")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.title,expression:"formData.title"}],attrs:{type:"text",placeholder:"Campaign name"},domProps:{value:t.formData.title},on:{input:function(a){a.target.composing||t.$set(t.formData,"title",a.target.value)}}})]),t.errorData.title?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a campaign title")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount type")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discounttype,expression:"formData.discounttype"}],attrs:{type:"radio",value:"fixedamount",name:"light"},domProps:{checked:t._q(t.formData.discounttype,"fixedamount")},on:{change:function(a){return t.$set(t.formData,"discounttype","fixedamount")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Fixed Amount")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discounttype,expression:"formData.discounttype"}],attrs:{type:"radio",value:"percentage",name:"light"},domProps:{checked:t._q(t.formData.discounttype,"percentage")},on:{change:function(a){return t.$set(t.formData,"discounttype","percentage")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Percentage")])]),t.errorData.discounttype?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a discount type")]):t._e()]),"percentage"==t.formData.discounttype?e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount in percentage")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discountprice,expression:"formData.discountprice"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.discountprice},on:{input:function(a){a.target.composing||t.$set(t.formData,"discountprice",a.target.value)}}})]),t.errorData.discountprice?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a discount percentage")]):t._e()])]):e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Discount in price (₦)")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.discountprice,expression:"formData.discountprice"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.discountprice},on:{input:function(a){a.target.composing||t.$set(t.formData,"discountprice",a.target.value)}}})]),t.errorData.discountprice?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a discount price")]):t._e()])]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Coupon duration")]),e("span",{staticClass:"form-input__sublabel"},[t._v("This is the period of time in which eligible charges will be discounted by the coupon redemption.")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"limitedduration",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"limitedduration")},on:{change:function(a){return t.$set(t.formData,"couponduration","limitedduration")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited duration")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"onetimeuser",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"onetimeuser")},on:{change:function(a){return t.$set(t.formData,"couponduration","onetimeuser")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("One time user")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponduration,expression:"formData.couponduration"}],attrs:{type:"radio",value:"couponduration",name:"coupduration"},domProps:{checked:t._q(t.formData.couponduration,"couponduration")},on:{change:function(a){return t.$set(t.formData,"couponduration","couponduration")}}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Forever")])]),t.errorData.couponduration?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a coupon duration")]):t._e()]),e("div",{staticClass:"form-input"},[e("label",{staticClass:"form-input__label"},[t._v("Limited to")]),e("div",{staticClass:"flex-width-uneven input-tiny-drop "},[e("div",{staticClass:"form-input__input mr-1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.couponlimiteddays,expression:"formData.couponlimiteddays"}],attrs:{type:"text",placeholder:"0"},domProps:{value:t.formData.couponlimiteddays},on:{input:function(a){a.target.composing||t.$set(t.formData,"couponlimiteddays",a.target.value)}}})]),e("div",{staticClass:"form-input__input tiny-btn ",attrs:{"data-uk-form-select":""}},[e("span"),e("select",{staticClass:"drop-down"},[e("option",{attrs:{value:""}},[t._v("Days")]),e("option",{attrs:{value:""}},[t._v("Week")]),e("option",{attrs:{value:""}},[t._v("Month")])])])]),t.errorData.couponlimiteddays?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Number of redemption")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Maximum number of times the coupon can be redeemed across all users?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptiontype,expression:"formData.redemptiontype"}],attrs:{type:"radio",value:"limitedredemption",name:"coupNoOfRedemption"},domProps:{checked:t._q(t.formData.redemptiontype,"limitedredemption")},on:{change:[function(a){return t.$set(t.formData,"redemptiontype","limitedredemption")},function(a){return t.checkNumberOfRedemption(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited redemption")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptiontype,expression:"formData.redemptiontype"}],attrs:{type:"radio",value:"unlimited",name:"coupNoOfRedemption"},domProps:{checked:t._q(t.formData.redemptiontype,"unlimited")},on:{change:[function(a){return t.$set(t.formData,"redemptiontype","unlimited")},function(a){return t.checkNumberOfRedemption(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Unlimited")])]),t.errorData.redemptiontype?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a redemption")]):t._e()]),e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Max number of redemptions")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.nosofredemption,expression:"formData.nosofredemption"}],attrs:{type:"text",id:"nosofredemption",placeholder:"0"},domProps:{value:t.formData.nosofredemption},on:{input:function(a){a.target.composing||t.$set(t.formData,"nosofredemption",a.target.value)}}})]),t.errorData.nosofredemption?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a max number of redemption")]):t._e()])]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Campaign availability")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Is this campaign available for all users or specific users?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.campaignavaiability,expression:"formData.campaignavaiability"}],attrs:{type:"radio",value:"specificcustomers",name:"campaignavailability"},domProps:{checked:t._q(t.formData.campaignavaiability,"specificcustomers")},on:{change:[function(a){return t.$set(t.formData,"campaignavaiability","specificcustomers")},function(a){return t.checkCampaignAvailability(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Specific customers")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.campaignavaiability,expression:"formData.campaignavaiability"}],attrs:{type:"radio",value:"allcustomers",name:"campaignavailability"},domProps:{checked:t._q(t.formData.campaignavaiability,"allcustomers")},on:{change:[function(a){return t.$set(t.formData,"campaignavaiability","allcustomers")},function(a){return t.checkCampaignAvailability(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("All customers")])]),t.errorData.campaignavaiability?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a campaign availability")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Select customers")]),e("div",{staticClass:"form-input__input"},[e("select2-multiple-control",{attrs:{id:"customers",options:t.options},model:{value:t.formData.rewardcampaignscustomers,callback:function(a){t.$set(t.formData,"rewardcampaignscustomers",a)},expression:"formData.rewardcampaignscustomers"}})],1),e("div",{staticClass:"d-flx-alc-jsb"},[e("span",{staticClass:"instruction"},[t._v("Customers will be shared emails with their codes ")])]),t.errorData.rewardcampaignscustomers?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select a reward campaign customers")]):t._e()]),e("div",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Redemption per user")]),e("span",{staticClass:"form-input__sublabel"},[t._v("Can a user redeem the same code more than once?")]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptionperuser,expression:"formData.redemptionperuser"}],attrs:{type:"radio",value:"limitededition",name:"remdperuser"},domProps:{checked:t._q(t.formData.redemptionperuser,"limitededition")},on:{change:[function(a){return t.$set(t.formData,"redemptionperuser","limitededition")},function(a){return t.checkRedemptionPerUser(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Limited Edition")])]),e("label",{staticClass:"form-input-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.redemptionperuser,expression:"formData.redemptionperuser"}],attrs:{type:"radio",value:"unlimited",name:"remdperuser"},domProps:{checked:t._q(t.formData.redemptionperuser,"unlimited")},on:{change:[function(a){return t.$set(t.formData,"redemptionperuser","unlimited")},function(a){return t.checkRedemptionPerUser(a)}]}}),e("span",{staticClass:"design"}),e("span",{staticClass:"text"},[t._v("Unlimited")])]),t.errorData.redemptionperuser?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("div",{staticClass:"flex-width-1-2 less-gp"},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Maximum number of redemptions")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.maxnumberredemptionperuser,expression:"formData.maxnumberredemptionperuser"}],attrs:{type:"text",id:"maxnumberredemptionperuser",placeholder:"0"},domProps:{value:t.formData.maxnumberredemptionperuser},on:{input:function(a){a.target.composing||t.$set(t.formData,"maxnumberredemptionperuser",a.target.value)}}})]),t.errorData.maxnumberredemptionperuser?e("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("End date")]),e("div",{staticClass:"form-input__input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.enddate,expression:"formData.enddate"}],attrs:{type:"date",placeholder:"0"},domProps:{value:t.formData.enddate},on:{input:function(a){a.target.composing||t.$set(t.formData,"enddate",a.target.value)}}})]),t.errorData.enddate?e("span",{staticClass:"form-input__error-msg"},[t._v("Please select an end date")]):t._e()])])]),e("div",{staticClass:"d-flx-alc-jfe mt-5"},[e("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("\n                  Cancel\n                ")]),e("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"submitBtn"}},[t._v("\n                  + Start campaign\n                ")])])])])]),e("div",{attrs:{container:"parent-component",id:"message","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),e("div",{staticClass:"modal-header"},[e("h2",[t._v("Customise message")]),e("p",[t._v("Customise message to be sent to users that can receive this campaigns")])]),e("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("First name")]),e("div",{staticClass:"form-input__input"},[e("input",{attrs:{type:"text",placeholder:""}})])]),e("label",{staticClass:"form-input"},[e("span",{staticClass:"form-input__label"},[t._v("Email address")]),e("div",{staticClass:"form-input__input"},[e("input",{attrs:{type:"email",placeholder:""}})]),e("span",{staticClass:"form-input__error-msg"},[t._v("Error message")])]),e("div",{staticClass:"form-input"},[e("label",{staticClass:"form-input__label"},[t._v("Body")]),e("div",{staticClass:"form-input__input"},[e("div",{staticClass:"msg-style d-flx-alc"},[e("button",{staticClass:"co-black"},[t._v("Heading")]),e("button",{staticClass:"co-black"},[t._v("Open Sans")]),e("button",{staticClass:"btn btn-icon smallsvg active"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#bold"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#italics"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#underline"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#leftAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#centerAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#rightAlign"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#justified"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#bulletList"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#decreaseIndent"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#increaseIndent"}})])]),e("button",{staticClass:"btn btn-icon smallsvg"},[e("svg",{staticClass:"form-input__main-svg"},[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#image"}})])])]),e("textarea",{attrs:{rows:"5",placeholder:"Enter"}})])])]),e("div",{staticClass:"d-flx-alc-jfe mt-3"},[e("button",{staticClass:"btn btn-no-fill"},[t._v("\n              Cancel\n            ")]),e("button",{staticClass:"btn btn--primary ml-1",attrs:{"uk-toggle":"target: #add-branch2"}},[t._v("\n              Save message\n            ")])])])])]),e("div",{staticClass:"inner-main-wrapper"},[e("overlay-scrollbars",{staticClass:"table-wrapper"},[e("figcaption",{staticClass:"sr"},[t._v("\n          A table showing information of categories\n        ")]),e("table",{staticClass:"table-content"},[e("thead",{},[e("tr",[e("th",{},[t._v("ID")]),e("th",{},[t._v("Campaign name")]),e("th",{},[t._v("Type")]),e("th",{},[t._v("Creation date")]),e("th",{},[t._v("Expiration date")]),e("th",{},[t._v("Status")])])]),e("tbody",{staticClass:"tablebody"},[t.loading?e("tr",[e("td",{attrs:{colspan:"8"}},[t._v("Loading Please wait")])]):t._e(),!t.loading&&t.filteredList.length<1?e("tr",[e("td",{attrs:{colspan:"8"}},[t._v("No campaign record at the moment")])]):t._e(),t._l(t.filteredList,function(a,s){return t.loading?t._e():e("tr",{key:s},[e("td",{staticClass:"co-primary"},[t._v("#NT "+t._s(a.id))]),e("td",[t._v("\n                "+t._s(a.title)+"\n              ")]),e("td",[t._v("\n                "+t._s(a.discounttype)+"\n              ")]),e("td",[t._v(t._s(t.$moment(a.created_at).format("MMM Do, YYYY")))]),e("td",[t._v(t._s(t.$moment(a.enddate).format("MMM Do, YYYY")))]),e("td",[t.checkDate(a.enddate)?e("span",{staticClass:"status no-radius ended"},[t._v("Ended")]):e("span",{staticClass:"status no-radius active"},[t._v("Active")])]),e("td",[e("button",{on:{click:function(e){return t.showCustomers(a)}}},[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#pause"}})])])])])})],2)])]),e("div",{attrs:{id:"share","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[e("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),e("div",{staticClass:"modal-header"},[e("h2",[t._v("Share campaign")]),e("p",[t._v("Share this campaign on social networks of your choice")])]),e("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[e("div",{staticClass:"share-btn-holder"},[e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#twitter"}})])]),e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#facebook"}})])]),e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#messenger"}})])]),e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#linkedin"}})])]),e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#whatapp"}})])]),e("button",[e("svg",[e("use",{attrs:{"xlink:href":"/uploads/icons.svg#skype"}})])])]),e("div",{staticClass:"share-link-text"},[e("p",[t._v("Or copy link")]),e("div",{staticClass:"d-flx"},[e("div",{staticClass:"linkholder"},[t._v("\n                  https://ntisa.com/ge=3/Ramadansales\n                ")]),e("button",{staticClass:"btn btn-no-fill"},[t._v("Copy")])])])])])])],1)])};s._withStripped=!0;var i={render:s,staticRenderFns:[]};a.a=i}});