/*! For license information please see LICENSES */
webpackJsonp([27],{M2Sb:function(e,t,a){"use strict";t.a={layout:"main",props:["headers","value","date"],methods:{previous:function(){if(""!==this.headers.Prev){var e=+this.value-1;e<0?e=1:(this.$emit("input",e),this.$emit("go"))}},next:function(){if(""!==this.headers.Next){var e=+this.value+1;this.$emit("input",e),this.$emit("go")}}}}},b5sc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("nuxt-link",{staticClass:"text-link",attrs:{to:"/reports"}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#back"}})]),a("span",{staticClass:"ml-1 fw-bold co-grey"},[e._v("Back")])]),a("div",{staticClass:"search-filter d-flx-alc-jfe"},[a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),a("div",{staticClass:"drop-down page-drop"},[a("date-picker",{attrs:{range:"",placeholder:"Date Range",type:"datetime",timeTitleFormat:"YYYY-MM-DD hh:mm a",format:"YYYY-MM-DD hh:mm a","value-type":"format","show-second":!1,"show-time-panel":e.showTimeRangePanel},on:{change:e.getReport,close:e.handleRangeClose},scopedSlots:e._u([{key:"footer",fn:function(){return[a("button",{staticClass:"mx-btn mx-btn-text",on:{click:e.toggleTimeRangePanel}},[e._v("\n\t\t\t\t\t"+e._s(e.showTimeRangePanel?"select date":"select time")+"\n\t\t\t\t")])]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("download-excel",{staticClass:"btn btn--primary",attrs:{id:"download",fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,worksheet:"My Worksheet",name:"lease_report.xls"}},[e._v("\n          Export\n        ")])],1)],1),a("div",{staticClass:"inner-main-wrapper"},[a("overlay-scrollbars",{staticClass:"table-wrapper"},[a("figcaption",{staticClass:"sr"},[e._v("\n          A table showing information of categories\n        ")]),a("table",{staticClass:"table-content"},[a("thead",{},[a("tr",[a("th",{staticClass:" column-name"},[e._v("Rider ID")]),a("th",{staticClass:" column-name"},[e._v("Rider Name")]),a("th",[e._v("Expected Starting Balance (₦)")]),a("th",[e._v("Actual Starting Balance (₦)")]),a("th",{},[e._v("Expected Weekly Remittance (₦)")]),a("th",[e._v("Actual Weekly Remittance (₦)")]),a("th",[e._v("Expected Ending Balance (₦)")]),a("th",[e._v("Actual Ending Balance(₦) ")])])]),a("tbody",{staticClass:"tablebody"},[e.loading?a("tr",[a("td",{attrs:{colspan:"10"}},[e._v("Loading...please wait")])]):e._e(),!e.loading&&e.filteredList.length<1?a("tr",[a("td",{attrs:{colspan:"10"}},[e._v("No record at the moment")])]):e._e(),e._l(e.filteredList,function(t,n){return!e.loading&&e.filteredList.length>0?a("tr",{key:n},[a("td",{staticClass:"column-name"},[e._v(e._s(t.riderID?t.riderID:"N/A"))]),a("td",{staticClass:"column-name"},[e._v(e._s(t.riderfirstname)+" "+e._s(t.riderlastname))]),a("td",[e._v(e._s(t.leaseamount?e.formatPrice(t.leaseamount):"N/A"))]),a("td",[e._v(e._s(t.leaseamount?e.formatPrice(t.leaseamount):"N/A")+" ")]),a("td",[e._v(" "+e._s(t.expectedweeklyamount?e.formatPrice(t.expectedweeklyamount):"N/A"))]),a("td",[e._v(e._s(t.remittanceamount?e.formatPrice(t.remittanceamount):"Not Remitted yet"))]),a("td",[e._v(e._s(e.formatPrice(t.leaseamount-t.expectedweeklyamount)))]),a("td",[e._v(e._s(e.formatPrice(t.leaseamount-t.remittanceamount)))])]):e._e()})],2)])])],1)])};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},hYtS:function(e,t,a){"use strict";var n=a("M2Sb"),r=a("zTfd"),s=a("VU/8")(n.a,r.a,!1,null,null,null);s.options.__file="components/Pagination.vue",t.a=s.exports},i0ln:function(e,t,a){(function(e){!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};t.m=e,t.c=a,t.p="",t(0)}([function(t,a){var n=["today","clear","close","selectMonth","prevMonth","nextMonth","selectYear","prevYear","nextYear","selectDecade","prevDecade","nextDecade","prevCentury","nextCentury","pickHour","incrementHour","decrementHour","pickMinute","incrementMinute","decrementMinute","pickSecond","incrementSecond","decrementSecond","togglePeriod","selectTime"];t.exports={replace:!0,inherit:!1,template:"<div class='input-group date'><input class='form-control' :name='name' type='text' /><span class='input-group-addon'><i class='fa fa-fw fa-calendar'></i></span></div>",props:{model:{required:!0,twoWay:!0},type:{type:String,required:!1,default:"datetime"},language:{type:String,required:!1,default:""},datetimeFormat:{type:String,required:!1,default:"YYYY-MM-DD HH:mm:ss"},dateFormat:{type:String,required:!1,default:"YYYY-MM-DD"},timeFormat:{type:String,required:!1,default:"HH:mm:ss"},name:{type:String,required:!1,default:""},onChange:{required:!1,default:null}},beforeCompile:function(){this.isChanging=!1,this.control=null},ready:function(){var t={useCurrent:!1,showClear:!0,showClose:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-dot-circle-o",clear:"fa fa-trash",close:"fa fa-times"}},a=this.language;switch(null!==a&&""!==a||(this.$language?a=this.$language:langauge="en-US"),t.locale=this.getLanguageCode(a),this.type){case"date":t.format=this.dateFormat;break;case"time":t.format=this.timeFormat;break;case"datetime":default:t.format=this.datetimeFormat}if(this.$i18n&&this.$i18n.datetime_picker){for(var r=this.$i18n.datetime_picker,s=e.fn.datetimepicker.defaults.tooltips,i=0;i<n.length;++i){var o=n[i];r[o]&&(s[o]=r[o])}t.tooltips=s}e(this.$el).datetimepicker(t),this.control=e(this.$el).data("DateTimePicker"),this.control.date(this.model);var c=this;e(this.$el).on("dp.change",function(){c.isChanging||(c.isChanging=!0,c.model=c.control.date(),c.$nextTick(function(){c.isChanging=!1,c.onChange&&c.onChange(c.model)}))})},watch:{model:function(e,t){this.isChanging||(this.isChanging=!0,this.control.date(e),this.isChanging=!1,this.onChange&&this.onChange(e))}},methods:{getLanguageCode:function(e){if(null===e||0===e.length)return"en";if(e.length<=2)return e;switch(e){case"zh-CN":case"zh-TW":case"ar-MA":case"ar-SA":case"ar-TN":case"de-AT":case"en-AU":case"en-CA":case"en-GB":case"fr-CA":case"hy-AM":case"ms-MY":case"pt-BR":case"sr-CYRL":case"tl-PH":case"tzm-LATN":case"tzm":return e.toLowerCase();default:return e.substr(0,2)}}}}}])}).call(t,a("7t+N"))},pbUF:function(e,t,a){"use strict";var n=a("hYtS");a("/5sW");t.a={components:{Pagination:n.a,"vue-datetime-picker":a("i0ln")},layout:"main",computed:{filteredList:function(){var e=this;return this.reports.filter(function(t){return""==e.search?e.reports:null!=t.riderID&&t.riderID==e.search?t.riderID==e.search:void 0})},json_fields:function(){var e=this;return{"Rider ID":"riderID","Expected Starting Balance":{field:"leaseamount",callback:function(t){return e.formatPrice(t)}},"Actual Starting Balance":{field:"leaseamount",callback:function(t){return e.formatPrice(t)}},"Expected Weekly Remittance":{field:"expectedweeklyamount",callback:function(t){return e.formatPrice(t)}},"Actual Weekly Remittance":"remittanceamount","Expected Ending Balance":{callback:function(e){return""+(e.leaseamount-e.expectedweeklyamount)}},"Actual Ending Balance":{callback:function(e){return""+(e.leaseamount-e.remittanceamount)}}}}},data:function(){return{loading:!0,dae:"",search:"",result:"",dailyTotal:"",reports:[],branches:[],date:"",formData:{merchID:"",branchID:"",startdate:"",enddate:"",riderID:""},headers:{Next:"",Prev:"",Count:0,total:0,pagenum:1},api:"usersreport/getLeaseReport"}},methods:{formatNumber:function(e){return(new Intl.NumberFormat).format(e)},getReport:function(e){var t=this;void 0!=e&&"branchID"==e&&(this.formData.page=1),this.loading=!0,""!==this.date&&null!=this.date[0]?(this.formData.startdate=this.$moment(this.date[0]).format("YYYY-MM-DD"),this.formData.enddate=this.$moment(this.date[1]).format("YYYY-MM-DD")):(this.formData.startdate="",this.formData.enddate="");this.formData.export="",this.$store.dispatch("usersreport/getLeaseReport",this.formData).then(function(e){if(e.status)return t.reports=e.data,console.log("reports",e),t.setHeaders(e.data,e.headers),void(t.loading=!1);t.loading=!1,t.$toast.error("An error occurred")}).catch(function(e){t.loading=!1,t.is401(e.res.status),t.$toast.error("An error occurred "+e)})},listBranches:function(){var e=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(t){e.branches=t.data.data}).catch(function(e){console.log(e)})}},beforeRouteEnter:function(e,t,a){var n=JSON.parse(localStorage.getItem("user"));void 0==n.role||n.rolepermission&&n.rolepermission[0].reports.viewleasereport?a():(alert("You have not been permitted to view this page"),a({path:"/dashboard"}))},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.getReport(),this.listBranches()}}},qe7D:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("pbUF"),r=a("b5sc"),s=a("VU/8")(n.a,r.a,!1,null,null,null);s.options.__file="pages/reports/lease/index.vue",t.default=s.exports},zTfd:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("div",{staticClass:"drop-down page-drop"},[a("button",{staticClass:"btn-text ",attrs:{type:"button"}},[e._v("\n          Showing "),a("span",[e._v(" "+e._s(e.showing)+" ")]),e._v(" of "),a("span",[e._v(" "+e._s(void 0!=this.headers.Count?this.headers.Count:0)+" ")])])]),a("div",{staticClass:"d-flx-alc"},[e.date&&"object"==typeof e.date?a("div",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.date[0])+" - "+e._s(e.date[1]))]):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:"string"==typeof e.date,expression:"typeof date == 'string'"}],staticStyle:{"font-weight":"bold"}},[e._v(e._s(e.date)+" ")]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:e.previous}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-right"}})])]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:e.next}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-left"}})])])])])};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r}});