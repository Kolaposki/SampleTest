webpackJsonp([76],{"+ptz":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("main",{staticClass:"main",attrs:{id:"mainContent"}},[a("div",{staticClass:"major-bg maxwidth-xxl mx-auto"},[a("div",{staticClass:"auth-wrapper"},[t._m(0),a("section",{staticClass:"auth-wrapper__main log-in sign-in-bg"},[a("div",{staticClass:"auth-wrapper__main--lhs"},[a("div",{staticClass:"lhs-inner-wrap"},[a("div",{staticClass:"title-svg"},[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#key"}})]),t._m(1)]),a("form",{staticClass:"auth-form",on:{submit:function(s){return s.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Email address")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],attrs:{type:"text",placeholder:"What’s your email address?"},domProps:{value:t.formData.email},on:{input:function(s){s.target.composing||t.$set(t.formData,"email",s.target.value)}}})]),t.emailError?a("span",{staticClass:"form-input__error-msg"},[t._v("Email address is required")]):t._e()]),a("label",{staticClass:"form-input"},[a("div",{staticClass:"d-flx-alc-jsb"},[a("span",{staticClass:"form-input__label"},[t._v("Password")]),a("nuxt-link",{attrs:{to:"/forgot-password"}},[t._v("Forgot Password?")])],1),a("label",{staticClass:"search-w-icon",staticStyle:{border:"1px solid #c9ccd1"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticStyle:{height:"50px"},attrs:{id:"password",type:"password"},domProps:{value:t.formData.password},on:{input:function(s){s.target.composing||t.$set(t.formData,"password",s.target.value)}}}),a("svg",{attrs:{id:"pass"},on:{click:function(s){return t.togglePassword("password","pass","pass-off")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see"}})]),a("svg",{staticStyle:{display:"none"},attrs:{id:"pass-off"},on:{click:function(s){return t.togglePassword("password","pass-off","pass")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see-off"}})])]),t.passwordError?a("span",{staticClass:"form-input__error-msg"},[t._v("Password is required")]):t._e(),t.errorMsg?a("span",{staticClass:"form-input__error-msg",attrs:{id:"errMessage"}}):t._e()]),a("button",{staticClass:"btn btn--primary auth-btn",attrs:{id:"submitBtn",type:"submit"}},[t._v("\n                Sign in\n              ")])])])]),a("div",{staticClass:"auth-wrapper__main--rhs"},[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#overlap"}})]),a("h2",[t._v("Welcome to Ntisa Admin")])])]),a("div",{staticClass:"legal"},[t._m(2),a("p",[t._v("All rights reserved © "+t._s((new Date).getFullYear())+" Ntisa")])])])])])};e._withStripped=!0;var r={render:e,staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("header",{staticClass:"auth-logo mb-3"},[s("img",{attrs:{src:"/uploads/ntisa-admin-logo.png",alt:"NTISA-LOGO"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"cont-holder ml-1h"},[s("h1",{staticClass:"aut-page-title"},[this._v("\n                  Welcome Back!\n                ")]),s("p",{staticClass:"aut-page-text"},[this._v("\n                  Sign in to continue\n                ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"legal-links"},[s("a",{attrs:{href:""}},[this._v("privacy")]),s("a",{attrs:{href:""}},[this._v("Terms")])])}]};s.a=r},"/TYz":function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Cn0F"),r=a("+ptz"),i=a("VU/8")(e.a,r.a,!1,null,null,null);i.options.__file="pages/index.vue",s.default=i.exports},Cn0F:function(t,s,a){"use strict";(function(t){var e=a("W3Iv"),r=a.n(e);s.a={layout:"default",data:function(){return{formData:{email:"",password:""},emailError:!1,passwordError:!1,errorMsg:!1}},methods:{submitForm:function(){var s=this;try{if(this.resetErrorMessages(),""===this.formData.email)return void(this.emailError=!0);if(""===this.formData.password)return void(this.passwordError=!0);t("#submitBtn").attr("disabled",!0).html("Signing in...Please wait"),this.$store.dispatch("authenticate/userLogin",this.formData).then(function(a){if(t("#submitBtn").attr("disabled",!1).html("Sign In"),!1===a.status)return t("#errMessage").html(a.message),s.$toast.error(a.message),s.errorMsg=!0,void(a.message.toLowerCase().includes("expire")&&(window.location="http://ntisawebsite.wajesmarthrms.website/subscription.html"));r()(a.data).length>0&&(s.$store.dispatch("riders/loginToFireBase").then(function(t){}).catch(function(t){}),s.$router.push(decodeURIComponent(s.$route.query.redirect||"/dashboard")))}).catch(function(s){localStorage.removeItem("token"),t("#submitBtn").attr("disabled",!1).html("Sign In")})}catch(s){t("#submitBtn").attr("disabled",!1).html("Sign In")}},resetFormData:function(){this.formData={email:"",password:""}},resetErrorMessages:function(){this.emailError=!1,this.passwordError=!1,this.errorMsg=!1}},beforeCreate:function(){null!=localStorage.getItem("token")&&void 0!=localStorage.getItem("token")&&""!=localStorage.getItem("token")&&this.$router.push("/dashboard")}}}).call(s,a("7t+N"))}});