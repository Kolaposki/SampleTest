webpackJsonp([48],{"11C1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("wZZ0"),s=a("RGix"),n=!1;var o=function(e){n||a("Lvr8")},i=a("VU/8")(r.a,s.a,!1,o,"data-v-00c1f339",null);i.options.__file="pages/reports/riders-onboarding/index.vue",t.default=i.exports},Lvr8:function(e,t,a){var r=a("vOeS");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("43270a97",r,!1,{sourceMap:!1})},RGix:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("nuxt-link",{staticClass:"text-link",attrs:{to:"/reports"}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#back"}})]),a("span",{staticClass:"ml-1 fw-bold co-grey"},[e._v("Back")])]),a("div",{staticClass:"search-filter d-flx-alc-jfe"},[a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),a("div",{staticClass:"drop-down page-drop"},[a("date-picker",{attrs:{range:"",placeholder:"Date Range",type:"datetime",timeTitleFormat:"YYYY-MM-DD hh:mm a",format:"YYYY-MM-DD hh:mm a","value-type":"format","show-second":!1,"show-time-panel":e.showTimeRangePanel},on:{change:e.getRiderReport,close:e.handleRangeClose},scopedSlots:e._u([{key:"footer",fn:function(){return[a("button",{staticClass:"mx-btn mx-btn-text",on:{click:e.toggleTimeRangePanel}},[e._v("\n              "+e._s(e.showTimeRangePanel?"select date":"select time")+"\n            ")])]},proxy:!0}]),model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("download-excel",{staticClass:"btn btn--primary",attrs:{id:"download",fetch:e.fetchData,fields:e.json_fields,"before-generate":e.startDownload,"before-finish":e.finishDownload,worksheet:"My Worksheet",name:"rider-onboarding-report.xls"}},[e._v("\n        Export\n      ")])],1)],1),a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("div",{staticClass:"drop-down page-drop"},[a("button",{staticClass:"btn-text",attrs:{type:"button"}},[e._v("\n        Showing "),a("span",[e._v(" "+e._s(e.showing)+" ")]),e._v(" of\n        "),a("span",[e._v("\n          "+e._s(void 0!=this.headers.Count?this.headers.Count:0)+"\n        ")])])]),a("div",{staticClass:"d-flx-alc"},[a("div",[e._v(e._s(e.date[0])+" - "+e._s(e.date[1]))]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:e.previousData}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-right"}})])]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:e.nextData}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-left"}})])])])]),a("div",{staticClass:"inner-main-wrapper"},[a("overlay-scrollbars",{staticClass:"table-wrapper no-deco"},[a("figcaption",{staticClass:"sr"},[e._v("\n        A table showing information of categories\n      ")]),a("table",{staticClass:"table-content large-content"},[a("thead",{},[a("tr",[a("th",{staticClass:"large-space column-name"},[e._v("Rider ID")]),a("th",{staticClass:"large-space column-name"},[e._v("First Name")]),a("th",{staticClass:"large-space column-name"},[e._v("Last Name")]),a("th",{staticClass:"large-space column-name"},[e._v("Phone Number")]),a("th",{staticClass:"large-space column-name"},[e._v("Residential Address")]),a("th",{staticClass:"large-space column-name"},[e._v("Bike Reg. No")]),a("th",{staticClass:"large-space column-name"},[e._v("\n              Branch(Region of Operation)\n            ")]),a("th",{staticClass:"large-space column-name"},[e._v("Contract type")]),a("th",{staticClass:"large-space column-name"},[e._v("Signup date")])])]),a("tbody",{staticClass:"tablebody"},[e.loading?a("tr",[a("td",{attrs:{colspan:"9"}},[e._v("Loading...please wait")])]):e._e(),!e.loading&&e.filteredList.length<1?a("tr",[a("td",{attrs:{colspan:"9"}},[e._v("No record at the moment")])]):e._e(),e._l(e.filteredList,function(t,r){return!e.loading&&e.filteredList.length>0?a("tr",{key:r},[a("td",{staticClass:"column-name"},[e._v(e._s(t.id?t.id:"N/A"))]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.riderfirstname?t.riderfirstname:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.riderlastname?t.riderlastname:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.riderphonenumber?t.riderphonenumber:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.residentialaddress?t.residentialaddress:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.registrationnumber?t.registrationnumber:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.branchname?t.branchname:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.contracttype?t.contracttype:"N/A")+"\n            ")]),a("td",{staticClass:"column-name"},[e._v("\n              "+e._s(t.created_at?e.$moment(t.created_at).format("Do MMM, YYYY HH:mm"):"N/A")+"\n            ")])]):e._e()})],2)])])],1)])};r._withStripped=!0;var s={render:r,staticRenderFns:[]};t.a=s},vOeS:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"",""])},wZZ0:function(e,t,a){"use strict";t.a={layout:"main",computed:{filteredList:function(){var e=this;return this.reports.filter(function(t){return t.riderfirstname.toLowerCase().includes(e.search.toLowerCase())?t.riderfirstname.toLowerCase().includes(e.search.toLowerCase()):t.riderlastname.toLowerCase().includes(e.search.toLowerCase())?t.riderlastname.toLowerCase().includes(e.search.toLowerCase()):null!=t.id&&t.id==e.search?t.id==e.search:t.branchcity.toLowerCase().includes(e.search.toLowerCase())})},json_fields:function(){var e=this;this.$moment;return{"Signup Date":{callback:function(t){return e.$moment(t.created_at).format("Do MMM, YYYY")}},"Rider Name":{callback:function(e){return e.riderfirstname+" "+e.riderlastname}},"Reg. Number":"registrationnumber",Branch:"branchcity","Contract Type":"contracttype",Address:"residentialaddress","Phone Number":"riderphonenumber","Email Address":"rideremailaddress","Bank Name":"bankname","Bank Account":"bankaccount","Guarantor 1 Name":{callback:function(e){return e.refreefirstname+" "+e.refreelastname}},"Guarantor 1 Phone Number ":"refreephonenumber","Guarantor Address":"refreeaddress","Guarantor 2 Name":{callback:function(e){return e.refree_2firstname+" "+e.refree_2lastname}},"Guarantor 2 Phone Number ":"refree_2phonenumber","Guarantor 2 Address":"refree_2address"}}},data:function(){return{loading:!0,formData:{merchID:"",startdate:"",enddate:"",branchID:"",riderID:""},date:"",reports:[],search:"",api:"usersreport/getOnboardingReport",headers:{Next:"",Prev:"",Count:0,total:0,pagenum:1}}},methods:{formatNumber:function(e){return(new Intl.NumberFormat).format(e)},getRiderReport:function(){var e=this;this.loading=!0,""!==this.date&&null!=this.date[0]?(this.formData.startdate=this.$moment(this.date[0]).format("YYYY-MM-DD"),this.formData.enddate=this.$moment(this.date[1]).format("YYYY-MM-DD")):(this.formData.startdate="",this.formData.enddate="");this.formData.export="",this.$store.dispatch("usersreport/getOnboardingReport",this.formData).then(function(t){if(t.status)return e.reports=t.data,e.setHeaders(t.data,t.headers),void(e.loading=!1);e.loading=!1,e.$toast.error("An error occurred")}).catch(function(t){e.loading=!1,e.$toast.error("An error occurred!")})},nextData:function(){if(""!==this.headers.Next){var e=+this.formData.page+1;this.formData.page=e,this.getRiderReport()}},previousData:function(){if(""!==this.headers.Previous){var e=+this.formData.page-1;e<0?this.formData.page=1:(this.formData.page=e,this.getRiderReport())}},viewOrderDetails:function(e){localStorage.removeItem("riderHistory"),this.$store.dispatch("usersreport/setRiderHistory",e),this.$router.push("/reports/users/rider/history")}},beforeRouteEnter:function(e,t,a){var r=JSON.parse(localStorage.getItem("user"));void 0==r.role||r.rolepermission&&r.rolepermission[0].reports.viewrideronboarding?a():(alert("You have not been permitted to view this page"),a({path:"/dashboard"}))},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.formData.branchID="",this.getRiderReport()}}}});