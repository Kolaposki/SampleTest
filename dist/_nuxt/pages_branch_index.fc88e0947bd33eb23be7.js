webpackJsonp([22],{"/1fG":function(e,t,a){var i=a("DUly");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("26e5b84d",i,!1,{sourceMap:!1})},"/d5s":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mefi"),s=a("b1ux"),r=!1;var n=function(e){r||(a("uMUY"),a("/1fG"))},o=a("VU/8")(i.a,s.a,!1,n,"data-v-915d66c4",null);o.options.__file="pages/branch/index.vue",t.default=o.exports},DUly:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".form-input-checked-box{margin-bottom:5px}.tiny{max-width:50px!important}h3{height:50px}.branch_image{width:unset!important;height:unset!important;max-height:100%!important;max-width:100%!important;display:block!important;border-radius:6px!important;-o-object-fit:cover;object-fit:cover}.card__body{-webkit-box-pack:initial!important;-ms-flex-pack:initial!important;justify-content:initial!important}.branch_image_holder{width:130px!important;height:130px!important;margin-right:10px}.father_time{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.time{min-width:30%!important;padding:0 4px!important;padding:0 .25rem!important;text-align:center!important}.time select{width:60%!important}.card{border-top:3px solid #228b22}",""])},GNqS:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,".review span[data-v-915d66c4]{margin-left:6px}.btn--primary[data-v-915d66c4]{background-color:#089628;color:#fff;min-width:10px!important}.btn--danger[data-v-915d66c4]{background-color:#dc3545;color:#fff;min-width:10px!important}.btn[data-v-915d66c4]{padding:9.6px 19.2px;padding:.6rem 1.2rem}",""])},b1ux:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("p",{staticClass:"fw-medium font-16"}),a("div",{staticClass:"search-filter d-flx-alc-jfe"},[a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),e.user.rolepermission&&e.user.rolepermission[0].branch.addbranches||e.isMerchant?a("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:e.addBranch}},[e._v("\n          Add new branch\n        ")]):e._e()])]),a("div",{attrs:{id:"parent-component"}},[a("div",{attrs:{id:"add-branch","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#add-branch',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:e.cancelAdd}}),a("div",{staticClass:"modal-header"},[a("h2",[e._v("Create Branch")]),a("p",[e._v("Add your branch description and necessary information from here")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.createBranch.apply(null,arguments)}}},[a("overlay-scrollbars",{staticClass:"modal-body"},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Branch name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.branchname,expression:"formData.branchname"}],attrs:{type:"text",placeholder:""},domProps:{value:e.formData.branchname},on:{input:function(t){t.target.composing||e.$set(e.formData,"branchname",t.target.value)}}})]),e.errorData.branchname?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter a branch name")]):e._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Street address")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.branchaddress,expression:"formData.branchaddress"}],attrs:{id:"map",type:"text",placeholder:""},domProps:{value:e.formData.branchaddress},on:{change:e.getAddAddress,input:function(t){t.target.composing||e.$set(e.formData,"branchaddress",t.target.value)}}})]),e.errorData.branchaddress?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter an address")]):e._e()])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("State")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.branchstate,expression:"formData.branchstate"}],attrs:{type:"text",placeholder:""},domProps:{value:e.formData.branchstate},on:{input:function(t){t.target.composing||e.$set(e.formData,"branchstate",t.target.value)}}})]),e.errorData.branchstate?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter a state")]):e._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("City")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.branchcity,expression:"formData.branchcity"}],attrs:{type:"text",placeholder:""},domProps:{value:e.formData.branchcity},on:{input:function(t){t.target.composing||e.$set(e.formData,"branchcity",t.target.value)}}})]),e.errorData.branchcity?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter a city")]):e._e()])]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Telephone line "),a("span",{staticStyle:{color:"red","font-size":"12px"}},[e._v("(must be 11-digits e.g: 08080000000)")])]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.branchofficeline,expression:"formData.branchofficeline"}],attrs:{type:"tel",pattern:"^[0]\\d{10}$",required:"",placeholder:""},domProps:{value:e.formData.branchofficeline},on:{input:function(t){t.target.composing||e.$set(e.formData,"branchofficeline",t.target.value)}}})]),e.errorData.branchofficeline?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter an office line")]):e._e()])]),a("div",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Open days")]),a("div",{staticClass:"radio-input-wrapper small-child"},[a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Monday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Monday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Monday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Monday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Mon")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Tuesday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Tuesday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Tuesday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Tuesday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Tue")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Wednesday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Wednesday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Wednesday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Wednesday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Wed")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Thursday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Thursday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Thursday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Thursday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Thu")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Friday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Friday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Friday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Friday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Fri")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Saturday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Saturday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Saturday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Saturday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Sat")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.openingdays,expression:"formData.openingdays"}],attrs:{type:"checkbox",value:"Sunday",name:"open-days"},domProps:{checked:Array.isArray(e.formData.openingdays)?e._i(e.formData.openingdays,"Sunday")>-1:e.formData.openingdays},on:{change:function(t){var a=e.formData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Sunday");i.checked?r<0&&e.$set(e.formData,"openingdays",a.concat(["Sunday"])):r>-1&&e.$set(e.formData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Sun")])])]),e.errorData.openingdays?a("span",{staticClass:"form-input__error-msg"},[e._v("Please select opening days")]):e._e()]),a("div",{staticClass:"form-input flex-width-1-1 less-gp"},[a("span",{staticClass:"form-input__label"},[e._v("Delivery Type")]),a("div",{staticClass:"radio-input-wrapper small-child"},[a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.isdelivery,expression:"formData.isdelivery"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.formData.isdelivery)?e._i(e.formData.isdelivery,"true")>-1:e.formData.isdelivery},on:{change:function(t){var a=e.formData.isdelivery,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"true");i.checked?r<0&&e.$set(e.formData,"isdelivery",a.concat(["true"])):r>-1&&e.$set(e.formData,"isdelivery",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"isdelivery",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Delivery")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.ispickup,expression:"formData.ispickup"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.formData.ispickup)?e._i(e.formData.ispickup,"true")>-1:e.formData.ispickup},on:{change:function(t){var a=e.formData.ispickup,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"true");i.checked?r<0&&e.$set(e.formData,"ispickup",a.concat(["true"])):r>-1&&e.$set(e.formData,"ispickup",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.formData,"ispickup",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Pickup")])])])]),a("div",{staticClass:"flex-width-1-2 "},[a("label",{staticClass:"form-input half"},[a("span",{staticClass:"form-input__label "},[e._v("Time for receiving order")]),a("div",{staticClass:"form-input__input father_time"},[a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.startReceive.hour,expression:"startReceive.hour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.startReceive,"hour",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.hours,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                      :\n                      "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.startReceive.min,expression:"startReceive.min"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.startReceive,"min",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.minutes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                      :\n                      "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.startReceive.day,expression:"startReceive.day"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.startReceive,"day",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),a("option",{attrs:{value:"am"}},[e._v("AM")]),a("option",{attrs:{value:"pm"}},[e._v("PM")])])])]),e.errorData.openingtime?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter an opening time")]):e._e()]),a("label",{staticClass:"form-input half"},[a("span",{staticClass:"form-input__label"},[e._v("Time to stop receiving orders")]),a("div",{staticClass:"form-input__input father_time"},[a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.stopReceive.hour,expression:"stopReceive.hour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.stopReceive,"hour",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.hours,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                      :\n                      "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.stopReceive.min,expression:"stopReceive.min"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.stopReceive,"min",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.minutes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                      :\n                      "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.stopReceive.day,expression:"stopReceive.day"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.stopReceive,"day",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),a("option",{attrs:{value:"am"}},[e._v("AM")]),a("option",{attrs:{value:"pm"}},[e._v("PM")])])])]),e.errorData.closingtime?a("span",{staticClass:"form-input__error-msg"},[e._v("Please enter a closing time")]):e._e()])])]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:e.cancelAdd}},[e._v("\n                  Cancel\n                ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"submitBtn"}},[e._v("\n                  Create branch\n                ")])])],1)])]),a("div",{attrs:{id:"reviewsLoading","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#reviewsLoading',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("div",{staticClass:"modal-header small-svg"},[a("div",{staticClass:"d-flx-alc-jsb"},[a("h1",[e._v("Loading...please wait")])])])])]),a("div",{attrs:{id:"reviews","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#reviews',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:e.closeReview}}),a("div",{staticClass:"modal-header small-svg"},[a("div",{staticClass:"d-flx-alc-jsb"},[a("div",{staticClass:"d-flx-alc"},[a("h2",[e._v("Reviews")]),a("div",{staticClass:"review ml-1h"},[a("p",[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#star"}})]),a("span",[e._v(e._s(e.formatNumber(e.reviewRate)))])]),a("p",[a("span",[e._v("("+e._s(e.reviewData.length)+")")])])])])])]),a("ul",{staticClass:"modal-body my-0",attrs:{"uk-overflow-auto":""}},[e.reviewLoading?a("li",[a("div",{staticClass:"review-item__title"},[a("h3",[e._v("Loading....please wait")])])]):e._e(),!e.reviewLoading&&e.reviewData.length<1?a("li",[a("div",{staticClass:"review-item__title"},[a("h3",[e._v("No reviews for the selected branch")])])]):e._e(),e._l(e.reviewData,function(t){return!e.reviewLoading&&e.reviewData.length>0?a("li",{key:t.id,staticClass:"review-item"},[a("div",{staticClass:"review-item__title"},[""===t.profilelink||null===t.profilelink||"http://68.65.121.57:8080/"===t.profilelink?a("img",{attrs:{src:"/default_image.png",alt:""}}):t.profilelink.includes("http://")&&t.profilelink.includes("https://")?a("img",{attrs:{src:t.profilelink.replace("http://68.65.121.57:8080/",""),alt:""}}):a("img",{attrs:{src:t.profilelink,alt:""}}),null===t.customerID?a("h3",[e._v("\n                  N/A\n                ")]):a("h3",[e._v("\n                  "+e._s(t.firstname)+" "+e._s(t.lastname)+"\n                ")]),a("p",[a("span",[e._v(e._s(t.rate))]),a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#star"}})])])]),a("p",{staticClass:"review-item__review"},[e._v(e._s(t.comment))]),a("p",{staticClass:"review-item__time"},[e._v("\n                Published "+e._s(e.$moment(t.created_at).fromNow())+"\n              ")])]):e._e()})],2)])]),a("div",{attrs:{id:"delete-text","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#delete-text',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical small-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button"},on:{click:e.cancelDelete}},[e._v("X")]),a("div",{staticClass:"modal-header d-flx"},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#co-delete"}})]),a("div",{staticClass:"ml-1"},[a("h2",[e._v("Remove Branch ?")]),a("p",[e._v("Please confirm you really want to delete this store, this action cannot be undone.")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"d-flx-alc-jc mt-3"},[a("button",{staticClass:"btn btn-no-fill",on:{click:e.cancelDelete}},[e._v("\n                Cancel\n              ")]),a("button",{staticClass:"btn btn-error ml-2",attrs:{id:"deleteBranch"},on:{click:e.doDelete}},[e._v("\n                Delete\n              ")])])])])]),a("div",{attrs:{id:"edit-branch","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#edit-branch',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button"},on:{click:e.cancelEdit}},[e._v("X")]),a("div",{staticClass:"modal-header"},[a("h2",[e._v("Update Branch")]),a("p",[e._v("Add your branch description and necessary information from here")])]),a("form",{on:{submit:function(t){return t.preventDefault(),e.updateBranch.apply(null,arguments)}}},[a("overlay-scrollbars",{staticClass:"modal-body"},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Branch Name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.branchname,expression:"editData.branchname"}],attrs:{type:"text",placeholder:""},domProps:{value:e.editData.branchname},on:{input:function(t){t.target.composing||e.$set(e.editData,"branchname",t.target.value)}}})])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Street Address")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.branchaddress,expression:"editData.branchaddress"}],attrs:{type:"text",placeholder:""},domProps:{value:e.editData.branchaddress},on:{change:e.getEditAddress,input:function(t){t.target.composing||e.$set(e.editData,"branchaddress",t.target.value)}}})])])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("State")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.branchstate,expression:"editData.branchstate"}],attrs:{type:"text",placeholder:""},domProps:{value:e.editData.branchstate},on:{input:function(t){t.target.composing||e.$set(e.editData,"branchstate",t.target.value)}}})])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("City")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.branchcity,expression:"editData.branchcity"}],attrs:{type:"text",placeholder:""},domProps:{value:e.editData.branchcity},on:{input:function(t){t.target.composing||e.$set(e.editData,"branchcity",t.target.value)}}})])])]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Telephone Line "),a("span",{staticStyle:{color:"red","font-size":"12px"}},[e._v("(must be 11-digits e.g: 08080000000)")])]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.branchofficeline,expression:"editData.branchofficeline"}],attrs:{type:"tel",pattern:"^[0]\\d{10}$",required:"",placeholder:""},domProps:{value:e.editData.branchofficeline},on:{input:function(t){t.target.composing||e.$set(e.editData,"branchofficeline",t.target.value)}}})])])]),a("div",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Open days")]),a("div",{staticClass:"radio-input-wrapper small-child"},[a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Monday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Monday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Monday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Monday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Mon")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Tuesday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Tuesday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Tuesday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Tuesday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Tue")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Wednesday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Wednesday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Wednesday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Wednesday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Wed")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Thursday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Thursday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Thursday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Thursday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Thu")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Friday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Friday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Friday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Friday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Fri")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Saturday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Saturday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Saturday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Saturday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Sat")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.openingdays,expression:"editData.openingdays"}],attrs:{type:"checkbox",value:"Sunday",name:"open-days"},domProps:{checked:Array.isArray(e.editData.openingdays)?e._i(e.editData.openingdays,"Sunday")>-1:e.editData.openingdays},on:{change:function(t){var a=e.editData.openingdays,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"Sunday");i.checked?r<0&&e.$set(e.editData,"openingdays",a.concat(["Sunday"])):r>-1&&e.$set(e.editData,"openingdays",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"openingdays",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Sun")])])])]),a("div",{staticClass:"form-input flex-width-1-1 less-gp"},[a("span",{staticClass:"form-input__label"},[e._v("Delivery Type")]),a("div",{staticClass:"radio-input-wrapper small-child"},[a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.isdelivery,expression:"editData.isdelivery"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.editData.isdelivery)?e._i(e.editData.isdelivery,"true")>-1:e.editData.isdelivery},on:{change:function(t){var a=e.editData.isdelivery,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"true");i.checked?r<0&&e.$set(e.editData,"isdelivery",a.concat(["true"])):r>-1&&e.$set(e.editData,"isdelivery",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"isdelivery",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Delivery")])]),a("label",{staticClass:"form-input-checked-box"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editData.ispickup,expression:"editData.ispickup"}],attrs:{type:"checkbox",value:"true"},domProps:{checked:Array.isArray(e.editData.ispickup)?e._i(e.editData.ispickup,"true")>-1:e.editData.ispickup},on:{change:function(t){var a=e.editData.ispickup,i=t.target,s=!!i.checked;if(Array.isArray(a)){var r=e._i(a,"true");i.checked?r<0&&e.$set(e.editData,"ispickup",a.concat(["true"])):r>-1&&e.$set(e.editData,"ispickup",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.editData,"ispickup",s)}}}),a("span",{staticClass:"form-input__label"},[e._v("Pickup")])])])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input half"},[a("span",{staticClass:"form-input__label"},[e._v("Time to start receiving orders")]),a("div",{staticClass:"form-input__input father_time"},[a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStartReceive.hour,expression:"editStartReceive.hour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStartReceive,"hour",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.hours,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                  :\n                  "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStartReceive.min,expression:"editStartReceive.min"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStartReceive,"min",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.minutes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                  :\n                  "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStartReceive.day,expression:"editStartReceive.day"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStartReceive,"day",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),a("option",{attrs:{value:"am"}},[e._v("AM")]),a("option",{attrs:{value:"pm"}},[e._v("PM")])])])])]),a("label",{staticClass:"form-input half"},[a("span",{staticClass:"form-input__label"},[e._v("Time to stop receiving orders")]),a("div",{staticClass:"form-input__input father_time"},[a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStopReceive.hour,expression:"editStopReceive.hour"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStopReceive,"hour",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.hours,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                  :\n                  "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStopReceive.min,expression:"editStopReceive.min"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStopReceive,"min",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),e._l(e.minutes,function(t){return a("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.text))])})],2)]),e._v("\n                  :\n                  "),a("label",{staticClass:"form-input-checked-box time"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.editStopReceive.day,expression:"editStopReceive.day"}],on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.editStopReceive,"day",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("--")]),a("option",{attrs:{value:"am"}},[e._v("AM")]),a("option",{attrs:{value:"pm"}},[e._v("PM")])])])])])])]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"updateBtn"}},[e._v("\n              Update branch\n            ")])])],1)])]),a("div",{attrs:{id:"delivery-fee","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#delivery-fee',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal large-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("div",{staticClass:"modal-header"},[a("h2",[e._v("Delivery Fee")]),a("p",[e._v("View/Update delivery fees")])]),a("overlay-scrollbars",{staticClass:"modal-body"},[a("table",{staticClass:"table-content"},[a("thead",{},[a("tr",[a("th",{staticClass:"larger-space"},[e._v("Delivery Fee Type")]),e.isCourierService?a("th",{},[e._v("Delivery Type")]):e._e(),a("th",{},[e._v("Start distance")]),a("th",{},[e._v("End distance")]),a("th",{},[e._v("Amount (₦)")]),a("th",{},[e._v("Flat Fee (₦)")]),a("th",{staticClass:"column-name"},[e._v("Action")])])]),a("tbody",[e.fees.length<1?a("tr",[a("td",{attrs:{colspan:"8"}},[e._v("No delivery fees at the moment")])]):e._e(),e._l(e.fees,function(t){return e.fees.length>0?a("tr",{key:t.id},[t.isdistancebased?a("td",[e._v("Distance based")]):e._e(),t.isweightbased?a("td",[e._v("Weight based")]):e._e(),t.isflatbased?a("td",[e._v("Flat rate based")]):e._e(),e.isCourierService?a("td",[e._v(e._s(t.deliverymethod))]):e._e(),a("td",[e._v(e._s(t.startdistance?t.startdistance:"N/A"))]),a("td",[e._v(e._s(t.enddistance?t.enddistance:"N/A"))]),a("td",[e._v(e._s(e.formatPrice(t.amount)))]),a("td",[e._v(e._s(e.formatPrice(t.flatfee)))]),a("td",{staticClass:"column-name"},[a("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:function(a){return e.editDeliveryFee(t)}}},[e._v("\n                      Edit\n                    ")])])]):e._e()})],2)])])],1)]),a("div",{attrs:{id:"edit-delivery-fee","data-uk-modal":"{target:'#edit-delivery-fee',bgclose:false}","uk-modal":"",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("div",{staticClass:"modal-header"},[a("h2",[e._v("Edit Delivery Fee")]),a("p",[e._v("Enter detail to edit delivery fee information")])]),a("overlay-scrollbars",{staticClass:"modal-body"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.updateDeliveryFee.apply(null,arguments)}}},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Delivery Fee type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:e.options},on:{select:function(t){return e.mySelectEvent(t)}},model:{value:e.editFeeData.deliverytype,callback:function(t){e.$set(e.editFeeData,"deliverytype",t)},expression:"editFeeData.deliverytype"}})],1)]),e.isCourierService?a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Delivery Type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:e.courierOptions},model:{value:e.editFeeData.deliverymethod,callback:function(t){e.$set(e.editFeeData,"deliverymethod",t)},expression:"editFeeData.deliverymethod"}})],1)]):e._e(),e.editFeeData.amountDiv?a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Amount")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.amount,expression:"editFeeData.amount"}],attrs:{type:"number"},domProps:{value:e.editFeeData.amount},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"amount",t.target.value)}}})])]):e._e(),e.editFeeData.flatFeeDiv?a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Flat fee")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.flatfee,expression:"editFeeData.flatfee"}],attrs:{type:"number"},domProps:{value:e.editFeeData.flatfee},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"flatfee",t.target.value)}}})])]):e._e()]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Start distance")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.startdistance,expression:"editFeeData.startdistance"}],attrs:{type:"number"},domProps:{value:e.editFeeData.startdistance},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"startdistance",t.target.value)}}})])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("End distance")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.enddistance,expression:"editFeeData.enddistance"}],attrs:{type:"number"},domProps:{value:e.editFeeData.enddistance},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"enddistance",t.target.value)}}})])])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Minimum Weight")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.minweight,expression:"editFeeData.minweight"}],attrs:{type:"number"},domProps:{value:e.editFeeData.minweight},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"minweight",t.target.value)}}})])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[e._v("Maximum Weight")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editFeeData.maxweight,expression:"editFeeData.maxweight"}],attrs:{type:"number"},domProps:{value:e.editFeeData.maxweight},on:{input:function(t){t.target.composing||e.$set(e.editFeeData,"maxweight",t.target.value)}}})])])]),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button",id:"cancelBtn"}},[e._v("\n                Cancel\n              ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"updateDeliveryBtn",type:"submit"}},[e._v("\n                Update\n              ")])])])])],1)])]),a("div",{staticClass:"inner-main-wrapper"},[e.loading?a("ul",[a("li",[a("div",{staticClass:"gifts-card"},[a("div",{staticClass:"gifts-card__extra"}),a("div",{staticClass:"gifts-card__title"},[e._v("\n              Loading...please wait\n            ")])])])]):e._e(),!e.loading&&e.filteredList.length<1?a("ul",[a("li",[a("div",{staticClass:"gifts-card"},[a("div",{staticClass:"gifts-card__extra"}),a("div",{staticClass:"gifts-card__title"},[e._v("\n              No record at the moment\n            ")])])])]):e._e(),!e.loading&&e.filteredList.length>0?a("ul",{staticClass:"grid mostly-4-fill"},e._l(e.filteredList,function(t,i){return a("li",{key:i,staticClass:"card box-deco-bg"},[a("div",{staticClass:"drop-down org-drop drop-set"},[a("button",{staticClass:"btn btn-icon drop-set",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.toggleDropdown(t)}}},[a("svg",{staticClass:"drop-set"},[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#more"}})])]),a("div",{staticClass:"drop-wrapper",attrs:{"data-drop-down":""}},[a("ul",{staticClass:"drop-lists",staticStyle:{cursor:"pointer"}},[e.user.rolepermission&&e.user.rolepermission[0].branch.viewreviews||e.isMerchant?a("li",{staticClass:"drop-list-item",on:{click:function(a){return e.displayReviews(t)}}},[e._v("\n                  View Reviews\n                ")]):e._e(),e.user.rolepermission&&e.user.rolepermission[0].branch.editbranch||e.isMerchant?a("li",{staticClass:"drop-list-item",on:{click:function(a){return e.editBranch(t)}}},[e._v("\n                  Edit Branch\n                ")]):e._e(),e.user.rolepermission&&e.user.rolepermission[0].branch.deletebranch||e.isMerchant?a("li",{staticClass:"drop-list-item",on:{click:function(a){return e.deleteBranch(t)}}},[e._v("\n                  Delete Branch\n                ")]):e._e()])])]),a("div",{staticClass:"card__body"},[a("div",{staticClass:"card__body--content"},[a("h3",[e._v(e._s(t.branchname))]),a("div",{staticClass:"review tiny"},[a("p",[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#star"}})]),a("span",[e._v(e._s(t.branchrating))])])])])]),a("div",{staticClass:"card__footer"},[e.user.rolepermission&&e.user.rolepermission[0].branch.createdeliveryfee||e.isMerchant?a("button",{staticClass:"btn btn--primary",on:{click:function(a){return e.createDeliveryFee(t)}}},[e._v("Create delivery fee")]):e._e(),e.user.rolepermission&&e.user.rolepermission[0].branch.viewdeliveryfee||e.isMerchant?a("button",{staticClass:"btn btn-no-fill",attrs:{id:"viewDeliveryBtn"+t.id},on:{click:function(a){return e.viewDeliveryFees(t)}}},[e._v("View delivery fees")]):e._e()])])}),0):e._e()])])};i._withStripped=!0;var s={render:i,staticRenderFns:[]};t.a=s},mefi:function(e,t,a){"use strict";(function(e){var i=a("mvHQ"),s=a.n(i);t.a={layout:"main",computed:{isCourierService:function(){return this.userData.businessdescription.toLowerCase().includes("delivery")},userData:function(){return this.$store.getters["authenticate/getUserData"]},filteredList:function(){var e=this;return this.branches.filter(function(t){return t.branchname.toLowerCase().includes(e.search.toLowerCase())?null!==t.branchname&&t.branchname.toLowerCase().includes(e.search.toLowerCase()):null!==t.branchstate&&t.branchstate.toLowerCase().includes(e.search.toLowerCase())})}},data:function(){return{courierOptions:[{id:"pool",text:"Pool"},{id:"express",text:"Express"}],search:"",loading:!0,fLoading:!0,branches:[],delivery:[{deliveryarea:"",deliveryfee:""}],startReceive:{hour:"",min:"",day:""},stopReceive:{hour:"",min:"",day:""},editStartReceive:{hour:"",min:"",day:""},editStopReceive:{hour:"",min:"",day:""},formData:{merchID:"",branchname:"",branchaddress:"",branchstate:"",branchcity:"",branchofficeline:"",branchimage:"",openingdays:[],openingtime:"",closingtime:"",deliveryarea:[],longitude:"",latitude:"",isdelivery:"",ispickup:""},errorData:{branchname:!1,branchaddress:!1,branchstate:!1,branchcity:!1,branchofficeline:!1,branchimage:!1,openingdays:!1,openingtime:!1,closingtime:!1,deliveryarea:!1},editData:{id:"",merchID:"",branchname:"",branchaddress:"",branchstate:"",branchcity:"",branchofficeline:"",branchimage:"",openingdays:[],openingtime:"",closingtime:"",deliveryarea:[],longitude:"",latitude:"",isdelivery:"",ispickup:""},performanceData:{merchID:"",reporttype:"performance",branchID:""},perfData:{orders:[],todayOrder:0,todayOrderPercentage:0,todayRevenue:0,todayRevenuePercentage:0,currentWeekOrder:0,currentWeekPercentage:0,currentWeekRevenue:0,currentWeekRevenuePerc:0},feeData:{merchID:"",branchID:""},fees:[],options:[{id:"isdistancebased",text:"Distance based"},{id:"isweightbased",text:"Weight based"},{id:"isflatbased",text:"Flat rate based"}],editFeeData:{id:"",startdistance:0,enddistance:0,minweight:0,maxweight:0,amount:0,flatfee:0,deliverymethod:"",deliverytype:"",isdistancebased:!1,isweightbased:!1,isflatbased:!1,amountDiv:!0,flatFeeDiv:!1},pLoading:!0,currentWeeksOrder:"",lastWeeksOrder:"",currentWeekStart:"",currentWeekEnd:"",address:"",resultData:"",reviewData:[],reviewLoading:!1,reviewRate:0,deleteData:{id:""},autocomplete:"",hours:[{id:"01",text:"01"},{id:"02",text:"02"},{id:"03",text:"03"},{id:"04",text:"04"},{id:"05",text:"05"},{id:"06",text:"06"},{id:"07",text:"07"},{id:"08",text:"08"},{id:"09",text:"09"},{id:"10",text:"10"},{id:"11",text:"11"},{id:"12",text:"12"}],minutes:[],geoCode:{longitude:"",latitude:""}}},methods:{formatNumber:function(e){return(new Intl.NumberFormat).format(e)},validateAddBranch:function(){return this.clearErrorData(),""===this.formData.branchname?(this.errorData.branchname=!0,!0):""===this.formData.branchaddress?(this.errorData.branchaddress=!0,!0):""===this.formData.branchstate?(this.errorData.branchstate=!0,!0):""===this.formData.branchcity?(this.errorData.branchcity=!0,!0):""===this.formData.branchofficeline?(this.errorData.branchofficeline=!0,!0):this.formData.openingdays.length<1?(this.errorData.openingdays=!0,!0):""===this.startReceive.hour||""===this.startReceive.min||""===this.startReceive.day?(this.errorData.openingtime=!0,!0):(""===this.stopReceive.hour||""===this.stopReceive.min||""===this.stopReceive.day)&&(this.errorData.closingtime=!0,!0)},generateMinutes:function(){for(var e=[],t=0;t<=60;t++){var a=void 0,i={id:a=t<10?"0"+t:t,text:a};e.push(i)}this.minutes=e},createBranch:function(){var t=this;if(!this.validateAddBranch())if(""!==this.geoCode.longitude&&""!==this.geoCode.latitude){this.formData.openingtime=this.startReceive.hour+":"+this.startReceive.min+this.startReceive.day,this.formData.closingtime=this.stopReceive.hour+":"+this.stopReceive.min+this.stopReceive.day,this.formData.longitude=this.geoCode.longitude,this.formData.latitude=this.geoCode.latitude;var a=new FormData;a.append("merchID",this.formData.merchID),a.append("branchname",this.formData.branchname),a.append("branchaddress",this.formData.branchaddress),a.append("branchstate",this.formData.branchstate),a.append("branchcity",this.formData.branchcity),a.append("branchofficeline",this.formData.branchofficeline),a.append("openingdays",s()(this.formData.openingdays)),a.append("openingtime",this.formData.openingtime),a.append("closingtime",this.formData.closingtime),a.append("deliveryarea",s()(this.formData.deliveryarea)),a.append("longitude",this.formData.longitude),a.append("latitude",this.formData.latitude),a.append("isdelivery",this.formData.isdelivery),a.append("ispickup",this.formData.ispickup),e("#submitBtn").attr("disabled",!0).html("Creating...please wait"),this.$store.dispatch("branches/addBranch",a).then(function(a){if(e("#submitBtn").attr("disabled",!1).html("Create branch"),a.data.status)return t.$toast.success(a.data.message),t.listBranches(),void t.cancelAdd();t.$toast.error(a.data.message)}).catch(function(a){t.$toast.error("An error occurred"),e("#submitBtn").attr("disabled",!1).html("Create branch")})}else this.$toast.error("Address coordinates could not be found. Please enter a valid address with city and state")},deleteBranch:function(t){this.deleteData.id=t.id,e("#delete-text").addClass("uk-open").show()},cancelDelete:function(){this.deleteData={id:""},e("#delete-text").removeClass("uk-open").hide()},doDelete:function(){var t=this;e("#deleteBranch").attr("disabled",!0).html("Deleting..please wait"),this.$store.dispatch("branches/deleteBranch",this.deleteData).then(function(a){if(e("#deleteBranch").attr("disabled",!1).html("Delete"),a.data.status)return t.$toast.success(a.data.message),t.listBranches(),void t.cancelDelete();t.$toast.error("An error occurred and the process was terminated")}).catch(function(t){e("#deleteBranch").attr("disabled",!1).html("Delete")})},clearErrorData:function(){this.errorData={branchname:!1,branchaddress:!1,branchstate:!1,branchcity:!1,branchofficeline:!1,branchimage:!1,openingdays:!1,openingtime:!1,closingtime:!1,deliveryarea:!1}},updateBranch:function(){var t=this;this.editData.openingtime=this.editStartReceive.hour+":"+this.editStartReceive.min+this.editStartReceive.day,this.editData.closingtime=this.editStopReceive.hour+":"+this.editStopReceive.min+this.editStopReceive.day,this.editData.longitude=this.geoCode.longitude,this.editData.latitude=this.geoCode.latitude;var a=new FormData;a.append("id",this.editData.id),a.append("merchID",this.editData.merchID),a.append("branchname",this.editData.branchname),a.append("branchaddress",this.editData.branchaddress),a.append("branchstate",this.editData.branchstate),a.append("branchcity",this.editData.branchcity),a.append("branchofficeline",this.editData.branchofficeline),a.append("openingdays",s()(this.editData.openingdays)),a.append("openingtime",this.editData.openingtime),a.append("closingtime",this.editData.closingtime),a.append("deliveryarea",s()(this.editData.deliveryarea)),a.append("longitude",this.editData.longitude),a.append("latitude",this.editData.latitude),a.append("isdelivery",this.editData.isdelivery),a.append("ispickup",this.editData.ispickup),e("#updateBtn").attr("disabled",!0).html("Updating..please wait"),this.$store.dispatch("branches/updateBranch",a).then(function(a){if(e("#updateBtn").attr("disabled",!1).html("Update branch"),a.data.status)return t.$toast.success(a.data.message),t.listBranches(),t.cancelEdit(),void UIkit.modal("#edit-branch").toggle("hide");t.$toast.error("An error occurred")}).catch(function(t){e("#updateBtn").attr("disabled",!1).html("Update branch")})},listBranches:function(){var e=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(t){e.loading=!1,e.branches=t.data.data}).catch(function(e){})},mySelectEvent:function(e){var t=e.id;e.text;"isdistancebased"===t?(this.editFeeData.isdistancebased=!0,this.editFeeData.isweightbased=!1,this.editFeeData.isflatbased=!1,this.editFeeData.amountDiv=!0,this.editFeeData.flatFeeDiv=!1):"isweightbased"===t?(this.editFeeData.isdistancebased=!1,this.editFeeData.isweightbased=!0,this.editFeeData.isflatbased=!1,this.editFeeData.amountDiv=!0,this.editFeeData.flatFeeDiv=!1):(this.editFeeData.isdistancebased=!1,this.editFeeData.isweightbased=!1,this.editFeeData.isflatbased=!0,this.editFeeData.amountDiv=!1,this.editFeeData.flatFeeDiv=!0)},editDeliveryFee:function(e){this.editFeeData={id:e.id,minweight:e.minweight,startdistance:e.startdistance,enddistance:e.enddistance,maxweight:e.maxweight,deliverymethod:"",amount:e.amount,flatfee:e.flatfee},this.isCourierService&&(this.editFeeData.deliverymethod=e.deliverymethod),e.isdistancebased?(this.editFeeData.isdistancebased=!0,this.editFeeData.isweightbased=!1,this.editFeeData.isflatbased=!1,this.editFeeData.amountDiv=!0,this.editFeeData.flatFeeDiv=!1,this.editFeeData.deliverytype="isdistancebased"):e.isweightbased?(this.editFeeData.isdistancebased=!1,this.editFeeData.isweightbased=!0,this.editFeeData.isflatbased=!1,this.editFeeData.amountDiv=!0,this.editFeeData.flatFeeDiv=!1,this.editFeeData.deliverytype="isweightbased"):e.isflatbased&&(this.editFeeData.isdistancebased=!1,this.editFeeData.isweightbased=!1,this.editFeeData.isflatbased=!0,this.editFeeData.amountDiv=!1,this.editFeeData.flatFeeDiv=!0,this.editFeeData.deliverytype="isflatbased"),UIkit.modal("#edit-delivery-fee").toggle()},closeEditDeliveryFee:function(){this.editFeeData={id:"",startdistance:0,enddistance:0,minweight:0,maxweight:0,amount:0,flatfee:0,deliverytype:"",deliverymethod:"",isdistancebased:!1,isweightbased:!1,isflatbased:!1,amountDiv:!0,flatFeeDiv:!1},UIkit.modal("#edit-delivery-fee").toggle("hide")},updateDeliveryFee:function(){var t=this;e("#updateDeliveryBtn").attr("disabled",!0).html("Updating...please wait"),this.$store.dispatch("branches/updateDeliveryFee",this.editFeeData).then(function(a){if(e("#updateDeliveryBtn").attr("disabled",!1).html("+ Update"),a.data.status){UIkit.modal("#delivery-fee").toggle("hide"),t.$toast.success(a.data.message),t.closeEditDeliveryFee();var i={merchID:t.feeData.merchID,id:t.feeData.branchID};t.viewDeliveryFees(i)}else;}).catch(function(a){e("#updateDeliveryBtn").attr("disabled",!1).html("+ Update"),t.$toast.error("An error occurred")})},editBranch:function(e){var t=this.formOpeningDaysArray(e.openingdays);if(null!==e.openingtime){var a=e.openingtime.split(":"),i=a[1].substring(0,2),s=a[1].slice(-2);this.editStartReceive={hour:a[0],min:i,day:s};var r=e.closingtime.split(":"),n=r[1].substring(0,2),o=r[1].slice(-2);this.editStopReceive={hour:r[0],min:n,day:o}}this.editData={id:e.id,merchID:e.merchID,branchname:e.branchname,branchaddress:e.branchaddress,branchstate:e.branchstate,branchcity:e.branchcity,branchofficeline:e.branchofficeline,branchimage:"",openingdays:t,openingtime:e.openingtime,closingtime:e.closingtime,deliveryarea:[],longitude:e.longitude,latitude:e.latitude,isdelivery:e.isdelivery,ispickup:e.ispickup},UIkit.modal("#edit-branch").show()},formOpeningDaysArray:function(e){if(null!==e){var t=[],a=e.match(/\[(.*?)\]/);if(a)t=a[1].replace(/\'/g,"").split(", ");return t}},cancelEdit:function(){this.editData={id:"",branchname:"",branchaddress:"",branchstate:"",branchcity:"",branchofficeline:"",branchimage:"",openingdays:[],openingtime:"",closingtime:"",deliveryarea:[],longitude:"",latitude:"",isdelivery:!1,ispickup:!1},UIkit.modal("#edit-branch").hide()},displayReviews:function(t){var a=this;this.reviewLoading=!0;var i={merchID:t.merchID,branchID:t.id};this.$store.dispatch("branches/getBranchReviews",i).then(function(t){if(t.data.status)return a.reviewData=t.data.data,a.reviewRate=t.data.totalrate,a.reviewLoading=!1,void e("#reviews").addClass("uk-open").show();a.reviewLoading=!1,a.$toast.error("An error occurred!")}).catch(function(e){a.$toast.error("An error occurred and the operation was terminated"),a.reviewLoading=!1,console.log(e)})},changeReview:function(e){var t=this;if(""!==e.target.value){var a={merchID:this.formData.merchID,branchID:e.target.value};this.reviewLoading=!0,this.$store.dispatch("branches/getBranchReviews",a).then(function(e){if(e.data.status)return t.reviewData=e.data.data,t.reviewRate=e.data.totalrate,void(t.reviewLoading=!1);t.reviewLoading=!1,t.$toast.error("An error occurred!")}).catch(function(e){t.$toast.error("An error occurred and the operation was terminated"),t.reviewLoading=!1,console.log(e)})}else this.$toast.error("Please select a branch")},closeReview:function(){this.reviewData=[],e("#reviews").removeClass("uk-open").hide()},viewDeliveryFees:function(t){var a=this;this.feeData.merchID=t.merchID,this.feeData.branchID=t.id,e("#viewDeliveryBtn"+t.id).attr("disabled",!0).html("Retrieving...please wait"),this.$store.dispatch("branches/getDeliveryFee",this.feeData).then(function(i){if(e("#viewDeliveryBtn"+t.id).attr("disabled",!1).html("View delivery fees"),i.data.status)return a.fLoading=!1,a.fees=i.data.data,void UIkit.modal("#delivery-fee").toggle();a.fLoading=!1,a.$toast.error("An error occurred while retrieving data")}).catch(function(i){e("#viewDeliveryBtn"+t.id).attr("disabled",!1).html("View delivery fees"),a.$toast.error("An error occurred while retrieving data"),console.log(i)})},getBranchPerformance:function(t){var a=this;this.performanceData.merchID=this.user.id,this.performanceData.branchID=t.id,this.perfData.orders=[],e("#perfButton"+t.id).attr("disabled",!0).html("Retrieving..."),this.$store.dispatch("branches/getPerformance",this.performanceData).then(function(i){a.perfData.orders=i.data.data.orders,a.perfData.todayOrder=i.data.data.todayorder.number_of_entry,a.perfData.todayOrderPercentage=a.calculateOrderPercentage(i),a.perfData.todayRevenue=i.data.data.todayrevenue.ordertotal__sum,a.perfData.todayRevenuePercentage=a.calculateRevenuePercentage(i),a.perfData.currentWeekOrder=i.data.data.currentweekorder.number_of_entry,a.perfData.currentWeekPercentage=a.calculateCurrentWeekPercentage(i),a.perfData.currentWeekRevenue=i.data.data.currentweekrevenue.ordertotal__sum,a.perfData.currentWeekRevenuePerc=a.calculateCurrentWeekRevenuePercentage(i),e("#branchName").html(t.branchname),a.pLoading=!1,e("#perfButton"+t.id).attr("disabled",!1).html("View performance")}).catch(function(i){a.pLoading=!1,e("#perfButton"+t.id).attr("disabled",!1).html("View performance"),console.log(i)})},calculateOrderPercentage:function(e){return+e.data.data.todayorder.number_of_entry-+e.data.data.yesterdayorder.number_of_entry},calculateRevenuePercentage:function(e){var t=e.data.data.todayrevenue.ordertotal__sum,a=e.data.data.yesterdayrevenue.ordertotal__sum,i=0;a>0&&(i=+(+t-+a)/+a*100);return i},calculateCurrentWeekPercentage:function(e){return this.currentWeeksOrder=e.data.data.currentweekorder.number_of_entry,this.lastWeeksOrder=e.data.data.lastweekorder.number_of_entry,+this.currentWeeksOrder-+this.lastWeeksOrder},calculateCurrentWeekRevenuePercentage:function(e){var t=e.data.data.currentweekrevenue.ordertotal__sum,a=e.data.data.lastweekrevenue.ordertotal__sum,i=0;a>0&&(i=(t-a)/a*100);return i},removeChild:function(e){this.delivery.splice(e,1)},calcTime:function(){var e=this.$moment().startOf("week"),t=this.$moment().endOf("week");this.currentWeekStart=this.$moment(e.toString()).format("DD/MM"),this.currentWeekEnd=this.$moment(t.toString()).format("DD/MM")},addChild:function(){this.delivery.push({deliveryarea:"",deliveryfee:""})},addBranch:function(){UIkit.modal("#add-branch").toggle()},cancelAdd:function(){this.clearErrorData(),this.formData={merchID:"",branchname:"",branchaddress:"",branchstate:"",branchcity:"",branchofficeline:"",branchimage:"",openingdays:[],openingtime:"",closingtime:"",deliveryarea:[],longitude:"",latitude:"",isdelivery:!1,ispickup:!1},this.formData.merchID=this.user.id,UIkit.modal("#add-branch").toggle()},createDeliveryFee:function(e){localStorage.removeItem("branch"),this.$store.dispatch("branches/setBranch",e),this.$router.push("branch/delivery-fee")},getAddAddress:function(){this.getCoordinates()},getEditAddress:function(e){this.getCoordinates()},getGeoCode:function(e){var t=this;try{fetch("https://cors-anywhere.herokuapp.com/"+("https://maps.googleapis.com/maps/api/place/findplacefromtext/json?input="+e+"&inputtype=textquery&fields=photos,formatted_address,name,rating,opening_hours,geometry&key=AIzaSyD9R7EeLdPZusJV_bBsm3EiPj-gwCri8u0")).then(function(e){e.data.candidates.length<1?t.$toast.error("Address cordinates not found. Please enter an address with street name, city and state"):(t.$toast.success("Address coordinates found"),t.geoCode.longitude=e.candidates[0].geometry.location.lng,t.geoCode.latitude=e.candidates[0].geometry.location.lat)}).catch(function(e){console.log(e)})}catch(e){console.log(e)}},getCoordinates:function(){var e="";""!=this.editData.branchaddress&&(e=this.editData.branchaddress),""!=this.formData.branchaddress&&(e=this.formData.branchaddress);var t=new google.maps.places.PlacesService(document.getElementById("map")),a=this;if(""!=e){var i={query:e,fields:["name","geometry"]};t.findPlaceFromQuery(i,function(e,t){if(t===google.maps.places.PlacesServiceStatus.OK){var i={};return i.longitude=e[0].geometry.location.lng(),i.latitude=e[0].geometry.location.lat(),console.log(i),a.$toast.success("Address coordinates found"),a.geoCode=i,i}a.$toast.error("Address cordinates not found. Please enter an address with street name, city and state")})}}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listBranches(),this.generateMinutes()},beforeCreate:function(){},beforeRouteEnter:function(e,t,a){var i=JSON.parse(localStorage.getItem("user"));void 0==i.role||i.rolepermission&&i.rolepermission[0].branch.viewbranches?a():(alert("You have not been permitted to view this page"),a({path:"/dashboard"}))}}}).call(t,a("7t+N"))},uMUY:function(e,t,a){var i=a("GNqS");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("d13c4936",i,!1,{sourceMap:!1})}});