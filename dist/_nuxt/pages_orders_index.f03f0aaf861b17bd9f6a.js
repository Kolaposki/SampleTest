webpackJsonp([4],{"4psG":function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"td.column-name i.online[data-v-47f41221]{width:10px;height:10px;background-color:#228b22;border-radius:50%;padding:5px;margin-right:10px}td i.offline[data-v-47f41221]{width:10px;height:10px;background-color:red;border-radius:50%;padding:5px;margin-right:10px}td i.unavailable[data-v-47f41221]{width:20px;height:20px;background-color:gold;border-radius:50%;padding:5px;margin-right:10px}.btn--primary[data-v-47f41221]{min-width:75px;margin-top:10px}.btn[data-v-47f41221]{padding:8px 16px}.btn.btn-no-fill[data-v-47f41221]{min-width:60px}.order-wait[data-v-47f41221]{height:70px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.order-container[data-v-47f41221],.order-wait[data-v-47f41221]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;border-radius:10px;border-top:3px solid #90ee90;-webkit-box-shadow:-1px 3px 1px 1px #dfdfdf;box-shadow:-1px 3px 1px 1px #dfdfdf;margin-bottom:15px;background:#fff;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.order-container[data-v-47f41221]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:210px}.order-details[data-v-47f41221]{width:95%;height:60px;border-bottom:1px solid #90ee90;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-wrap:wrap;flex-wrap:wrap}.order-details .order-confirm[data-v-47f41221]{background:#90ee90;padding:5px;border-radius:5px;color:#fff}.order-cum-info[data-v-47f41221]{width:95%;height:140px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.order-id[data-v-47f41221]{font-weight:bolder}.order-time[data-v-47f41221]{-webkit-box-flex:0;-ms-flex:0 1 73%;flex:0 1 73%}.customer[data-v-47f41221],.delivery[data-v-47f41221]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;gap:10px;-ms-flex-line-pack:center;align-content:center}.order-cum-info .delivery[data-v-47f41221]{-webkit-box-flex:0;-ms-flex:0 1 35%;flex:0 1 35%}.order-cum-info .action[data-v-47f41221]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.order-cum-info .action button[data-v-47f41221]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.order-cum-info .action>.reject[data-v-47f41221]{background:red;height:90px;color:#fff;margin-right:15px;padding:15px;border-radius:10px}.order-cum-info .action>.accept[data-v-47f41221]{background:green;height:90px;color:#fff;padding:15px;border-radius:10px}@media screen and (max-width:800px){.order-container[data-v-47f41221],.order-cum-info[data-v-47f41221],.order-details[data-v-47f41221]{height:auto}.action[data-v-47f41221]{margin:0 auto;padding-bottom:20px}.accept[data-v-47f41221],.reject[data-v-47f41221]{height:30px;margin-top:10px}}@media screen and (max-width:1219px){.order-details .order-confirm[data-v-47f41221]{margin-bottom:10px}}.avatar-wtext i.online[data-v-47f41221]{width:10px;height:10px;background-color:#228b22;border-radius:50%;margin-right:4px}.avatar-wtext i.offline[data-v-47f41221]{width:10px;height:10px;background-color:red;border-radius:50%;margin-right:4px}.avatar-wtext i.unavailable[data-v-47f41221]{width:10px;height:10px;background-color:gold;border-radius:50%;margin-right:4px}table.table-content[data-v-47f41221]{width:100%}",""])},GMH1:function(t,e,r){"use strict";(function(t){e.a={layout:"main",data:function(){return{orderList:{},orderDetailsData:{items:[],tax:0,id:"",orderid:"",orderstatus:"",customername:"",customerphone:"",deliveryaddress:"",profilelink:"",discountpayment:0,ordertotal:0,deliverycharge:0,rider:{id:"",phone:"",name:"",regnumber:"",photo:""},staff:{photo:"",name:"",phone:""}},formData:{orderID:"",orderstatus:"cancel",reason:""}}},methods:{copyLink:function(t){var e=this;this.$copyText(t).then(function(t){e.$toast.success("Pick-up code copied to clipboard")},function(t){e.$toast.error("An error occurred.Cannot copy.")})},clearOrderDetails:function(){this.orderDetailsData={items:[],orderid:"",orderstatus:"",tax:0,customername:"",customerphone:"",deliveryaddress:"",discountpayment:0,ordertotal:0,profilelink:"",deliverycharge:0,rider:{id:"",phone:"",name:"",regnumber:""},staff:{name:"",photo:"",phone:""}}},orderDetails:function(e){this.clearOrderDetails(),this.orderList=e,this.orderDetailsData={items:e.orderitems,orderid:e.ordercode,id:e.id,vat:e.vat,paymentdetails:e.paymentdetails,tax:0,orderstatus:e.orderstatus,customername:e.sendername,customerphone:e.sendernumber,deliveryaddress:e.address,discountpayment:e.discountpayment,ordertotal:e.ordertotal,profilelink:e.profilelink,deliverycharge:e.deliverycharge,rider:{id:e.riderID,name:e.riderfirstname+" "+e.riderlastname,phone:e.riderphonenumber,regnumber:e.registrationnumber,photo:e.riderphoto},staff:{name:e.staffname,photo:e.staffpic}},this.formData.orderID=e.id,t("#order-details").addClass("uk-open").show()},setOrder:function(t){this.orderDetails(t)},calculateSubTotal:function(t){var e=0;return t.forEach(function(t,r,a){e+=t.totalprice}),e},calculateTotal:function(t){var e=0;t.forEach(function(t,r,a){e+=t.totalprice});var r=0;return this.orderDetailsData.tax>0&&(r=this.orderDetailsData.tax/100*e),+e+ +r+ +this.orderDetailsData.deliverycharge},closeOrderDetails:function(){this.clearOrderDetails(),t("#order-details").removeClass("uk-open").hide()},cancelOrder:function(){t("#cancel-order").addClass("uk-open").show()},orderCancel:function(e){var r=this;t("#submitBtn").attr("disabled",!0).html("canceling....please wait"),this.$store.dispatch("orders/cancelOrder",this.formData).then(function(e){if(t("#submitBtn").attr("disabled",!1).html("Cancel Order"),e.data.status)return t("#cancel-order").removeClass("uk-open").hide(),r.$toast.success(e.data.message),void location.reload();r.$toast.error(e.data.message)}).catch(function(e){r.$toast.error(res.data.message),t("#submitBtn").attr("disabled",!1).html("Cancel Order")})}}}}).call(e,r("7t+N"))},M2Sb:function(t,e,r){"use strict";e.a={layout:"main",props:["headers","value","date"],methods:{previous:function(){if(""!==this.headers.Prev){var t=+this.value-1;t<0?t=1:(this.$emit("input",t),this.$emit("go"))}},next:function(){if(""!==this.headers.Next){var t=+this.value+1;this.$emit("input",t),this.$emit("go")}}}}},RqeM:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("overlay-scrollbars",{staticClass:"main-content-wrap"},[r("div",{staticClass:"d-flx-alc-jsb page-extras"},[t.user.rolepermission&&t.user.rolepermission[0].orders.placeorder||t.isMerchant?r("nuxt-link",{staticClass:"btn btn--primary",attrs:{to:"/order/"}},[t._v("Place an Order")]):t._e(),r("p",{staticClass:"fw-medium font-16"}),r("div",{staticClass:"search-filter d-flx-alc-jfe"},[r("label",{staticClass:"search-w-icon"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{keyup:t.searchFilter,input:function(e){e.target.composing||(t.search=e.target.value)}}}),r("svg",[r("use",{attrs:{href:"/uploads/icons.svg#search"}})])]),r("div",{staticClass:"drop-down filter-drop"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.sortData.paymentmethod,expression:"sortData.paymentmethod"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.sortData,"paymentmethod",e.target.multiple?r:r[0])},t.sortOrders]}},[r("option",{attrs:{value:""}},[t._v("All Payment Methods")]),r("option",{attrs:{value:"card"}},[t._v("Card")]),r("option",{attrs:{value:"wallet"}},[t._v("Wallet")]),r("option",{attrs:{value:"cash"}},[t._v("Cash")]),r("option",{attrs:{value:"banktransfer"}},[t._v("Bank Transfer")])])]),r("div",{staticClass:"drop-down filter-drop"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.sortData.orderstatus,expression:"sortData.orderstatus"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.sortData,"orderstatus",e.target.multiple?r:r[0])},t.sortOrders]}},[r("option",{attrs:{value:""}},[t._v("All Status")]),r("option",{attrs:{value:"pending"}},[t._v("Pending")]),r("option",{attrs:{value:"assigned"}},[t._v("Assigned")]),r("option",{attrs:{value:"in_transit"}},[t._v("In Transit")]),r("option",{attrs:{value:"completed"}},[t._v("Completed")]),r("option",{attrs:{value:"scheduled"}},[t._v("Scheduled")]),r("option",{attrs:{value:"cancel"}},[t._v("Cancelled")])])]),r("div",{staticClass:"drop-down filter-drop"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.orderCategory,expression:"orderCategory"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.orderCategory=e.target.multiple?r:r[0]},t.filterCategory]}},[r("option",{attrs:{value:""}},[t._v("All Category")]),r("option",{attrs:{value:"delivery"}},[t._v("Delivery")]),r("option",{attrs:{value:"food"}},[t._v("Food")])])])])],1),r("pagination",{attrs:{headers:t.headers},on:{go:t.listOrders},model:{value:t.orderData.page,callback:function(e){t.$set(t.orderData,"page",e)},expression:"orderData.page"}}),r("div",{attrs:{id:"parent-component"}},[r("div",{attrs:{id:"assign-rider","uk-modal":"","data-uk-modal":"{target:'#assign-rider',bgclose:false}",container:"#parent-component"}},[r("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[r("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeAssignRider}}),r("div",{staticClass:"modal-header"},[r("h2",[t._v("Assign Rider to Order")]),r("p",[t._v("Assigned rider will be in charge of delivering order")])]),r("form",{on:{submit:function(e){return e.preventDefault(),t.assignRider.apply(null,arguments)}}},[r("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[r("label",{staticClass:"form-input"},[r("div",{staticClass:"form-input__input"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.riderID,expression:"formData.riderID"}],staticClass:"filter-btn box-deco-smallr",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"riderID",e.target.multiple?r:r[0])}}},[r("option",{attrs:{value:""}},[t._v("Select Rider")]),t._l(t.riders,function(e){return"offline"!=e.riderstatus&&null!=e.riderstatus&&e.active?r("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.riderfirstname)+" "+t._s(e.riderlastname)+"\n                    ")]):t._e()})],2)]),t.riderError?r("span",{staticClass:"form-input__error-msg"},[t._v("Please select a rider")]):t._e()])]),r("div",{staticClass:"d-flx-alc-jfe"},[r("button",{staticClass:"btn btn-no-fill uk-modal-close mt-1",attrs:{type:"button"},on:{click:t.closeAssignRider}},[t._v("\n                Cancel\n              ")]),r("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"assignBtn"}},[t._v("\n                Assign rider\n              ")])])])])]),r("order-details",{ref:"order_details"})],1),r("div",{staticStyle:{"overflow-x":"auto"}},[r("table",{staticClass:"table-content"},[r("thead",{},[r("tr",[r("th",{staticClass:"large-space column-name"},[t._v("Customer")]),r("th",{staticClass:"medium-space column-name"},[t._v("Order ID")]),r("th",{staticClass:"small-space column-name"},[t._v("Category")]),r("th",{staticClass:"medium-space column-name"},[t._v("Amount (₦)")]),r("th",{staticClass:"medium-space column-name"},[t._v("Payment Method")]),r("th",{staticClass:"large-space column-name"},[t._v("Rider")]),r("th",{staticClass:"small-space column-name"},[t._v("Order Status")]),r("th",{staticClass:"small-space column-name"},[t._v("Payment Status")]),r("th",{staticClass:"medium-space column-name"},[t._v("Order Date/Time")]),(t.user.rolepermission&&t.user.rolepermission[0].orders.vieworderdetails||t.user.rolepermission?t.user.rolepermission[0].orders.assignrider:t.isMerchant)?r("th",{staticClass:"smaller-space column-name"},[t._v("\n              Action\n            ")]):t._e()])]),r("tbody",{staticClass:"tablebody"},[t.loading?r("tr",{staticStyle:{"align-content":"center"}},[r("td",{attrs:{colspan:"10"}},[t._v("Loading..please wait")])]):t._e(),!t.loading&&t.filteredList.length<1?r("tr",{staticStyle:{"align-content":"center"}},[r("td",{attrs:{colspan:"10"}},[t._v("No orders at the moment")])]):t._e(),t._l(t.filteredList,function(e,a){return!t.loading&&t.filteredList.length>0?r("tr",{key:a,staticStyle:{cursor:"pointer"}},[r("td",{staticClass:"column-name"},[r("div",[t._v("\n                "+t._s(t.getOrderName(e))+"\n              ")])]),r("td",{staticClass:"column-name",staticStyle:{color:"#28a745"},attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n              "+t._s(e.ordercode)+"\n            ")]),r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n              "+t._s(e.ordercategory)+"\n            ")]),r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n              "+t._s(t.formatPrice(e.ordertotal))+"\n            ")]),r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n              "+t._s("banktransfer"==e.paymentmethod?"Bank Transfer":e.paymentmethod)+"\n            ")]),null===e.riderID?r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[r("span",{},[t._v("N/A")])]):r("td",{staticClass:"column-name avatar-wtext",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},["online"==e.riderstatus?r("i",{staticClass:"online",attrs:{title:"Online"}}):t._e(),"offline"==e.riderstatus?r("i",{staticClass:"offline",attrs:{title:"Offline"}}):t._e(),null==e.riderstatus?r("i",{staticClass:"unavailable",attrs:{title:"Unavailable"}}):t._e(),r("span",[t._v(t._s(e.riderfirstname)+" "+t._s(e.riderlastname))])]),r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[r("span",{class:"status "+(void 0!==e.orderstatus?e.orderstatus.toLowerCase():"")},[t._v(t._s(e.orderstatus.includes("cancel")?"CANCELLED":e.orderstatus.replace("_"," ").toUpperCase()))])]),r("td",{staticClass:"tx-c column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[r("span",{staticClass:"column-name",class:"status "+(void 0!==e.paymentstatus?e.paymentstatus.toLowerCase():"")},[t._v(t._s(e.paymentstatus.replace("_"," ").toUpperCase()))])]),r("td",{staticClass:"column-name",attrs:{title:"View order details"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n              "+t._s("scheduled"==e.orderstatus.toLowerCase()?t.$moment(e.scheduletime).format("MMM Do YYYY hh:mma"):t.$moment(e.transactiondate).format("MMM Do YYYY hh:mma"))+"\n            ")]),(t.user.rolepermission&&t.user.rolepermission[0].orders.vieworderdetails||t.user.rolepermission?t.user.rolepermission[0].orders.assignrider:t.isMerchant)?r("td",{attrs:{title:"View order details"}},[null!==e.riderID&&"rejected"!=e.orderstatus.toLowerCase()||"pick up"===e.ordermethod||"cancel"===e.orderstatus.toLowerCase()||!(t.user.rolepermission&&t.user.rolepermission[0].orders.assignrider||t.isMerchant)?t._e():r("button",{staticClass:"btn btn--tertiary",attrs:{title:"Assign Rider",type:"button"},on:{click:function(r){return t.displayAssignRiderModal(e)}}},[t._v("\n                Assign\n              ")]),t.user.rolepermission&&t.user.rolepermission[0].orders.vieworderdetails||t.isMerchant?r("button",{staticClass:"btn btn--primary",staticStyle:{padding:"8px 16px"},attrs:{title:"View order details",type:"button"},on:{click:function(r){return t.orderDetails(e)}}},[t._v("\n                View\n              ")]):t._e()]):t._e()]):t._e()})],2)])])],1)};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s},V5We:function(t,e,r){"use strict";(function(t){var a=r("axji"),s=r("hYtS");e.a={components:{OrderDetails:a.a,Pagination:s.a},layout:"main",data:function(){return{orderCategory:"",headers:{Next:"",Prev:"",count:0,total:0,pagenum:1},search:"",date:"",loading:!0,formData:{merchID:"",riderID:"",orderID:""},riderData:{merchID:"",startdate:"",enddate:"",branchID:"",riderID:"",export:""},orderData:{merchID:"",page:1},orderSort:[],orderDetailsData:{items:[],tax:0,orderid:"",orderstatus:"",customername:"",customerphone:"",deliveryaddress:"",profilelink:"",deliverycharge:0,rider:{id:"",phone:"",name:"",regnumber:"",photo:""},staff:{photo:"",name:"",phone:""}},riderError:!1,riderslist:[],type:"",category:"",orderstatus:"",sortData:{merchID:"",orderstatus:"",paymentmethod:"",ordercategory:""},order:{},filteredList:{}}},computed:{userData:function(){return this.$store.getters["authenticate/getUserData"]},isCourierService:function(){return void 0!=this.userData.businessdescription&&this.userData.businessdescription.toLowerCase().includes("delivery")},isFood:function(){return void 0!=this.userData.businessdescription&&this.userData.businessdescription.toLowerCase().includes("food")},riders:function(){var t=this;return this.riderslist.filter(function(e){return e.branchID==t.order.branchID})}},methods:{copyLink:function(t){var e=this;this.$copyText(t).then(function(t){e.$toast.success("Delivery Pin copied to clipboard")},function(t){e.$toast.error("An error occurred.Cannot copy.")})},searchFilter:function(){var t=this;this.filteredList=this.orderSort.filter(function(e){if(void 0!==e.ordercode&&e.ordercode.toLowerCase().includes(t.search.toLowerCase()))return e.ordercode.toLowerCase().includes(t.search.toLowerCase());var r=e.firstname+" "+e.lastname;return void 0!==r&&""!==r&&r.toLowerCase().includes(t.search.toLowerCase())?r.toLowerCase().includes(t.search.toLowerCase()):void 0!==e.paymentstatus&&e.paymentstatus.toLowerCase().includes(t.search.toLowerCase())?e.paymentstatus.toLowerCase().includes(t.search.toLowerCase()):void 0})},filterCategory:function(){var t=this;this.filteredList=this.orderSort.filter(function(e){return""==t.orderCategory?t.orderSort:void 0!==e.ordercategory&&e.ordercategory.toLowerCase().includes(t.orderCategory.toLowerCase())?e.ordercategory.toLowerCase().includes(t.orderCategory.toLowerCase()):void 0})},getAmount:function(t,e){if(t.length>0){var r=t.filter(function(t){return!!t.paymentmethod&&t.paymentmethod.toLowerCase().includes(e)});if(1==r.length)return r[0].paymentamount}return""},getTax:function(t,e){if(t.length>0){var r=t.filter(function(t){return t.tax_id==e});if(1==r.length)return r[0].value}return""},getOrderName:function(t){return null==t.customerID?"N/A":t.firstname+" "+t.lastname},getOrderPhone:function(t){return this.isCourierService?void 0!=t.senderphone&&""!=t.senderphone?t.senderphone:void 0!=t.recieverphonenumber&&""!=t.recieverphonenumber?t.recieverphonenumber:"":t.phonenumber},nextData:function(){if(""!==this.headers.Next){var t=+this.orderData.page+1;this.orderData.page=t,this.listOrders()}},previousData:function(){if(""!==this.headers.Prev){var t=+this.orderData.page-1;t<0?this.orderData.page=1:(this.orderData.page=t,this.listOrders())}},listOrders:function(){var t=this;this.$store.dispatch("orders/listOrders",this.orderData).then(function(e){if(e.data.status)return t.orderSort=e.data.data,t.filteredList=e.data.data,void 0!=e.data.data&&e.data.data.length>0&&t.setHeaders(t.orderSort,e.data.headers),void(t.loading=!1);t.loading=!1,t.$toast.error("An error occurred")}).catch(function(e){t.loading=!1,console.log(e)})},sortOrders:function(){var t=this;this.loading=!0,this.$store.dispatch("orders/sortOrders",this.sortData).then(function(e){e.data.status&&(t.filteredList=e.data.data,t.orderSort=e.data.data,t.loading=!1)}).catch(function(e){t.loading=!1,console.log(e)})},getRiders:function(){var t=this;this.$store.dispatch("riders/getRiders",this.riderData).then(function(e){t.riderslist=e.data.data}).catch(function(t){console.log(t)})},orderDetails:function(t){this.$refs.order_details.setOrder(t)},assignRider:function(){var e=this;this.riderError=!1,""!==this.formData.riderID?(t("#assignBtn").attr("disabled",!0).html("Assigning....please wait"),this.$store.dispatch("orders/assignRider",this.formData).then(function(r){if(t("#assignBtn").attr("disabled",!1).html("Assign Rider"),r.data.status){var a=e.riders.find(function(t){return t.id==e.formData.riderID}),s=e.orderSort.find(function(t){return t.id==e.formData.orderID});return s.riderfirstname=a.riderfirstname,s.riderphonenumber=a.riderphonenumber,s.riderID=a.riderID,s.riderlastname=a.riderlastname,s.riderphoto=a.riderphoto,e.closeAssignRider(),void e.$toast.success(r.data.message)}e.$toast.error(r.data.message)}).catch(function(r){e.$toast.error(res.data.message),t("#assignBtn").attr("disabled",!1).html("Assign Rider"),console.log(r)})):this.riderError=!0},closeOrderDetails:function(){this.clearOrderDetails(),t("#order-details").removeClass("uk-open").hide()},displayAssignRiderModal:function(e){this.formData.orderID=e.id,this.order=e,t("#assign-rider").addClass("uk-open").show()},closeAssignRider:function(){this.formData.orderID="",t("#assign-rider").removeClass("uk-open").hide()},clearOrderDetails:function(){this.orderDetailsData={items:[],orderid:"",orderstatus:"",tax:0,customername:"",customerphone:"",deliveryaddress:"",profilelink:"",deliverycharge:0,rider:{id:"",phone:"",name:"",regnumber:""},staff:{name:"",photo:"",phone:""}}},calculateSubTotal:function(t){var e=0;return t.forEach(function(t,r,a){e+=t.totalprice}),e},calculateTotal:function(t){var e=0;t.forEach(function(t,r,a){e+=t.totalprice});var r=0;return this.orderDetailsData.tax>0&&(r=this.orderDetailsData.tax/100*e),+e+ +r+ +this.orderDetailsData.deliverycharge}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.sortData.merchID=this.user.role?this.user.merchID:this.user.id,this.orderData.merchID=this.user.role?this.user.merchID:this.user.id,this.riderData.merchID=this.user.role?this.user.merchID:this.user.id,this.listOrders(),this.getRiders()},beforeRouteEnter:function(t,e,r){var a=JSON.parse(localStorage.getItem("user"));void 0==a.role||a.rolepermission&&a.rolepermission[0].orders.vieworders?r():(alert("You have not been permitted to view this page"),r({path:"/dashboard"}))}}}).call(e,r("7t+N"))},axji:function(t,e,r){"use strict";var a=r("GMH1"),s=r("heh4"),i=!1;var o=function(t){i||r("q4xG")},n=r("VU/8")(a.a,s.a,!1,o,"data-v-b1245822",null);n.options.__file="components/OrderDetails.vue",e.a=n.exports},eQ15:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,"h2.delivery-pin[data-v-b1245822]{color:#228b22;background-color:#cff8cf;padding:10px 16px;font-size:20px;cursor:pointer;border-radius:6px}div h2[data-v-b1245822]{font-size:16px;font-weight:600}h1[data-v-b1245822]{margin-top:20px;font-weight:600}hr[data-v-b1245822]{margin-top:8px;margin-bottom:6px}.status[data-v-b1245822]{padding:4px 12px}.btn[data-v-b1245822]{padding:8px 16px}.btn--primary[data-v-b1245822]{min-width:75px}.btn--danger[data-v-b1245822]{background-color:#dc3545;color:#fff}.review[data-v-b1245822]{border-radius:8px}",""])},hYtS:function(t,e,r){"use strict";var a=r("M2Sb"),s=r("zTfd"),i=r("VU/8")(a.a,s.a,!1,null,null,null);i.options.__file="components/Pagination.vue",e.a=i.exports},heh4:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{attrs:{id:"order-details","uk-modal":"","data-uk-modal":"{target:'#order-details',bgclose:false}",container:"#parent-component"}},[r("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[r("div",{staticClass:"modal-header d-flx-alc-jsb"},[r("h2",{staticStyle:{"font-size":"20px"}},[t._v("Order Details")]),r("button",{staticClass:"uk-modal-close-default",staticStyle:{right:"20px",padding:"16px 8px"},attrs:{type:"button","uk-close":""},on:{click:t.closeOrderDetails}})]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb",staticStyle:{"margin-top":"12px"}},[r("p",{staticStyle:{"font-size":"16px"}},[t._v("\r\n              Order Status\r\n              "),"cancel"!==t.orderList.orderstatus?r("span",{class:"status "+t.orderDetailsData.orderstatus.toLowerCase()},[t._v(t._s(t.orderList.orderstatus?t.orderList.orderstatus.replace("_"," ").toUpperCase():t.orderList.orderstatus))]):t._e(),"cancel"==t.orderList.orderstatus?r("span",{class:"status "+t.orderDetailsData.orderstatus.toLowerCase()},[t._v("CANCELLED")]):t._e()]),"cancel"!==t.orderDetailsData.orderstatus&&"completed"!==t.orderDetailsData.orderstatus&&(t.user.rolepermission&&t.user.rolepermission[0].orders.cancelorder||t.isMerchant)?r("button",{staticClass:"btn btn--danger",attrs:{type:"submit"},on:{click:function(e){return t.cancelOrder()}}},[t._v("\r\n              Cancel Order\r\n            ")]):t._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:"cancel"==t.orderList.orderstatus,expression:"orderList.orderstatus =='cancel'"}],staticStyle:{"margin-top":"12px"}},[r("hr"),r("p",{staticStyle:{"font-size":"16px"}},[t._v("\r\n                Reason for Order Cancellation             \r\n              ")]),r("h2",[t._v(t._s(t.orderList.reason))])]),r("div",{directives:[{name:"show",rawName:"v-show",value:"Rejected"==t.orderList.orderstatus,expression:"orderList.orderstatus =='Rejected'"}],staticStyle:{"margin-top":"12px"}},[r("hr"),r("p",{staticStyle:{"font-size":"16px"}},[t._v("\r\n                Reason for Order Rejection             \r\n              ")]),r("h2",[t._v(t._s(t.orderList.reason))])]),r("hr"),r("overlay-scrollbars",{staticClass:"modal-body",staticStyle:{"padding-top":"0"},attrs:{"uk-overflow-auto":""}},[r("div",{staticClass:"d-flx-alc-jsb"},[r("p",[t._v("Order ID")]),r("h2",{staticClass:"d-flx my-1"},[r("span",{staticClass:"review"},[t._v(t._s(t.orderList.ordercode))])])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Payment Status")]),r("h2",{staticStyle:{"margin-top":"10px",color:"#47a147"}},[t._v(t._s(t.orderList.paymentstatus))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Payment Method")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderList.paymentmethod))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Delivery Method")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderList.ordermethod))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Order Category")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderList.ordercategory))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Item Name")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderList.itemname))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Item Quantity")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.orderList.itemquantity))])]),r("hr"),r("div",{directives:[{name:"show",rawName:"v-show",value:"scheduled"==t.orderList.orderstatus,expression:"orderList.orderstatus == 'scheduled'"}],staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Schedule time")]),r("h2",{staticStyle:{"margin-top":"10px"}},[t._v(t._s(t.$moment(t.orderList.scheduletime).format("MMM Do YYYY | hh:mma")))])]),r("hr"),r("h1",[t._v("Pick-Up Information")]),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Name")]),r("h2",[t._v(t._s(t.orderList.sendername))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Phone Number")]),r("h2",[t._v(t._s(t.orderList.senderphone))])]),r("hr"),r("div",[r("p",{staticClass:"co-lgray"},[t._v("Pick-Up Address")]),r("h2",[t._v(t._s(t.orderList.pickupaddress))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Pick-up Code")]),r("h2",{staticClass:"delivery-pin",attrs:{title:"click to copy pick-up code"},on:{click:function(e){return e.preventDefault(),t.copyLink(t.orderList.pickuppin)}}},[t._v(t._s(t.orderList.pickuppin?t.orderList.pickuppin:"N/A"))])]),t._l(t.orderList.delivery_location,function(e,a){return r("div",{key:a},[r("hr"),1==t.orderList.delivery_location.length?r("h1",[t._v("Delivery Information")]):t._e(),t.orderList.delivery_location.length>1?r("h1",[t._v("Delivery Information ("+t._s(a+1)+")")]):t._e(),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Name")]),r("h2",[t._v(t._s(e.receivername))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Phone Number")]),r("h2",[t._v(t._s(e.receiverphonenumber))])]),r("hr"),r("div",[r("p",{staticClass:"co-lgray"},[t._v("Delivery Address")]),r("h2",[t._v(t._s(e.address))])]),r("div",[r("p",{staticClass:"co-lgray"},[t._v("Delivery Instruction")]),r("h2",[t._v(t._s(e.deliveryinstruction?e.deliveryinstruction:"N/A"))])])])}),null!==t.orderList.riderID?r("div",[r("hr"),r("h1",[t._v("Rider Details")]),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Rider Name")]),r("h2",[t._v(t._s(t.orderList.riderfirstname)+" "+t._s(t.orderList.riderlastname))])]),r("hr"),r("div",{staticClass:"d-flx-alc-jsb"},[r("p",{staticClass:"co-lgray"},[t._v("Rider Phone Number")]),r("h2",[t._v(t._s(t.orderList.riderphonenumber))])])]):t._e(),r("table",{staticClass:"table-content order-list"},[r("tbody",{staticClass:"tablebody"},[t._l(t.orderDetailsData.items,function(e){return r("tr",{key:e.id},[r("td",[r("div",{staticClass:"text-img alt"},[r("img",{staticClass:"text-img__img",attrs:{src:e.photo,alt:""}}),r("div",{staticClass:"text-img__content"},[r("h3",{staticClass:"fw-medium"},[t._v("\r\n                                  "+t._s(e.productname)+"\r\n                              ")]),e.discountprice?r("div",[r("s",{staticClass:"old-price"},[t._v("₦ "+t._s(t.formatPrice(e.unitprice)))]),r("p",{staticClass:"discount-price-normal"},[t._v("₦ "+t._s(t.formatPrice(e.discountprice)))])]):r("div",[r("p",{staticClass:"price"},[t._v("₦ "+t._s(t.formatPrice(e.unitprice)))])])])])]),r("td",[t._v(t._s(e.quantity))]),r("td",[t._v(" ₦ "+t._s(t.formatPrice(e.totalprice)))])])}),r("tr",{staticClass:"no-border-bottom"},[r("td",{staticClass:"co-lgray tx-r font-16",attrs:{colspan:"2"}},[t._v("Delivery Fee")]),r("td",{staticClass:"fw-medium co-lgray"},[t._v("₦ "+t._s(t.formatPrice(t.orderList.deliverycharge)))])]),r("tr",{staticClass:"no-border-bottom"},[r("td",{staticClass:"font-18 fw-bold tx-r",attrs:{colspan:"2"}},[t._v("Total")]),r("td",{staticClass:"font-18 fw-bold"},[t._v("₦ "+t._s(t.formatPrice(t.orderList.deliverycharge)))])])],2)])],2),r("div",{attrs:{id:"cancel-order","uk-modal":"","data-uk-modal":"{target:'#cancel-order',bgclose:false}",container:"#parent-component"}},[r("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[r("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeOrderDetails}}),t._m(0),r("form",{attrs:{action:""}},[t._m(1),r("div",{staticClass:"form-input__input"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.reason,expression:"formData.reason"}],attrs:{rows:"5"},domProps:{value:t.formData.reason},on:{input:function(e){e.target.composing||t.$set(t.formData,"reason",e.target.value)}}})])]),r("div",{staticClass:"d-flx-alc-jfe mt-2"},[r("button",{staticClass:"btn btn--primary",attrs:{type:"submit",id:"submitBtn"},on:{click:function(e){return t.orderCancel(t.order)}}},[t._v("\r\n              Cancel\r\n            ")])])])])],1)])])};a._withStripped=!0;var s={render:a,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",[this._v("\r\n              Cancel order\r\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-input"},[e("p",{staticClass:"form-input__label"},[this._v("Why do you want to cancel this order? "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])])}]};e.a=s},q4xG:function(t,e,r){var a=r("eQ15");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("c6ad5870",a,!1,{sourceMap:!1})},rPYa:function(t,e,r){var a=r("4psG");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("38f6c3a2",a,!1,{sourceMap:!1})},s0nD:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("V5We"),s=r("RqeM"),i=!1;var o=function(t){i||r("rPYa")},n=r("VU/8")(a.a,s.a,!1,o,"data-v-47f41221",null);n.options.__file="pages/orders/index.vue",e.default=n.exports},zTfd:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flx-alc-jsb page-extras"},[r("div",{staticClass:"drop-down page-drop"},[r("button",{staticClass:"btn-text ",attrs:{type:"button"}},[t._v("\n          Showing "),r("span",[t._v(" "+t._s(t.showing)+" ")]),t._v(" of "),r("span",[t._v(" "+t._s(void 0!=this.headers.Count?this.headers.Count:0)+" ")])])]),r("div",{staticClass:"d-flx-alc"},[t.date&&"object"==typeof t.date?r("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date[0])+" - "+t._s(t.date[1]))]):t._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:"string"==typeof t.date,expression:"typeof date == 'string'"}],staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date)+" ")]),r("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.previous}},[r("svg",[r("use",{attrs:{href:"/uploads/icons.svg#arrow-right"}})])]),r("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.next}},[r("svg",[r("use",{attrs:{href:"/uploads/icons.svg#arrow-left"}})])])])])};a._withStripped=!0;var s={render:a,staticRenderFns:[]};e.a=s}});