webpackJsonp([1],{"34Sr":function(t,e,a){"use strict";var s=a("nbbV"),r=a("z0r6"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/BankDetails.vue",e.a=o.exports},"39JQ":function(t,e,a){"use strict";var s=a("Xxa5"),r=a.n(s),o=a("exGp"),i=a.n(o);e.a={name:"imageCrop",props:["pic","update"],data:function(){return{vanilla:null,image:"",link:"none"}},computed:{file:{set:function(t){this.link=t},get:function(){return"none"!=this.link?this.link:this.update}}},mounted:function(){},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(["image/png","image/jpg","image/jpeg"].includes(e[0].type)?e.length&&this.createImage(e[0]):this.$toast.error("Only Images of Type jpg, jpeg and png allowed"))},removeImage:function(t){this.image="",this.file="",this.vanilla&&this.vanilla.destroy()},createImage:function(t){var e=this,a=(new Image,new FileReader),s=document.querySelector("#"+this.pic);this.vanilla=new Croppie(s,{viewport:{width:400,height:400},boundary:{width:500,height:500},showZoomer:!0}),a.onload=function(t){e.image=t.target.result,e.vanilla.bind({url:t.target.result})},a.readAsDataURL(t)},getImage:function(){var t=i()(r.a.mark(function t(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this,null==this.vanilla){t.next=4;break}return t.next=4,this.vanilla.result("blob").then(function(t){e.image=t,e.$emit("image",t)});case 4:return t.abrupt("return",this.image);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},"4Ovz":function(t,e,a){"use strict";var s=a("39JQ"),r=a("X1X0"),o=!1;var i=function(t){o||a("96g7")},n=a("VU/8")(s.a,r.a,!1,i,"data-v-33db1a60",null);n.options.__file="components/imageCrop.vue",e.a=n.exports},"4Zn0":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-auto w-500"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOtherSettings.apply(null,arguments)}}},[a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Minimum Order Value")]),a("div",{staticClass:"form-input__input p-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.miniorderamount,expression:"formData.miniorderamount"}],attrs:{type:"text",placeholder:"Enter Minimum Ordererable Value"},domProps:{value:t.formData.miniorderamount},on:{input:function(e){e.target.composing||t.$set(t.formData,"miniorderamount",e.target.value)}}})]),t.otherSettingsData.minorder?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a value")]):t._e()]),t._m(0)])])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-input pt-1"},[e("div",{},[e("button",{staticClass:"btn btn--primary mt-2",attrs:{type:"submit",id:"otherSettingsBtn"}},[this._v("\n\t\t\t\t\t\t\tUpdate Information\n\t\t\t\t\t\t")])])])}]};e.a=r},"4nUR":function(t,e,a){"use strict";(function(t){e.a={layout:"main",data:function(){return{formData:{merchantid:"",businessdescription:"",businessfacebook:"",businesstwitter:"",merchantemailaddress:"",miniorderamount:"",businessinstagram:"",businesslinkedln:"",businessname:"",businesswebsite:"",rcnumber:"",bankname:"",businesslogo:"",accountnumber:"",accountname:"",displayeccommerce:""},userDetails:{},otherSettingsData:{minorder:!1}}},methods:{updateOtherSettings:function(){var e=this;this.otherSettingsData.minorder=!1,""!==this.formData.miniorderamount?(t("#otherSettingsBtn").attr("disabled",!0).html("Updating...."),this.$store.dispatch("settings/updateUserInfo",this.formData).then(function(a){if(t("#otherSettingsBtn").attr("disabled",!1).html("Update Information"),a.data.status)return e.setData(a.data.data),e.$toast.success("Record was updated successfully"),void UIkit.modal("#miniorder").toggle();e.$toast.error("An error occurred")}).catch(function(e){t("#otherSettingsBtn").attr("disabled",!1).html("Update Information")})):this.otherSettingsData.minorder=!0},setFormData:function(){this.formData={merchantid:this.userDetails.id,businessdescription:this.userDetails.businessdescription,businessfacebook:this.userDetails.businessfacebook,businesstwitter:this.userDetails.businesstwitter,merchantemailaddress:this.userDetails.merchantemailaddress,miniorderamount:this.userDetails.miniorderamount,businessinstagram:this.userDetails.businessinstagram,businesslinkedln:this.userDetails.businesslinkedln,businessname:this.userDetails.businessname,rcnumber:this.userDetails.rcnumber,bankname:this.userDetails.bankname,accountnumber:this.userDetails.accountname,accountname:this.userDetails.accountnumber,displayeccommerce:this.userDetails.displayeccommerce,endofday:this.userDetails.endofday,businesslogo:"",businesswebsite:this.userDetails.businesswebsite}}},mounted:function(){this.userDetails=this.user,this.setFormData()}}}).call(e,a("7t+N"))},"4xkf":function(t,e,a){"use strict";var s=a("u7RW"),r=a("jP15"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/DisplayEcommerce.vue",e.a=o.exports},"96g7":function(t,e,a){var s=a("kdQO");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("cbe58688",s,!1,{sourceMap:!1})},Ci8t:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("div",{staticClass:"page-extras"},[a("p",{staticClass:"fw-medium font-16"}),a("div",{staticClass:"search-filter d-flx-alc-jfe"},[a("div",{staticClass:"drop-down filter-drop"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.listProductData.branchID,expression:"listProductData.branchID"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.listProductData,"branchID",e.target.multiple?a:a[0])},function(e){return t.listProducts("branchID")}]}},[a("option",{attrs:{value:""}},[t._v("All Branches")]),t._l(t.branches,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n              "+t._s(e.branchname)+"\n            ")])})],2)]),a("div",{staticClass:"drop-down filter-drop"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.listProductData.categoryID,expression:"listProductData.categoryID"}],staticClass:"filter-btn box-deco-smallr",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.listProductData,"categoryID",e.target.multiple?a:a[0])},function(e){return t.listProducts("branchID")}]}},[a("option",{attrs:{value:""}},[t._v("All Categories")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n\t\t\t\t"+t._s(e.categoryname)+"\n\t\t\t")])})],2)]),a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProducts.apply(null,arguments)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#search"}})])])])]),a("div",{attrs:{id:"parent-component"}},[a("div",{attrs:{id:"map-features","uk-modal":"","data-uk-modal":"{target:'#map-features',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal large-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("overlay-scrollbars",{staticClass:"modal-body"},[a("product-feature")],1)],1)])]),a("div",{attrs:{id:"miniorder","uk-modal":"","data-uk-modal":"{target:'#miniorder',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal product-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("overlay-scrollbars",{staticClass:"modal-body"},[a("minimum-order-requirement")],1)],1)]),a("div",{attrs:{id:"add-product","uk-modal":"","data-uk-modal":"{target:'#add-product',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal product-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Add Product")]),a("p",[t._v("Add new Product")])]),a("overlay-scrollbars",{staticClass:"modal-body"},[a("add-product",{ref:"addProduct",on:{refresh:t.recall}})],1)],1)]),a("div",{attrs:{id:"edit-product","uk-modal":"","data-uk-modal":"{target:'#edit-product',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal product-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("h2",[t._v("Edit Product")]),a("p",[t._v("Update existing Product")]),a("overlay-scrollbars",{staticClass:"modal-body"},[a("edit-product",{ref:"editProduct",on:{refresh:t.recall}})],1)],1)]),a("div",{attrs:{id:"upload-products","uk-modal":"","data-uk-modal":"{target:'#upload-products',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeUploadProduct}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Upload products")]),a("p",[t._v("Select details for upload a product")])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.uploadInventoryProduct.apply(null,arguments)}}},[a("overlay-scrollbars",{staticClass:"modal-body"},[a("div",[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Branch")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.uploadData.branchID,expression:"uploadData.branchID"}],staticClass:"filter-btn box-deco-smallr",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.uploadData,"branchID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-Select Branch-")]),t._l(t.branches,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.branchname)+"\n                      ")])})],2)]),t.uploadDataError.branch?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a branch")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Category")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.uploadData.categoryID,expression:"uploadData.categoryID"}],staticClass:"filter-btn box-deco-smallr",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.uploadData,"categoryID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-Select Category-")]),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.categoryname)+"\n                      ")])})],2)]),t.uploadDataError.category?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a category")]):t._e()])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Product type")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.uploadData.producttype,expression:"uploadData.producttype"}],staticClass:"filter-btn box-deco-smallr",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.uploadData,"producttype",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-Select product type-")]),t._l(t.productTypes,function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.text)+"\n                    ")])})],2)]),t.uploadDataError.productype?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a product type")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("File")]),a("div",{staticClass:"form-input__input"},[a("input",{ref:"file",attrs:{type:"file",accept:".xlsx, .csv, .xls"}})]),t.uploadDataError.file?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a file")]):t._e()])]),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("a",{staticClass:"btn btn-secondary btn-no-fill",attrs:{href:"/download/productupload.xlsx",download:""}},[t._v("\n                Download sample file\n              ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"uploadBtn",type:"submit"}},[t._v("\n                + Upload Products\n              ")])])],1)])]),a("div",{attrs:{id:"delete-text","uk-modal":"","data-uk-modal":"{target:'#delete-text',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical small-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button"},on:{click:t.cancelDelete}},[t._v("X")]),a("div",{staticClass:"modal-header d-flx"},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#co-delete"}})]),a("div",{staticClass:"ml-1"},[a("h2",[t._v("Delete Product?")]),a("p",[t._v("Please confirm you really want to delete this product, this action cannot be undone.")])])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"d-flx-alc-jc mt-3"},[a("button",{staticClass:"btn btn-no-fill",on:{click:t.cancelDelete}},[t._v("\n                Cancel\n              ")]),a("button",{staticClass:"btn btn-error ml-2",attrs:{id:"deleteBtn"},on:{click:t.doDeleteProduct}},[t._v("\n                Delete\n              ")])])])])]),a("div",{attrs:{id:"product-features","uk-modal":"","data-uk-modal":"{target:'#product-features',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal large-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Product Features")]),a("p",[t._v("These are the list of features mapped of the product - "),a("span",{staticStyle:{"font-weight":"bold"},attrs:{id:"productName"}})])]),a("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[a("table",[a("thead",{},[a("tr",[a("th",{},[t._v("Feature type")]),a("th",{},[t._v("Feature name")]),a("th",{},[t._v("Price")])])]),a("tbody",{staticClass:"tablebody"},[t.productfeatures.length<1?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("No features mapped for this product")])]):t._e(),t._l(t.productfeatures,function(e){return t.productfeatures.length>0?a("tr",{key:e.id},[a("td",[t._v(t._s(e.featuretype))]),a("td",[t._v(t._s(e.featurename))]),a("td",[t._v("₦ "+t._s(t.formatPrice(e.price)))])]):t._e()})],2)])]),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.clearDisplayFeatures}},[t._v("\n              Cancel\n            ")])])])]),a("div",{attrs:{id:"share","uk-modal":"","data-uk-modal":"{target:'#share',bgclose:false}",container:"#parent-component"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),a("div",{staticClass:"modal-header"},[a("h2",[t._v("Shareable link")]),a("p",[t._v("Share this product on social networks of your choice")])]),a("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[a("div",{staticClass:"share-link-text"},[a("p",[t._v("Copy link")]),a("div",[a("div",{staticClass:"form-input__input"},[a("input",{attrs:{type:"text"},domProps:{value:t.link}})]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn-no-fill",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.copyLink.apply(null,arguments)}}},[t._v("Copy")])])])])])])]),a("div",{staticClass:"inner-main-wrapper"},[a("div",{staticClass:"d-flx-alc-jsb table-title"},[a("h3",{staticClass:"section-title"},[t._v("PRODUCTS")]),a("div",{staticClass:"search-filter d-flx-alc-jfe"},[this.isSupervisor?t._e():a("a",{staticClass:"btn btn--primary",attrs:{href:"javascript:;",type:"button"},on:{click:t.openMiniOrder}},[t._v("\n            Minimum Order Value\n          ")]),a("a",{staticClass:"btn btn--primary",attrs:{href:"javascript:;",type:"button"},on:{click:t.openProductFeatures}},[t._v("\n            Add Special Features\n          ")]),a("a",{staticClass:"btn btn--primary",attrs:{href:"javascript:;",type:"button"},on:{click:t.addProduct}},[t._v("\n            + Add new product\n          ")]),a("a",{staticClass:"btn btn--primary",attrs:{href:"javascript:;",type:"button"},on:{click:t.uploadProduct}},[t._v("\n            + Batch uploads\n          ")])])]),a("pagination",{attrs:{headers:t.headers},on:{go:t.listProducts},model:{value:t.listProductData.page,callback:function(e){t.$set(t.listProductData,"page",e)},expression:"listProductData.page"}}),a("overlay-scrollbars",{staticClass:"table-wrapper no-deco"},[a("figcaption",{staticClass:"sr"},[t._v("\n          A table showing information of categories\n        ")]),a("table",{staticClass:"table-content"},[a("thead",{},[a("tr",[a("th",{staticClass:"column-name"},[t._v("Image")]),a("th",{staticClass:"column-name"},[t._v("Name")]),a("th",{staticClass:"column-name"},[t._v("Code")]),a("th",{staticClass:"column-name"},[t._v("Branch")]),a("th",{},[t._v("Amount (₦)")]),a("th",{},[t._v("Discount")]),a("th",{},[t._v("Stock")]),a("th",{},[t._v("Action")])])]),a("tbody",{staticClass:"tablebody"},[t.loading?a("tr",[a("td",{attrs:{colspan:"7"}},[t._v("Loading...please wait")])]):t._e(),!t.loading&&t.filteredList.length<1?a("tr",[a("td",{attrs:{colspan:"7"}},[t._v("No record. Please add a product.")])]):t._e(),t._l(t.filteredList,function(e,s){return!t.loading&&t.filteredList.length>0?a("tr",{key:s},[e.photo?a("td",{staticClass:"column-name"},[a("img",{attrs:{src:e.photo}})]):a("td",{staticClass:"column-name"},[t._v("No photo")]),a("td",{staticClass:"column-name",staticStyle:{color:"#353190"}},[t._v(t._s(e.productname))]),a("td",{staticClass:"column-name"},[t._v(t._s(null!=e.productcode&&"null"!=e.productcode?e.productcode:""))]),a("td",{staticClass:"column-name"},[t._v(t._s(e.branchname))]),a("td",[t._v(t._s(t.formatPrice(e.sellingprice)))]),a("td",[t._v(" "+t._s(t.formatPrice(e.discount)))]),a("td",[t._v(t._s(t.formNumber(e.stockqty)))]),a("div",{staticClass:"td"},[a("div",{staticClass:"drop-down org-drop drop-set"},[a("button",{staticClass:"btn btn-icon drop-set",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)}}},[a("svg",{staticClass:"drop-set"},[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#more"}})])]),a("div",{staticClass:"drop-wrapper",attrs:{"data-drop-down":""}},[a("ul",{staticClass:"drop-lists"},[a("li",{staticClass:"drop-list-item"},[a("button",{staticClass:"btn btn-text",attrs:{title:"View product feature",type:"button"},on:{click:function(a){return t.displayFeature(e)}}},[t._v("\n                          Display Features\n                        ")])]),a("li",{staticClass:"drop-list-item"},[a("button",{staticClass:"btn btn-text",attrs:{type:"button"},on:{click:function(a){return t.editProduct(e)}}},[t._v("\n                          Edit Product\n                        ")])]),a("li",{staticClass:"drop-list-item"},[a("button",{staticClass:"btn btn-text",attrs:{type:"button"},on:{click:function(a){return t.deleteProduct(e)}}},[t._v("\n                          Delete Product\n                        ")])]),a("li",{staticClass:"drop-list-item"},[a("button",{staticClass:"btn btn-text",attrs:{type:"button"},on:{click:function(a){return t.generateShare(e)}}},[t._v("\n                          Share Product\n                        ")])])])])])])]):t._e()})],2)])])],1)])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},GDUT:function(t,e,a){"use strict";(function(t){var s=a("Xxa5"),r=a.n(s),o=a("exGp"),i=a.n(o),n=a("MjLd"),c=a("4xkf"),l=a("ISpW"),u=a("frkG"),d=a("vOL3"),p=a("hYtS");e.a={components:{ProductFeature:l.a,DisplayEcommerce:c.a,MinimumOrderRequirement:n.a,AddProduct:u.a,EditProduct:d.a,Pagination:p.a},layout:"main",computed:{filteredList:function(){return this.lProducts}},data:function(){return{search:"",loading:!0,listProductData:{page:1,merchID:"",branchID:"",categoryID:"",search:""},formData:{merchID:"",featureID:"",productID:"",priceID:""},headers:{Next:"",Prev:"",Count:0,total:0,pagenum:1},productID:"",lProducts:[],lVendors:[],lPurchaseOrder:[],features:[],prices:[],productfeatures:[],uploadData:{branchID:"",merchID:"",categoryID:"",producttype:""},uploadDataError:{branch:!1,category:!1,productype:!1,file:!1},branches:[],categories:[],deleteData:{id:""},productTypes:[{id:"nonstocked_product",text:"Non stocked product"},{id:"stocked_product",text:"Stocked product"},{id:"service",text:"Service product"}],link:"",url:"https://ntisawebapp.wajesmarthrms.website/product/"}},methods:{openProductFeatures:function(){UIkit.modal("#map-features").toggle()},openMiniOrder:function(){UIkit.modal("#miniorder").toggle()},openDisplayEcccomerce:function(){UIkit.modal("#displayeccomerce").toggle()},addProduct:function(){this.$refs.addProduct.clearForm(),this.$refs.addProduct.getFeatures(),UIkit.modal("#add-product").toggle("show")},deleteProduct:function(e){this.deleteData.id=e.id,t("#delete-text").addClass("uk-open").show()},generateShare:function(t){var e=this.url+this.user.businessdescription.toLowerCase()+"/"+t.merchID+"/"+t.id+"/"+this.slugify(t.productname,"-");this.link=encodeURI(e),UIkit.modal("#share").toggle()},copyLink:function(){var t=this;this.$copyText(this.link).then(function(e){t.$toast.success("Link copied to clipboard")},function(e){t.$toast.error("An error occurred.Cannot copy.")})},cancelDelete:function(){this.deleteData={id:""},t("#delete-text").removeClass("uk-open").hide()},doDeleteProduct:function(){var e=this;t("#deleteBtn").attr("disabled",!0).html("Deleting..please wait"),this.$store.dispatch("products/deleteProduct",this.deleteData).then(function(a){if(t("#deleteBtn").attr("disabled",!1).html("Delete"),a.data.status)return e.$toast.success(a.data.message),e.listProducts(),void e.cancelDelete();e.$toast.error("An error occurred and the operation was terminated")}).catch(function(a){e.$toast.error("An error occurred and the operation was terminated"),t("#deleteBtn").attr("disabled",!1).html("Delete"),console.log(a)})},uploadInventoryProduct:function(){var e=this;if(!this.validateUploadData()){this.isSupervisor&&(this.uploadData.branchID=this.user.branchID);var a=new FormData;a.append("branchID",this.uploadData.branchID),a.append("categoryID",this.uploadData.categoryID),a.append("producttype",this.uploadData.producttype),a.append("merchID",this.formData.merchID),a.append("file",this.$refs.file.files[0]),t("#uploadBtn").attr("disabled",!0).html("Uploading..please wait"),this.$store.dispatch("products/uploadProduct",a).then(function(a){a.data.status&&(e.$toast.success(a.data.message),t("#uploadBtn").attr("disabled",!1).html("+ Upload products"),e.closeUploadProduct(),e.listProducts())}).catch(function(e){t("#uploadBtn").attr("disabled",!1).html("+ Upload products")})}},validateUploadData:function(){return this.clearUploadErrorData(),""===this.uploadData.branchID?(this.uploadDataError.branch=!0,!0):""===this.uploadData.categoryID?(this.uploadDataError.category=!0,!0):""===this.uploadData.producttype?(this.uploadDataError.productype=!0,!0):this.$refs.file.files.length<1?(this.uploadDataError.file=!0,!0):void 0},clearUploadErrorData:function(){this.uploadDataError={branch:!1,category:!1,file:!1}},closeUploadProduct:function(){this.uploadData={merchID:"",categoryID:""},t("#upload-products").removeClass("uk-open").hide()},uploadProduct:function(){UIkit.modal("#upload-products").toggle()},submitMapProduct:function(){var e=this;t("#submitBtn").attr("disabled",!0).html("Mapping..please wait"),this.$store.dispatch("products/mapProductFeatures",this.formData).then(function(a){t("#submitBtn").attr("disabled",!1).html("+ Map features"),a.data.status&&(e.$toast.success(a.data.message),e.listProducts(),e.closeMapFeature())}).catch(function(a){e.$toast.error(a),t("#submitBtn").attr("disabled",!1).html("+ Map features")})},displayFeature:function(e){this.clearDisplayFeatures(),t("#productName").html(e.productname),this.productfeatures=e.productfeatureinfo,t("#product-features").addClass("uk-open").show()},clearDisplayFeatures:function(){t("#productName").html(""),this.productfeatures=[],t("#product-features").removeClass("uk-open").hide()},listVendors:function(){var t=this;this.$store.dispatch("vendor/listVendors",this.formData.merchID).then(function(e){if(e.data.status)return t.lVendors=e.data.data,void(t.loading=!1);t.$toast.error("An error occurred")}).catch(function(e){t.$toast.error(e),t.loading=!1})},editProduct:function(){var t=i()(r.a.mark(function t(e){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.removeItem("product_data"),console.log(e),t.next=4,this.$store.dispatch("products/setProduct",e);case 4:this.$refs.editProduct.attachedProducts(),UIkit.modal("#edit-product").toggle();case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),searchProducts:function(){this.formData.page=1,this.listProductData.search=this.search,this.listProducts()},listProducts:function(t){var e=this;void 0!=t&&"branchID"==t&&(this.listProductData.page=1),this.$store.dispatch("products/listProducts",this.new_data).then(function(t){e.lProducts=t.data.data,e.setHeaders(t.data.data,t.data.headers),e.loading=!1}).catch(function(t){e.loading=!1,console.log(t)})},mapFeature:function(t){this.formData.productID=t.id,UIkit.modal("#map-features").toggle()},closeMapFeature:function(){this.formData.productID="",this.formData.featureID="",this.formData.priceID="",UIkit.modal("#map-features").toggle("hide")},listFeatures:function(){var t=this;this.$store.dispatch("products/listFeatures",this.formData.merchID).then(function(e){var a=[];e.data.data.forEach(function(t){var e={id:t.id,text:t.featuretype+": "+t.featurename};a.push(e)}),t.features=a}).catch(function(t){console.log(t)})},listPrice:function(){var t=this;this.$store.dispatch("products/listPrices",this.formData.merchID).then(function(e){var a=[];e.data.data.forEach(function(t){var e={id:t.id,text:t.price};a.push(e)}),t.prices=a}).catch(function(t){console.log(t)})},listPurchaseOrders:function(){var t=this;this.$store.dispatch("purchaseorders/listPurchaseOrder",this.formData.merchID).then(function(e){e.data.status&&(t.lPurchaseOrder=e.data.data)}).catch(function(t){})},listBranches:function(){var t=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(e){t.branches=e.data.data}).catch(function(t){})},listCategories:function(){var t=this;this.$store.dispatch("category/getCategories",this.formData.merchID).then(function(e){t.categories=e.data.data}).catch(function(t){})},recall:function(){this.formData.merchID=this.user.id,this.listProductData.merchID=this.user.id,this.listProducts(),this.listFeatures(),this.listBranches(),this.listCategories()},onBarcodeScanned:function(t){}},mounted:function(){this.$barcodeScanner.init(this.onBarcodeScanned),this.recall()},destroyed:function(){this.$barcodeScanner.destroy()}}}).call(e,a("7t+N"))},ISpW:function(t,e,a){"use strict";var s=a("NbZH"),r=a("NeA2"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/ProductFeature.vue",e.a=o.exports},M2Sb:function(t,e,a){"use strict";e.a={layout:"main",props:["headers","value","date"],methods:{previous:function(){if(""!==this.headers.Prev){var t=+this.value-1;t<0?t=1:(this.$emit("input",t),this.$emit("go"))}},next:function(){if(""!==this.headers.Next){var t=+this.value+1;this.$emit("input",t),this.$emit("go")}}}}},Mf7U:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-main-wrapper",staticStyle:{padding:"0"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.createProduct.apply(null,arguments)}}},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[t._m(0),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.productTypes},model:{value:t.formData.producttype,callback:function(e){t.$set(t.formData,"producttype",e)},expression:"formData.producttype"}})],1),t.errorData.producttype?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a product type")]):t._e()]),a("label",{staticClass:"form-input"},[t._m(1),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.categories},model:{value:t.formData.categoryID,callback:function(e){t.$set(t.formData,"categoryID",e)},expression:"formData.categoryID"}})],1),t.errorData.categoryID?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a category")]):t._e()])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("SKU (Product code)")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productcode,expression:"formData.productcode"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.productcode},on:{input:function(e){e.target.composing||t.$set(t.formData,"productcode",e.target.value)}}})]),t.errorData.productcode?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product code")]):t._e()]),a("label",{staticClass:"form-input"},[t._m(2),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productname,expression:"formData.productname"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.productname},on:{input:function(e){e.target.composing||t.$set(t.formData,"productname",e.target.value)}}})]),t.errorData.productname?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product name")]):t._e()])]),a("div",{class:"stocked_product"==t.formData.producttype?"flex-width-1-3 less-gp":"flex-width-1-2 less-gp"},["stocked_product"==t.formData.producttype?a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Stock/ Quantity")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.stockqty,expression:"formData.stockqty"}],attrs:{type:"number",required:"",placeholder:""},domProps:{value:t.formData.stockqty},on:{input:function(e){e.target.composing||t.$set(t.formData,"stockqty",e.target.value)}}})]),t.errorData.stockqty?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a stock")]):t._e()]):t._e(),"stocked_product"==t.formData.producttype?a("label",{staticClass:"form-input"},[t._m(3),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.restocklevel,expression:"formData.restocklevel"}],attrs:{type:"number",required:"",placeholder:""},domProps:{value:t.formData.restocklevel},on:{input:function(e){e.target.composing||t.$set(t.formData,"restocklevel",e.target.value)}}})]),t.errorData.restocklevel?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a re order stock")]):t._e()]):t._e()]),a("add-product-feature",{ref:"features",attrs:{featuresList:t.formData.productfeatures}}),a("div",{staticClass:"flex-width-1-2 less-gp"},[t.isSupervisor?t._e():a("label",{staticClass:"form-input"},[t._m(4),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.branches},model:{value:t.formData.branchID,callback:function(e){t.$set(t.formData,"branchID",e)},expression:"formData.branchID"}})],1),t.errorData.branchID?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a branch")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v(" Tax Inclusive ")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.taxinclusive},model:{value:t.formData.taxinclusive,callback:function(e){t.$set(t.formData,"taxinclusive",e)},expression:"formData.taxinclusive"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Expiry Date")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.expirationdate,expression:"formData.expirationdate"}],attrs:{type:"date",placeholder:""},domProps:{value:t.formData.expirationdate},on:{input:function(e){e.target.composing||t.$set(t.formData,"expirationdate",e.target.value)}}})]),t.errorData.expirationdate?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select an expiration date")]):t._e()])]),a("label",{staticClass:"form-input"},[t._m(5),a("div",{staticClass:"form-input__input"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.productdescription,expression:"formData.productdescription"}],attrs:{rows:"5"},domProps:{value:t.formData.productdescription},on:{input:function(e){e.target.composing||t.$set(t.formData,"productdescription",e.target.value)}}})]),t.errorData.productdescription?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product description")]):t._e()]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(6),a("image-crop",{ref:"photo1",attrs:{pic:"photo1"},on:{image:function(e){t.photo1=e}}}),t.errorData.photo1?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 1 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(7),a("image-crop",{ref:"photo2",attrs:{pic:"photo2"},on:{image:function(e){t.photo2=e}}}),t.errorData.photo2?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 2 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(8),a("image-crop",{ref:"photo3",attrs:{pic:"photo3"},on:{image:function(e){t.photo3=e}}}),t.errorData.photo3?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 3 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(9),a("image-crop",{ref:"photo4",attrs:{pic:"photo4"},on:{image:function(e){t.photo4=e}}}),t.errorData.photo4?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 4 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.cancelAdd}},[t._v("\n          Cancel\n        ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"createProductBtn"}},[t._v("\n          + Create product\n        ")])])],1)])};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Select Type "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Select Category "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Name "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Re-order Level"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Branch "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Description "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 1\n            "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 2\n            "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 3\n            "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 4\n            "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])}]};e.a=r},MjLd:function(t,e,a){"use strict";var s=a("4nUR"),r=a("4Zn0"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/MinimumOrderRequirement.vue",e.a=o.exports},NbZH:function(t,e,a){"use strict";(function(t){e.a={layout:"main",data:function(){return{loading:!0,formData:{merchID:""},features:[],productFeatures:[{featuretype:"",featurename:"",merchID:""}],deleteData:{id:""},editData:{id:"",featuretype:"",featurename:"",merchID:""},options:[{id:"size",text:"Size"},{id:"weight",text:"Weight"},{id:"color",text:"Color"}]}},computed:{isCourierService:function(){return this.user.businessdescription.toLowerCase().includes("delivery")}},methods:{saveProductFeatures:function(){var e=this;this.formData.features=this.productFeatures,t("#productFeaturesBtn").attr("disabled",!0).html("Adding feature..please wait"),this.$store.dispatch("products/addFeatures",this.formData).then(function(t){if(t.data.status)return e.$toast.success(t.data.message),e.listFeatures(),void e.clearForm();e.$toast.error("An error occurred")}).catch(function(e){t("#productFeaturesBtn").attr("disabled",!1).html("+ Add feature(s)")})},updateProductFeatures:function(){var e=this;t("#updateProductFeatureBtn").attr("disabled",!0).html("Updating feature..please wait"),this.$store.dispatch("products/editFeatures",this.editData).then(function(a){if(a.data.status)return e.$toast.success(a.data.message),t("#updateProductFeatureBtn").attr("disabled",!1).html("Update feature"),e.closeEditModal(),void e.listFeatures();e.$toast.error("An error occurred")}).catch(function(e){t("#updateProductFeatureBtn").attr("disabled",!1).html("Update feature")})},cancelDelete:function(){this.deleteData={id:""},UIkit.modal("#delete-features").toggle("hide")},deleteFeature:function(t){this.deleteData={id:t.id},UIkit.modal("#delete-features").toggle("show")},doDelete:function(){var e=this;t("#deleteFeature").attr("disabled",!0).html("Deleting feature..please wait"),this.$store.dispatch("products/deleteFeature",this.deleteData.id).then(function(a){if(a.data.status)return e.$toast.success(a.data.message),t("#deleteFeature").attr("disabled",!1).html("Delete feature"),e.closeDeleteModal(),void e.listFeatures();e.$toast.error(a.data.message)}).catch(function(e){t("#deleteFeature").attr("disabled",!1).html("Delete feature")})},listFeatures:function(){var t=this;this.$store.dispatch("products/listFeatures",this.formData.merchID).then(function(e){t.loading=!1,t.features=e.data.data}).catch(function(e){t.loading=!1})},editFeature:function(t){this.editData.id=t.id,this.editData.featurename=t.featurename,this.editData.featuretype=t.featuretype,UIkit.modal("#edit-features").toggle()},closeEditModal:function(){this.editData.id="",this.editData.featurename="",this.editData.featuretype="",this.editData.merchID="",UIkit.modal("#edit-features").toggle("hide"),UIkit.modal("#map-features").toggle()},closeDeleteModal:function(){this.deleteData={id:""},UIkit.modal("#delete-features").toggle("hide"),UIkit.modal("#map-features").toggle()},changeType:function(t,e){t.id,t.text;this.productFeatures[e].merchID=this.formData.merchID},clearForm:function(){this.formData={productfeatures:[]},this.productFeatures=[{featuretype:"",featurename:"",merchID:""}],UIkit.modal("#add-features").toggle("hide"),UIkit.modal("#map-features").toggle()},openModal:function(){UIkit.modal("#add-features").toggle()},addChild:function(){this.productFeatures.push({featuretype:"",featurename:"",merchID:""})},removeChild:function(t){this.productFeatures.splice(t,1)}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listFeatures()}}}).call(e,a("7t+N"))},NeA2:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"setting-section"},[a("div",{staticClass:"d-flx-alc-jsb table-title"},[a("h3",{staticClass:"section-title"},[t._v("SPECIAL FEATURES")]),a("button",{staticClass:"btn btn--primary",attrs:{type:"button"},on:{click:t.openModal}},[t._v("\n        + Add new\n      ")])]),a("overlay-scrollbars",{staticClass:"table-wrapper no-deco"},[a("table",{staticClass:"table-content"},[a("thead",{},[a("tr",[a("th",{},[t._v("Feature type")]),a("th",{},[t._v("Feature name")]),a("th",{},[t._v("Actions")])])]),a("tbody",{staticClass:"tablebody"},[t.loading?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Loading...please wait")])]):t._e(),!t.loading&&t.features.length<1?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("No record at the moment. Please add a feature.")])]):t._e(),t._l(t.features,function(e){return!t.loading&&t.features.length>0?a("tr",{key:e.id},[a("td",{staticStyle:{color:"#353190"}},[t._v(t._s(e.featuretype))]),a("td",[t._v(t._s(e.featurename))]),a("td",{staticClass:"d-flx-alc"},[a("button",{staticClass:"btn btn-icon",attrs:{title:"Edit",type:"button"},on:{click:function(a){return t.editFeature(e)}}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#edit"}})])]),a("button",{staticClass:"btn btn-icon",attrs:{title:"Edit",type:"button"},on:{click:function(a){return t.deleteFeature(e)}}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#delete"}})])])])]):t._e()})],2)])])],1),a("div",{attrs:{id:"add-features",container:"#parent-component","uk-modal":""}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.clearForm}}),t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveProductFeatures.apply(null,arguments)}}},[a("overlay-scrollbars",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},t._l(t.productFeatures,function(e,s){return a("div",{key:s,staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.options},on:{select:function(e){return t.changeType(e,s)}},model:{value:e.featuretype,callback:function(a){t.$set(e,"featuretype",a)},expression:"input.featuretype"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.featurename,expression:"input.featurename"}],attrs:{type:"text"},domProps:{value:e.featurename},on:{input:function(a){a.target.composing||t.$set(e,"featurename",a.target.value)}}})])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s==t.productFeatures.length-1,expression:"k == productFeatures.length-1"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.addChild(s)}}},[t._v("\n                  +\n                ")])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s||!s&&t.productFeatures.length>1,expression:"k || ( !k && productFeatures.length > 1)"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.removeChild(s)}}},[t._v("\n                  -\n                ")])])])}),0),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button",id:"cancelBtn"},on:{click:t.clearForm}},[t._v("\n                Cancel\n              ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"productFeaturesBtn",type:"submit"}},[t._v("\n                + Add feature(s)\n              ")])])],1)])]),a("div",{attrs:{id:"edit-features",container:"#parent-component","uk-modal":""}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""},on:{click:t.closeEditModal}}),t._m(1),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateProductFeatures.apply(null,arguments)}}},[a("overlay-scrollbars",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.options},model:{value:t.editData.featuretype,callback:function(e){t.$set(t.editData,"featuretype",e)},expression:"editData.featuretype"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Feature name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.featurename,expression:"editData.featurename"}],attrs:{type:"text"},domProps:{value:t.editData.featurename},on:{input:function(e){e.target.composing||t.$set(t.editData,"featurename",e.target.value)}}})])])])]),a("div",{staticClass:"d-flx-alc-jfe mt-5"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.closeEditModal}},[t._v("\n                Cancel\n              ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{id:"updateProductFeatureBtn",type:"submit"}},[t._v("\n                + Update feature\n              ")])])],1)])]),a("div",{attrs:{id:"delete-features","uk-modal":"",container:"#parent-component","data-uk-modal":"{target:'#delete-features',bgclose:false}"}},[a("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical small-modal"},[a("button",{staticClass:"uk-modal-close-default",attrs:{type:"button"},on:{click:t.cancelDelete}},[t._v("X")]),a("div",{staticClass:"modal-header d-flx"},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#co-delete"}})]),t._m(2)]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"d-flx-alc-jc mt-3"},[a("button",{staticClass:"btn btn-no-fill",on:{click:t.cancelDelete}},[t._v("\n          Cancel\n        ")]),a("button",{staticClass:"btn btn-error ml-2",attrs:{id:"deleteFeature"},on:{click:t.doDelete}},[t._v("\n          Delete\n        ")])])])])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",[this._v("Add Product feature")]),e("p",[this._v("Enter the details to create a new product feature")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",[this._v("Update Product feature")]),e("p",[this._v("Enter the details to update a new product feature")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ml-1"},[e("h2",[this._v("Remove Feature ?")]),e("p",[this._v("Please confirm you really want to delete this feature, this action cannot be undone.")])])}]};e.a=r},UJMj:function(t,e,a){"use strict";(function(t){var s=a("bOdI"),r=a.n(s),o=a("Xxa5"),i=a.n(o),n=a("mvHQ"),c=a.n(n),l=a("exGp"),u=a.n(l),d=a("s8OY"),p=a("4Ovz");e.a={components:{ImageCrop:p.a,AddProductFeature:d.a},layout:"main",data:function(){return{branchID:"",stockqty:"",producttype:"",formData:{merchID:"",productcode:"",productname:"",taxinclusive:"",productdescription:"",stockqty:"",sellingprice:"",expirationdate:"",producttype:"",discount:"",productfeatures:[{price:"",featureID:""}],restocklevel:0,branchID:"",categoryID:"",id:""},nonstockedForm:!1,stockedForm:!1,serviceForm:!1,productTypes:[{id:"nonstocked_product",text:"Non-stocked product"},{id:"stocked_product",text:"Stocked product"},{id:"service",text:"Service"}],taxinclusive:[{id:!0,text:"Yes"},{id:!1,text:"No"}],branches:[],categories:[],productDescription:"",errorData:{productcode:!1,productname:!1,productdescription:!1,stockqty:!1,sellingprice:!1,expirationdate:!1,producttype:!1,branchID:!1,restocklevel:!1,discount:!1,categoryID:!1,photo1:!1,photo2:!1,photo3:!1,photo4:!1},photo1:"",photo2:"",photo3:"",photo4:""}},methods:{saveEditProduct:function(){var e=u()(i.a.mark(function e(){var a,s,r=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.$refs.features.productFeatures[0].featureID?this.formData.sellingprice=this.$refs.features.productFeatures[0].price:this.formData.sellingprice=0,!this.validateFormData()){e.next=3;break}return e.abrupt("return");case 3:return a=null==this.formData.expirationdate||""==this.formData.expirationdate?"":this.formData.expirationdate,s=new FormData,""==this.formData.restocklevel&&(this.formData.restocklevel=0),s.append("merchID",this.formData.merchID),s.append("productcode",this.formData.productcode),s.append("productname",this.formData.productname),s.append("productdescription",this.formData.productdescription),this.stockqty!=this.formData.stockqty?s.append("stockqty",this.formData.stockqty):s.append("stockqty",0),s.append("discount",this.formData.discount),s.append("sellingprice",this.formData.sellingprice),s.append("taxinclusive",this.formData.taxinclusive),s.append("expiration_date",a),s.append("producttype",this.formData.producttype),s.append("branchID",this.formData.branchID),s.append("categoryID",this.formData.categoryID),s.append("restocklevel",this.formData.restocklevel),this.$refs.features.productFeatures.length>1?(""==this.$refs.features.productFeatures[0].featureID&&this.$refs.features.productFeatures.splice(0,1),s.append("productfeatures",c()(this.$refs.features.productFeatures))):s.append("productfeatures",c()([])),e.next=22,this.$refs.editPhoto1.getImage();case 22:return e.next=24,this.$refs.editPhoto3.getImage();case 24:return e.next=26,this.$refs.editPhoto4.getImage();case 26:return e.next=28,this.$refs.editPhoto2.getImage();case 28:(this.photo1.length>0||""!=this.photo1)&&(s.append("photo",this.photo1,"file1."+this.photo1.type.split("/")[1]),this.formData.photo=this.photo1),(this.photo2.length>0||""!=this.photo2)&&(s.append("photo2",this.photo2,"file2."+this.photo2.type.split("/")[1]),this.formData.photo2=this.photo2),(this.photo3.length>0||""!=this.photo3)&&(s.append("photo3",this.photo3,"file3."+this.photo3.type.split("/")[1]),this.formData.photo3=this.photo3),(this.photo4.length>0||""!=this.photo4)&&(s.append("photo4",this.photo4,"file4."+this.photo4.type.split("/")[1]),this.formData.photo4=this.photo4),s.append("id",this.formData.id),t("#editProductBtn").attr("disabled",!0).html("Updating..please wait"),this.$store.dispatch("products/editProduct",s).then(function(e){if(t("#editProductBtn").attr("disabled",!1).html("+ Update product"),e.data.status)return r.$toast.success("Product was successfully updated"),r.clearForm(),location.reload(),r.$emit("refresh"),void UIkit.modal("#edit-product").toggle();r.$toast.error("An error occurred.")}).catch(function(e){r.$toast.error("An error occurred."),t("#editProductBtn").attr("disabled",!1).html("+ Update product")});case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearValidation:function(){var t;this.errorData=(t={productcode:!1,productname:!1,productdescription:!1,stockqty:!1,sellingprice:!1,discount:!1,expirationdate:!1,producttype:!1,branchID:!1},r()(t,"discount",!1),r()(t,"restocklevel",!1),r()(t,"categoryID",!1),r()(t,"photo1",!1),r()(t,"photo2",!1),r()(t,"photo3",!1),r()(t,"photo4",!1),t)},validateFormData:function(){return""===this.formData.producttype?(this.errorData.producttype=!0,!0):""===this.formData.categoryID?(this.errorData.categoryID=!0,!0):""===this.formData.productname?(this.errorData.productname=!0,!0):"stocked_product"===this.formData.producttype&&""===this.formData.stockqty?(this.errorData.stockqty=!0,!0):"stocked_product"!==this.formData.producttype||""!=this.formData.restocklevel&&0!=this.formData.restocklevel?""===this.formData.sellingprice?(this.errorData.sellingprice=!0,!0):""===this.formData.branchID?(this.errorData.branchID=!0,!0):(""===this.formData.productdescription||void 0===this.formData.productdescription)&&(this.errorData.productdescription=!0,!0):(this.errorData.restocklevel=!0,!0)},clearForm:function(){this.formData={productcode:"",productname:"",productdescription:"",stockqty:"",sellingprice:"",expirationdate:"",discount:"",producttype:"",productfeatures:[{featureID:"",price:""}],restocklevel:0,categoryID:"",id:""}},cancelForm:function(){this.clearForm(),UIkit.modal("#edit-product").toggle()},listBranches:function(){var t=this,e=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(a){var s=[];a.data.data.forEach(function(t){var a={id:t.id,text:t.branchname};e.isSupervisor?a.id==e.user.branchID&&s.push(a):s.push(a)}),t.branches=s})},listProductCategory:function(){var t=this;this.$store.dispatch("category/getCategories",this.formData.merchID).then(function(e){var a=[];e.data.data.forEach(function(t){var e={id:t.id,text:t.categoryname};a.push(e)}),t.categories=a})},attachedProducts:function(){this.clearForm();var t=JSON.parse(localStorage.getItem("product_data"));(t.productfeatureinfo.length<=0||Number(t.sellingprice)>0)&&t.productfeatureinfo.unshift({price:t.sellingprice,featureID:""}),this.stockqty=t.stockqty,this.producttype=t.producttype,this.formData={merchID:t.merchID,productcode:null!=t.productcode&&"null"!=t.productcode?t.productcode:"",productname:t.productname,productdescription:t.productdescription,stockqty:t.stockqty,sellingprice:t.sellingprice,expirationdate:t.expiration_date,taxinclusive:t.taxinclusive,producttype:t.producttype,branchID:t.branchID,discount:t.discount,restocklevel:null!=t.restocklevel?t.restocklevel:0,productfeatures:t.productfeatureinfo,categoryID:t.categoryID,id:t.id,photo:t.photo,photo2:t.photo2,photo3:t.photo3,photo4:t.photo4},this.$refs.features.productFeatures=this.formData.productfeatures,this.branchID=t.branchID}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listBranches(),this.listProductCategory()}}}).call(e,a("7t+N"))},UclR:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.productFeatures,function(e,s){return a("div",{key:s,staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Select Special Feature")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.featureID,expression:"input.featureID"}],staticClass:"filter-btn box-deco-smallr",on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"featureID",a.target.multiple?s:s[0])}}},[0==s?a("option",{attrs:{value:""}},[t._v("None")]):t._e(),t._l(t.features,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.featurename)+"\n                  ")])})],2)])]),a("label",{staticClass:"form-input"},[t._m(0,!0),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"input.price"}],attrs:{type:"number",required:""},domProps:{value:e.price},on:{input:function(a){a.target.composing||t.$set(e,"price",a.target.value)}}})])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s==t.productFeatures.length-1,expression:"k == productFeatures.length-1"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.addChild(s)}}},[t._v("\n        Add More\n        ")])]),a("label",{directives:[{name:"show",rawName:"v-show",value:s||!s&&t.productFeatures.length>1,expression:"k || ( !k && productFeatures.length > 1)"}],staticClass:"form-input"},[a("button",{staticClass:"btn btn-icon",attrs:{type:"button"},on:{click:function(e){return t.removeChild(s)}}},[t._v("\n        Remove Above Feature\n        ")])])])}),0)};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Selling Price "),e("span",{staticStyle:{color:"red"}},[this._v("*")])])}]};e.a=r},X1X0:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex-width-1-1 less-gp"},["none"==t.file||void 0==t.file||""==t.file?a("img",{style:t.image?"margin: auto; ":"",attrs:{id:t.pic,src:t.image,alt:""}}):a("img",{staticStyle:{"margin-right":"auto","margin-left":"auto",width:"200px",height:"200px"},attrs:{id:t.pic,src:t.file,alt:""}})]),t.image||t.file?a("div",[a("button",{staticClass:"btn btn--primary",on:{click:t.removeImage}},[t._v("Change image")])]):a("div",[a("div",{staticClass:"form-input__input"},[a("input",{attrs:{id:"img_url",type:"file",accept:".png, .jpg, .jpeg"},on:{change:t.onFileChange}})])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(a("C4MV"));e.default=function(t,e,a){return e in t?(0,s.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},d9OV:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".btn--primary[data-v-fb16ccc0]{margin-bottom:2px!important}.btn[data-v-fb16ccc0]{padding:9.6px 19.2px;padding:.6rem 1.2rem}",""])},dxbT:function(t,e,a){var s=a("d9OV");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("43013b91",s,!1,{sourceMap:!1})},f9bK:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"inner-main-wrapper",staticStyle:{padding:"0"}},[a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Select Type")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.productTypes},model:{value:t.formData.producttype,callback:function(e){t.$set(t.formData,"producttype",e)},expression:"formData.producttype"}})],1),t.errorData.producttype?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a product type")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Select Category")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.categories},model:{value:t.formData.categoryID,callback:function(e){t.$set(t.formData,"categoryID",e)},expression:"formData.categoryID"}})],1),t.errorData.categoryID?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a category")]):t._e()])]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("SKU (Product code)")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productcode,expression:"formData.productcode"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.productcode},on:{input:function(e){e.target.composing||t.$set(t.formData,"productcode",e.target.value)}}})]),t.errorData.productcode?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product code")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productname,expression:"formData.productname"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.productname},on:{input:function(e){e.target.composing||t.$set(t.formData,"productname",e.target.value)}}})]),t.errorData.productname?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product name")]):t._e()])]),a("div",{class:"stocked_product"==t.formData.producttype?"flex-width-1-3 less-gp":"flex-width-1-2 less-gp"},["stocked_product"==t.formData.producttype?a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Stock/ Quantity")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.stockqty,expression:"formData.stockqty"}],attrs:{type:"text",readonly:this.stockqty==this.formData.stockqty&&this.producttype==this.formData.producttype,placeholder:""},domProps:{value:t.formData.stockqty},on:{input:function(e){e.target.composing||t.$set(t.formData,"stockqty",e.target.value)}}})]),t.errorData.stockqty?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a stock")]):t._e()]):t._e(),"stocked_product"==t.formData.producttype?a("label",{staticClass:"form-input"},[t._m(0),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.restocklevel,expression:"formData.restocklevel"}],attrs:{type:"text",placeholder:""},domProps:{value:t.formData.restocklevel},on:{input:function(e){e.target.composing||t.$set(t.formData,"restocklevel",e.target.value)}}})]),t.errorData.restocklevel?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a re order stock")]):t._e()]):t._e()]),a("add-product-feature",{ref:"features",attrs:{featuresList:t.formData.productfeatures}}),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Branch")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.branches},model:{value:t.formData.branchID,callback:function(e){t.$set(t.formData,"branchID",e)},expression:"formData.branchID"}})],1),t.errorData.branchID?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a branch")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v(" Tax Inclusive ")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.taxinclusive},model:{value:t.formData.taxinclusive,callback:function(e){t.$set(t.formData,"taxinclusive",e)},expression:"formData.taxinclusive"}})],1)]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Expiry Date")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.expirationdate,expression:"formData.expirationdate"}],attrs:{type:"date",placeholder:""},domProps:{value:t.formData.expirationdate},on:{input:function(e){e.target.composing||t.$set(t.formData,"expirationdate",e.target.value)}}})]),t.errorData.expirationdate?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select an expiration date")]):t._e()])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Description")]),a("div",{staticClass:"form-input__input"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formData.productdescription,expression:"formData.productdescription"}],attrs:{rows:"5"},domProps:{value:t.formData.productdescription},on:{input:function(e){e.target.composing||t.$set(t.formData,"productdescription",e.target.value)}}})]),t.errorData.productdescription?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter a product description")]):t._e()]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(1),a("image-crop",{ref:"editPhoto1",attrs:{update:t.formData.photo,pic:"editPhoto1"},on:{image:function(e){t.photo1=e}}}),t.errorData.photo1?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 1 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(2),a("image-crop",{ref:"editPhoto2",attrs:{update:t.formData.photo2,pic:"editPhoto2"},on:{image:function(e){t.photo2=e}}}),t.errorData.photo2?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 2 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(3),a("image-crop",{ref:"editPhoto3",attrs:{update:t.formData.photo3,pic:"editPhoto3"},on:{image:function(e){t.photo3=e}}}),t.errorData.photo3?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 3 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"flex-width-1-1 less-gp"},[a("label",{staticClass:"form-input"},[t._m(4),a("image-crop",{ref:"editPhoto4",attrs:{update:t.formData.photo4,pic:"editPhoto4"},on:{image:function(e){t.photo4=e}}}),t.errorData.photo4?a("span",{staticClass:"form-input__error-msg"},[t._v("Photo 4 size must be 400px * 400px")]):t._e()],1)]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn-no-fill",attrs:{type:"button"},on:{click:t.cancelForm}},[t._v("\n              Cancel\n            ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"editProductBtn"},on:{click:t.saveEditProduct}},[t._v("\n              + Update product\n            ")])])],1)};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Re-order Level"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 1 "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 2 "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 3 "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"form-input__label"},[this._v("Photo 4 "),e("span",{staticStyle:{"font-size":"smaller"}},[this._v("(400px * 400px)")])])}]};e.a=r},frkG:function(t,e,a){"use strict";var s=a("pwa9"),r=a("Mf7U"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/AddProduct.vue",e.a=o.exports},hP7Y:function(t,e,a){"use strict";e.a={layout:"main",props:["featuresList"],data:function(){return{loading:!0,formData:{merchID:0},features:[],productFeatures:[{price:"",featureID:""}]}},methods:{listFeatures:function(){var t=this;this.$store.dispatch("products/listFeatures",this.formData.merchID).then(function(e){t.loading=!1,t.features=e.data.data}).catch(function(e){t.loading=!1})},addChild:function(){this.productFeatures.push({price:"",featureID:""})},removeChild:function(t){this.productFeatures.splice(t,1)}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listFeatures(),this.productFeatures=this.featuresList}}},hYtS:function(t,e,a){"use strict";var s=a("M2Sb"),r=a("zTfd"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/Pagination.vue",e.a=o.exports},hp28:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("GDUT"),r=a("Ci8t"),o=!1;var i=function(t){o||a("dxbT")},n=a("VU/8")(s.a,r.a,!1,i,"data-v-fb16ccc0",null);n.options.__file="pages/products/index.vue",e.default=n.exports},jP15:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-auto w-500"},[t.user.bankname?a("form",{on:{submit:function(e){return e.preventDefault(),t.updateOtherSettings.apply(null,arguments)}}},[a("div",{staticClass:"flex-width-1-1 less-gp"},[a("div",{staticClass:"form-input__input p-1"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Display On E-commerce")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{options:t.value},model:{value:t.formData.displayeccommerce,callback:function(e){t.$set(t.formData,"displayeccommerce",e)},expression:"formData.displayeccommerce"}})],1)])]),t._m(0)])]):a("bank-details")],1)])};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{staticClass:"form-input pt-1"},[e("div",{},[e("button",{staticClass:"btn btn--primary mt-2",attrs:{type:"submit",id:"eccommerceBtn"}},[this._v("\n\t\t\t\t\t\t\tUpdate Information\n\t\t\t\t\t\t")])])])}]};e.a=r},kdQO:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"",""])},nbbV:function(t,e,a){"use strict";(function(t){var s=a("Xxa5"),r=a.n(s),o=a("exGp"),i=a.n(o);e.a={layout:"main",data:function(){return{formData:{merchantid:"",businessdescription:"",businessfacebook:"",businesstwitter:"",merchantemailaddress:"",miniorderamount:"",businessinstagram:"",businesslinkedln:"",businessname:"",businesswebsite:"",rcnumber:"",bankname:"",bankcode:"",businesslogo:"",accountnumber:"",accountname:"",displayeccommerce:""},userDetails:{},otherSettingsData:{minorder:!1},bankErrorData:{bankname:!1,accountnumber:!1,accountname:!1},banks:[],value:[{id:1,text:"Yes"},{id:0,text:"No"}]}},methods:{onSetBank:function(){var t=this;this.formData.bankcode=this.banks.find(function(e){return e.name=t.formData.bankname}).code},getBanks:function(){var t=i()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("settings/activeBanks");case 2:t.t0=function(t){return t.id=t.name,t.text=t.name,t},this.banks=t.sent.data.data.map(t.t0);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),cancelBank:function(){UIkit.modal("#change").toggle("hide")},validateBankInfo:function(){return""===this.formData.bankname?(this.bankErrorData.bankname=!0,!0):""===this.formData.accountnumber||10!=this.formData.accountnumber.toString().length?(this.bankErrorData.accountnumber=!0,!0):""===this.formData.accountname&&(this.bankErrorData.accountname=!0,!0)},updateBankInfo:function(){var e=this;this.validateBankInfo()||(this.onSetBank(),t("#bankInfoBtn").attr("disabled",!0).html("Updating...Please wait"),this.$store.dispatch("settings/updateUserInfo",this.formData).then(function(a){t("#bankInfoBtn").attr("disabled",!1).html("+ Update bank details"),a.data.status&&(e.setData(a.data.data),e.$toast.success("Record was updated successfully"))}).catch(function(e){t("#bankInfoBtn").attr("disabled",!1).html("+ Update bank details")}))},setFormData:function(){this.formData={merchantid:this.userDetails.id,businessdescription:this.userDetails.businessdescription,businessfacebook:this.userDetails.businessfacebook,businesstwitter:this.userDetails.businesstwitter,merchantemailaddress:this.userDetails.merchantemailaddress,miniorderamount:this.userDetails.miniorderamount,businessinstagram:this.userDetails.businessinstagram,businesslinkedln:this.userDetails.businesslinkedln,businessname:this.userDetails.businessname,rcnumber:this.userDetails.rcnumber,bankname:this.userDetails.bankname,bankcode:"",accountnumber:this.userDetails.accountnumber,accountname:this.userDetails.accountname,displayeccommerce:this.userDetails.displayeccommerce?1:0,businesslogo:"",endofday:this.userDetails.endofday,businesswebsite:this.userDetails.businesswebsite}}},mounted:function(){this.userDetails=this.user,this.setFormData(),this.getBanks()}}}).call(e,a("7t+N"))},pwa9:function(t,e,a){"use strict";(function(t){var s=a("Xxa5"),r=a.n(s),o=a("mvHQ"),i=a.n(o),n=a("exGp"),c=a.n(n),l=a("s8OY"),u=a("4Ovz");e.a={components:{ImageCrop:u.a,AddProductFeature:l.a},layout:"main",computed:{product:function(){return this.$store.getters["products/getProduct"]}},data:function(){return{formData:{merchID:"",productcode:"",productname:"",productdescription:"",stockqty:0,sellingprice:"",expirationdate:"",producttype:"",branchID:"",discount:"",restocklevel:0,productfeatures:[{price:"",featureID:""}],categoryID:""},nonstockedForm:!1,stockedForm:!1,serviceForm:!1,productTypes:[{id:"nonstocked_product",text:"Non-stocked product"},{id:"stocked_product",text:"Stocked product"},{id:"service",text:"Service"}],taxinclusive:[{id:!0,text:"Yes"},{id:!1,text:"No"}],branches:[],categories:[],productDescription:"",errorData:{productcode:!1,productname:!1,productdescription:!1,stockqty:!1,sellingprice:!1,expirationdate:!1,producttype:!1,discount:!1,branchID:!1,restocklevel:!1,categoryID:!1,photo1:!1,photo2:!1,photo3:!1,photo4:!1},photo1:"",photo2:"",photo3:"",photo4:"",imageData:{img1width:0,img1height:0,img2width:0,img2height:0,img3width:0,img3height:0,img4width:0,img4height:0}}},methods:{getFeatures:function(){this.$refs.features.listFeatures()},createProduct:function(){var e=c()(r.a.mark(function e(){var a,s,o=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""==this.$refs.features.productFeatures[0].featureID?this.formData.sellingprice=this.$refs.features.productFeatures[0].price:this.formData.sellingprice=0,!this.validateFormData()){e.next=3;break}return e.abrupt("return");case 3:return a=null==this.formData.expirationdate||""==this.formData.expirationdate?"":this.formData.expirationdate,this.formData.expirationdate=a,s=new FormData,""==this.formData.restocklevel&&(this.formData.restocklevel=0),s.append("merchID",this.formData.merchID),s.append("taxinclusive",this.formData.taxinclusive),s.append("productcode",this.formData.productcode),s.append("productname",this.formData.productname),s.append("productdescription",this.formData.productdescription),s.append("stockqty",this.formData.stockqty),s.append("discount",this.formData.discount),s.append("sellingprice",this.formData.sellingprice),s.append("expiration_date",a),s.append("producttype",this.formData.producttype),s.append("branchID",this.formData.branchID),s.append("categoryID",this.formData.categoryID),s.append("restocklevel",this.formData.restocklevel),this.$refs.features.productFeatures.length>1?(""==this.$refs.features.productFeatures[0].featureID&&this.$refs.features.productFeatures.splice(0,1),s.append("productfeatures",i()(this.$refs.features.productFeatures))):s.append("productfeatures",i()([])),e.next=23,this.$refs.photo1.getImage();case 23:return e.next=25,this.$refs.photo3.getImage();case 25:return e.next=27,this.$refs.photo4.getImage();case 27:return e.next=29,this.$refs.photo2.getImage();case 29:(this.photo1.length>0||""!=this.photo1)&&(s.append("photo",this.photo1,"file1."+this.photo1.type.split("/")[1]),this.formData.photo=this.photo1),(this.photo2.length>0||""!=this.photo2)&&(s.append("photo2",this.photo2,"file2."+this.photo2.type.split("/")[1]),this.formData.photo2=this.photo2),(this.photo3.length>0||""!=this.photo3)&&(s.append("photo3",this.photo3,"file3."+this.photo3.type.split("/")[1]),this.formData.photo3=this.photo3),(this.photo4.length>0||""!=this.photo4)&&(s.append("photo4",this.photo4,"file4."+this.photo4.type.split("/")[1]),this.formData.photo4=this.photo4),t("#createProductBtn").attr("disabled",!0).html("Creating..please wait"),this.$store.dispatch("products/saveProduct",s).then(function(e){if(t("#createProductBtn").attr("disabled",!1).html("+ Create product"),e.data.status)return o.$toast.success(e.data.message),o.clearForm(),o.$emit("refresh"),void UIkit.modal("#add-product").toggle();o.$toast.error(e.data.message)}).catch(function(e){o.$toast.error("An error occurred."),t("#createProductBtn").attr("disabled",!1).html("+ Create product")});case 35:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearValidation:function(){this.errorData={productcode:!1,productname:!1,discount:!1,productdescription:!1,stockqty:!1,sellingprice:!1,expirationdate:!1,producttype:!1,restocklevel:!1,branchID:!1,categoryID:!1,photo1:!1,photo2:!1,photo3:!1,photo4:!1}},validateFormData:function(){return this.clearValidation(),""===this.formData.producttype?(this.errorData.producttype=!0,!0):""===this.formData.categoryID?(this.errorData.categoryID=!0,!0):""===this.formData.productname?(this.errorData.productname=!0,!0):""===this.formData.sellingprice?(this.errorData.sellingprice=!0,!0):"stocked_product"!=this.formData.producttype||0!=this.formData.restocklevel&&""!=this.formData.restocklevel?""===this.formData.branchID?(this.errorData.branchID=!0,!0):""===this.formData.productdescription&&(this.errorData.productdescription=!0,!0):(this.errorData.restocklevel=!0,!0)},cancelAdd:function(){this.clearForm(),UIkit.modal("#add-product").toggle()},clearForm:function(){this.formData={productcode:"",productname:"",productdescription:"",stockqty:"",sellingprice:"",expirationdate:"",discount:"",producttype:"",restocklevel:0,productfeatures:[{featureID:"",price:""}],categoryID:""},this.formData.merchID=this.user.id},listBranches:function(){var t=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(e){var a=[];e.data.data.forEach(function(t){var e={id:t.id,text:t.branchname};a.push(e)}),t.branches=a})},listProductCategory:function(){var t=this;this.$store.dispatch("category/getCategories",this.formData.merchID).then(function(e){var a=[];e.data.data.forEach(function(t){var e={id:t.id,text:t.categoryname};a.push(e)}),t.categories=a})}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.listBranches(),this.listProductCategory()},created:function(){}}}).call(e,a("7t+N"))},s8OY:function(t,e,a){"use strict";var s=a("hP7Y"),r=a("UclR"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/AddProductFeature.vue",e.a=o.exports},u7RW:function(t,e,a){"use strict";(function(t){var s=a("34Sr");e.a={layout:"main",components:{BankDetails:s.a},data:function(){return{formData:{merchantid:"",businessdescription:"",businessfacebook:"",businesstwitter:"",merchantemailaddress:"",miniorderamount:"",businessinstagram:"",businesslinkedln:"",businessname:"",businesswebsite:"",rcnumber:"",bankname:"",businesslogo:"",accountnumber:"",accountname:"",displayeccommerce:""},userDetails:{},otherSettingsData:{minorder:!1},value:[{id:1,text:"Yes"},{id:0,text:"No"}]}},methods:{updateOtherSettings:function(){var e=this;this.userDetails=this.user,this.setFormData(),this.otherSettingsData.minorder=!1,""!==this.formData.displayeccommerce?(t("#eccommerceBtn").attr("disabled",!0).html("Updating...."),this.$store.dispatch("settings/updateUserInfo",this.formData).then(function(a){if(t("#eccommerceBtn").attr("disabled",!1).html("Updating Information"),a.data.status)return e.setData(a.data.data),void e.$toast.success("Settings was updated successfully");e.$toast.error("An error occurred")}).catch(function(e){t("#eccommerceBtn").attr("disabled",!1).html("Update Information")})):this.otherSettingsData.minorder=!0},setFormData:function(){this.formData.merchantid=this.userDetails.id,this.formData.businessdescription=this.userDetails.businessdescription,this.formData.businessfacebook=this.userDetails.businessfacebook,this.formData.businesstwitter=this.userDetails.businesstwitter,this.formData.merchantemailaddress=this.userDetails.merchantemailaddress,this.formData.miniorderamount=this.userDetails.miniorderamount,this.formData.businessinstagram=this.userDetails.businessinstagram,this.formData.businesslinkedln=this.userDetails.businesslinkedln,this.formData.businessname=this.userDetails.businessname,this.formData.rcnumber=this.userDetails.rcnumber,this.formData.bankname=this.userDetails.bankname,this.formData.accountnumber=this.userDetails.accountname,this.formData.accountname=this.userDetails.accountnumber,this.formData.endofday=this.userDetails.endofday,this.formData.businesslogo="",this.formData.businesswebsite=this.userDetails.businesswebsite}},mounted:function(){this.userDetails=this.user,this.setFormData(),this.formData.displayeccommerce=this.userDetails.displayeccommerce?1:0}}}).call(e,a("7t+N"))},vOL3:function(t,e,a){"use strict";var s=a("UJMj"),r=a("f9bK"),o=a("VU/8")(s.a,r.a,!1,null,null,null);o.options.__file="components/EditProduct.vue",e.a=o.exports},z0r6:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"mx-auto w-500"},[t._m(0),a("form",{on:{submit:function(e){return e.preventDefault(),t.updateBankInfo.apply(null,arguments)}}},[a("div",{staticClass:"modal-body",attrs:{"uk-overflow-auto":""}},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Bank name")]),a("div",{staticClass:"form-input__input"},[a("Select2",{attrs:{placeholder:"Select a Bank",options:t.banks,settings:{width:"100%"}},on:{change:t.onSetBank},model:{value:t.formData.bankname,callback:function(e){t.$set(t.formData,"bankname",e)},expression:"formData.bankname"}})],1),t.bankErrorData.accountname?a("span",{staticClass:"form-input__error-msg"},[t._v("Please select a bank")]):t._e()]),a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Account number")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.accountnumber,expression:"formData.accountnumber"}],attrs:{type:"text",placeholder:"**********"},domProps:{value:t.formData.accountnumber},on:{input:function(e){e.target.composing||t.$set(t.formData,"accountnumber",e.target.value)}}})]),t.bankErrorData.accountnumber?a("span",{staticClass:"form-input__error-msg"},[t._v("Account Number Should be 10 digits")]):t._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Account name")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.accountname,expression:"formData.accountname"}],attrs:{type:"text",placeholder:"Account name"},domProps:{value:t.formData.accountname},on:{input:function(e){e.target.composing||t.$set(t.formData,"accountname",e.target.value)}}})]),t.bankErrorData.accountname?a("span",{staticClass:"form-input__error-msg"},[t._v("Please enter an account name")]):t._e()])])]),a("div",{staticClass:"d-flx-alc-jfe mt-3"},[a("button",{staticClass:"btn btn-no-fill uk-modal-close",on:{click:t.cancelBank}},[t._v("\n                        Cancel\n                      ")]),a("button",{staticClass:"btn btn--primary ml-1",attrs:{type:"submit",id:"bankInfoBtn"}},[t._v("\n                        + Update bank details\n                      ")])])])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h2",[this._v("Set Your Bank Account")]),e("p",[this._v("Change your settlement bank details below")])])}]};e.a=r},zTfd:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flx-alc-jsb page-extras"},[a("div",{staticClass:"drop-down page-drop"},[a("button",{staticClass:"btn-text ",attrs:{type:"button"}},[t._v("\n          Showing "),a("span",[t._v(" "+t._s(t.showing)+" ")]),t._v(" of "),a("span",[t._v(" "+t._s(void 0!=this.headers.Count?this.headers.Count:0)+" ")])])]),a("div",{staticClass:"d-flx-alc"},[t.date&&"object"==typeof t.date?a("div",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date[0])+" - "+t._s(t.date[1]))]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:"string"==typeof t.date,expression:"typeof date == 'string'"}],staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.date)+" ")]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.previous}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-right"}})])]),a("button",{staticClass:"btn btn-icon smallsvg",on:{click:t.next}},[a("svg",[a("use",{attrs:{href:"/uploads/icons.svg#arrow-left"}})])])])])};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r}});