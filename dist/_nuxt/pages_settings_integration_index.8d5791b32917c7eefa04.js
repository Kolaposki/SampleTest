webpackJsonp([62],{"+zWt":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("overlay-scrollbars",{staticClass:"main-content-wrap"},[a("overlay-scrollbars",{staticClass:"page-extras d-flx-alc-jsb settings-extra"},[a("div",{staticClass:"links-wrap"},[t.isSupervisor?t._e():a("nuxt-link",{attrs:{to:"/settings"}},[t._v("Basic details")]),t.isSupervisor?t._e():a("nuxt-link",{attrs:{to:"/settings/contact-details"}},[t._v("Contact Details")]),t.isMerchant?a("nuxt-link",{attrs:{to:"/settings/change-password"}},[t._v("Change Password")]):t._e(),t.isMerchant&&!t.isCourierService?a("nuxt-link",{staticClass:"active",attrs:{to:"/settings/integration"}},[t._v("Integration")]):t._e(),t.isMerchant?a("nuxt-link",{attrs:{to:"/settings/tax"}},[t._v("Tax")]):t._e(),t.isMerchant&&!t.isCourierService?a("nuxt-link",{attrs:{to:"/settings/discount"}},[t._v("Discount")]):t._e(),t.isMerchant?a("nuxt-link",{attrs:{to:"/settings/roles"}},[t._v("Roles & Permissions")]):t._e()],1)]),a("div",{staticClass:"inner-main-wrapper"},[a("div",{staticClass:"box-deco-bg p-3"},[a("section",{staticClass:"setting-section"},[a("div",{staticClass:"setting-section-title"},[a("h2",[t._v("Set Integration details")]),a("p",[t._v("Enter details to sync with other software")])]),t.loading?a("div",{staticClass:"mx-auto r-width-500 py-5"},[t._v("\n                Loading Please Wait...\n          ")]):t._e(),t.loading?t._e():a("div",{staticClass:"mx-auto r-width-500 py-5"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.setIntegration.apply(null,arguments)}}},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Select External Software")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.tool,expression:"formData.tool"}],attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"tool",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"woocommerce"}},[t._v("WooCommerce")])])])]),"woocommerce"==t.formData.tool?a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Consumer Secret")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.consumer_secret,expression:"formData.consumer_secret"}],attrs:{type:"text",required:"",placeholder:"Enter Consumer Secret from WooCommerce Integration Settings"},domProps:{value:t.formData.consumer_secret},on:{input:function(e){e.target.composing||t.$set(t.formData,"consumer_secret",e.target.value)}}})])]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Consumer Key")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.consumer_key,expression:"formData.consumer_key"}],attrs:{type:"text",required:"",placeholder:"Enter Consumer Key from WooCommerce Integration Settings"},domProps:{value:t.formData.consumer_key},on:{input:function(e){e.target.composing||t.$set(t.formData,"consumer_key",e.target.value)}}})])])]):t._e(),"woocommerce"==t.formData.tool?a("div",{staticClass:"flex-width-1-2 less-gp"},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[t._v("Url")]),a("div",{staticClass:"form-input__input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.url,expression:"formData.url"}],attrs:{type:"text",required:"",placeholder:"https://wordpress.wajesmarthrms.website"},domProps:{value:t.formData.url},on:{input:function(e){e.target.composing||t.$set(t.formData,"url",e.target.value)}}})])]),a("div",{staticClass:"form-input"},[a("label",{staticClass:"form-input__label"},[t._v("Branch")]),a("div",{staticClass:"form-input__input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.formData.branchID,expression:"formData.branchID"}],staticClass:"filter-btn box-deco-smallr",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"branchID",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v("-Select Branch-")]),t._l(t.branches,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                        "+t._s(e.branchname)+"\n                      ")])})],2)])])]):t._e(),a("button",{staticClass:"btn btn--primary mt-2",attrs:{type:"submit",id:"submitBtn"}},[t._v("\n                Sync\n              ")])])])])])])],1)};s._withStripped=!0;var r={render:s,staticRenderFns:[]};e.a=r},"8Deh":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Npj8"),r=a("+zWt"),n=a("VU/8")(s.a,r.a,!1,null,null,null);n.options.__file="pages/settings/integration/index.vue",e.default=n.exports},Npj8:function(t,e,a){"use strict";(function(t){var s=a("fZjL"),r=a.n(s);e.a={layout:"main",data:function(){return{formData:{url:"",tool:"woocommerce",branchID:"",consumer_secret:"",consumer_key:"",merchID:""},loading:!1,branches:[]}},computed:{isCourierService:function(){return this.user.businessdescription.toLowerCase().includes("delivery")}},methods:{getAllBranches:function(){var t=this;this.$store.dispatch("branches/listBranches",this.formData.merchID).then(function(e){t.branches=e.data.data}).catch(function(t){console.log(t)})},getIntegration:function(){var t=this;this.loading=!0,this.$store.dispatch("settings/getIntegration",this.formData.merchID).then(function(e){t.loading=!1;var a=e.data.data;a&&0===r()(a).length&&a.constructor===Object||(t.formData=e.data.data)}).catch(function(t){console.log(t)})},setIntegration:function(){var e=this;this.formData.merchID=this.user.id,t("#submitBtn").attr("disabled",!0).html("Syncing..please wait"),this.$store.dispatch("settings/setIntegration",this.formData).then(function(a){t("#submitBtn").attr("disabled",!1).html("Sync"),a.data.status?e.$toast.success(a.data.message):e.$toast.error(a.data.message)}).catch(function(a){t("#submitBtn").attr("disabled",!1).html("Sync"),e.$toast.error("An error occurred")})}},mounted:function(){this.formData.merchID=this.user.role?this.user.merchID:this.user.id,this.getAllBranches(),this.getIntegration()}}}).call(e,a("7t+N"))}});