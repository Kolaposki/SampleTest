webpackJsonp([79],{"2n07":function(s,t,a){"use strict";var r=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("main",{staticClass:"main",attrs:{id:"mainContent"}},[a("div",{staticClass:"major-bg maxwidth-xxl mx-auto"},[a("div",{staticClass:"auth-wrapper"},[s._m(0),a("section",{staticClass:"auth-wrapper__main forget-password"},[a("div",{staticClass:"auth-wrapper__main--lhs"},[a("div",{staticClass:"lhs-inner-wrap"},[a("div",{staticClass:"title-svg"},[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#padlock"}})]),s._m(1)]),a("form",{staticClass:"auth-form",on:{submit:function(t){return t.preventDefault(),s.submitForm.apply(null,arguments)}}},[a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[s._v("New Password")]),a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.formData.password,expression:"formData.password"}],attrs:{id:"password",type:"password"},domProps:{value:s.formData.password},on:{input:function(t){t.target.composing||s.$set(s.formData,"password",t.target.value)}}}),a("svg",{attrs:{id:"pass"},on:{click:function(t){return s.togglePassword("password","pass","pass-off")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see"}})]),a("svg",{staticStyle:{display:"none"},attrs:{id:"pass-off"},on:{click:function(t){return s.togglePassword("password","pass-off","pass")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see-off"}})])]),s.errorData.password?a("span",{staticClass:"form-input__error-msg"},[s._v("Please enter a password")]):s._e()]),a("label",{staticClass:"form-input"},[a("span",{staticClass:"form-input__label"},[s._v("Confirm Password")]),a("label",{staticClass:"search-w-icon"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.password_confirmation,expression:"password_confirmation"}],attrs:{id:"confirmpassword",type:"password"},domProps:{value:s.password_confirmation},on:{input:function(t){t.target.composing||(s.password_confirmation=t.target.value)}}}),a("svg",{attrs:{id:"pass"},on:{click:function(t){return s.togglePassword("confirmpassword","see","see-off")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see"}})]),a("svg",{staticStyle:{display:"none"},attrs:{id:"see-off"},on:{click:function(t){return s.togglePassword("confirmpassword","see-off","see")}}},[a("use",{attrs:{href:"/uploads/icons.svg#see-off"}})])]),s.errorData.confirmpassword?a("span",{staticClass:"form-input__error-msg"},[s._v(s._s(s.errorData.message))]):s._e()]),a("button",{staticClass:"btn btn--primary auth-btn",attrs:{type:"submit",id:"submitBtn"}},[s._v(" Reset password")])]),a("p",{staticClass:"aut-nav"},[s._v("\n              Do you have an account? "),a("nuxt-link",{attrs:{to:"/"}},[s._v("Sign in")])],1)])]),a("div",{staticClass:"auth-wrapper__main--rhs"},[a("svg",[a("use",{attrs:{"xlink:href":"/uploads/icons.svg#overlap"}})]),a("h2",[s._v("Don’t Worry It happens to the best of us")])])]),s._m(2)])])])};r._withStripped=!0;var e={render:r,staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("header",{staticClass:"auth-logo mb-3"},[t("img",{attrs:{src:"/uploads/logo.png",alt:"NTISA Logo"}})])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"cont-holder ml-1h"},[t("h1",{staticClass:"aut-page-title"},[this._v("\n                  Reset password\n                ")]),t("p",{staticClass:"aut-page-text"},[this._v("\n                  Enter the details to reset your password\n                ")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"legal"},[t("div",{staticClass:"legal-links"},[t("a",{attrs:{href:""}},[this._v("privacy")]),t("a",{attrs:{href:""}},[this._v("Terms")])]),t("p",[this._v("All rights reserved © 2020 Ntisa")])])}]};t.a=e},"5SYM":function(s,t,a){"use strict";(function(s){t.a={layout:"default",data:function(){return{formData:{userid:"",password:""},password_confirmation:"",errorData:{password:!1,confirmpassword:!1,message:""}}},methods:{submitForm:function(){var t=this;this.validateForm()||(s("#submitBtn").attr("disabled",!0).html("Resetting..please wait"),this.$store.dispatch("forgot-password/passwordReset",this.formData).then(function(a){if(s("#submitBtn").attr("disabled",!1).html("Reset Password"),"False"!==a.data.status)return t.$toast.success(a.data.message),t.clearFormData(),void t.$router.push("/");t.$toast.error(a.data.message)}).catch(function(a){s("#submitBtn").attr("disabled",!1).html("Reset Password"),t.$toast.error("An error occurred! Please try again")}))},clearFormData:function(){this.formData={userid:"",password:""}},validateForm:function(){return this.clearErrorMessage(),""===this.formData.password?(this.errorData.password=!0,!0):""===this.password_confirmation?(this.errorData.confirmpassword=!0,this.message="Please enter a password confirmation",!0):""!==this.formData.password&&this.formData.password!==this.password_confirmation&&(this.errorData.confirmpassword=!0,this.message="Password and confirm password does not match",!0)},clearErrorMessage:function(){this.errorData={password:!1,confirmpassword:!1,message:""}}},mounted:function(){this.formData.userid=this.$route.query.token}}}).call(t,a("7t+N"))},mKT1:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("5SYM"),e=a("2n07"),o=a("VU/8")(r.a,e.a,!1,null,null,null);o.options.__file="pages/forgot-password/reset.vue",t.default=o.exports}});